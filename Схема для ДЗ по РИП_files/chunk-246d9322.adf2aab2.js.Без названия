(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-246d9322"],{"0349":function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var a=n("d4ec"),r=n("bee2"),i=n("262e"),o=n("2caf"),c=n("a242"),l=n("3835"),s=(n("8a79"),n("18a5"),n("ac1f"),n("466d"),n("cea4")),u=n("553a"),d=n("b85c"),g=(n("a630"),n("3ca3"),n("4de4"),n("d3b7"),n("159b"),n("1276"),n("4fdd"));
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function f(e){var t,n=e.t,a=e.config.get("codeBlock.languages"),r=Object(d["a"])(a);try{for(r.s();!(t=r.n()).done;){var i=t.value;"Plain text"===i.label&&(i.label=n("Plain text")),void 0===i.class&&(i.class="language-".concat(i.language))}}catch(o){r.e(o)}finally{r.f()}return a}function p(e,t,n){var a,r={},i=Object(d["a"])(e);try{for(i.s();!(a=i.n()).done;){var o=a.value;"class"===t?r[o[t].split(" ").shift()]=o[n]:r[o[t]]=o[n]}}catch(c){i.e(c)}finally{i.f()}return r}function v(e){return e.data.match(/^(\s*)/)[0]}function h(e,t){var n=e.createDocumentFragment(),a=t.split("\n"),r=a.reduce((function(t,n,r){return t.push(n),r<a.length-1&&t.push(e.createElement("br")),t}),[]);return e.appendChild(r,n),n}function m(e){var t=e.document.selection,n=[];if(t.isCollapsed)n.push(t.anchor);else{var a,r=t.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"}),i=Object(d["a"])(r);try{for(i.s();!(a=i.n()).done;){var o=a.value.item;if(o.is("$textProxy")&&o.parent.is("element","codeBlock")){var c=v(o.textNode),l=o.textNode,s=l.parent,u=l.startOffset,g=e.createPositionAt(s,u+c.length);n.push(g)}}}catch(f){i.e(f)}finally{i.f()}}return n}function b(e){var t=Object(g["j"])(e.getSelectedBlocks());return t&&t.is("element","codeBlock")}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var k=function(e){Object(i["a"])(n,e);var t=Object(o["a"])(n);function n(e){var r;return Object(a["a"])(this,n),r=t.call(this,e),r._lastLanguage=null,r}return Object(r["a"])(n,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor,a=n.model,r=a.document.selection,i=f(n),o=i[0],c=Array.from(r.getSelectedBlocks()),l=void 0===t.forceValue?!this.value:t.forceValue,s=_(t,this._lastLanguage,o.language);a.change((function(t){l?e._applyCodeBlock(t,c,s):e._removeCodeBlock(t,c)}))}},{key:"_getValue",value:function(){var e=this.editor.model.document.selection,t=Object(g["j"])(e.getSelectedBlocks()),n=!(!t||!t.is("element","codeBlock"));return!!n&&t.getAttribute("language")}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var e=this.editor.model.document.selection,t=this.editor.model.schema,n=Object(g["j"])(e.getSelectedBlocks());return!!n&&y(t,n)}},{key:"_applyCodeBlock",value:function(e,t,n){this._lastLanguage=n;var a,r=this.editor.model.schema,i=t.filter((function(e){return y(r,e)})),o=Object(d["a"])(i);try{var c=function(){var t=a.value;e.rename(t,"codeBlock"),e.setAttribute("language",n,t),r.removeDisallowedAttributes([t],e),Array.from(t.getChildren()).filter((function(e){return!r.checkChild(t,e)})).forEach((function(t){return e.remove(t)}))};for(o.s();!(a=o.n()).done;)c()}catch(l){o.e(l)}finally{o.f()}i.reverse().forEach((function(t,n){var a=i[n+1];t.previousSibling===a&&(e.appendElement("softBreak",a),e.merge(e.createPositionBefore(t)))}))}},{key:"_removeCodeBlock",value:function(e,t){var n,a=t.filter((function(e){return e.is("element","codeBlock")})),r=Object(d["a"])(a);try{for(r.s();!(n=r.n()).done;){var i,o=n.value,c=e.createRangeOn(o),l=Object(d["a"])(Array.from(c.getItems()).reverse());try{for(l.s();!(i=l.n()).done;){var s=i.value;if(s.is("element","softBreak")&&s.parent.is("element","codeBlock")){var u=e.split(e.createPositionBefore(s)),g=u.position;e.rename(g.nodeAfter,"paragraph"),e.removeAttribute("language",g.nodeAfter),e.remove(s)}}}catch(f){l.e(f)}finally{l.f()}e.rename(o,"paragraph"),e.removeAttribute("language",o)}}catch(f){r.e(f)}finally{r.f()}}}]),n}(c["a"]);function y(e,t){return!t.is("rootElement")&&!e.isLimit(t)&&e.checkChild(t.parent,"codeBlock")}function _(e,t,n){return e.language?e.language:e.usePreviousLanguageChoice&&t?t:n}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var O=function(e){Object(i["a"])(n,e);var t=Object(o["a"])(n);function n(e){var r;return Object(a["a"])(this,n),r=t.call(this,e),r._indentSequence=e.config.get("codeBlock.indentSequence"),r}return Object(r["a"])(n,[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,t=this.editor,n=t.model;n.change((function(t){var a,r=m(n),i=Object(d["a"])(r);try{for(i.s();!(a=i.n()).done;){var o=a.value;t.insertText(e._indentSequence,o)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"_checkEnabled",value:function(){return!!this._indentSequence&&b(this.editor.model.document.selection)}}]),n}(c["a"]),w=function(e){Object(i["a"])(n,e);var t=Object(o["a"])(n);function n(e){var r;return Object(a["a"])(this,n),r=t.call(this,e),r._indentSequence=e.config.get("codeBlock.indentSequence"),r}return Object(r["a"])(n,[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,t=this.editor,n=t.model;n.change((function(t){var a,r=m(n),i=Object(d["a"])(r);try{for(i.s();!(a=i.n()).done;){var o=a.value,c=D(e.editor.model,o,e._indentSequence);c&&t.remove(c)}}catch(l){i.e(l)}finally{i.f()}}))}},{key:"_checkEnabled",value:function(){var e=this;if(!this._indentSequence)return!1;var t=this.editor.model;return!!b(t.document.selection)&&m(t).some((function(n){return D(t,n,e._indentSequence)}))}}]),n}(c["a"]);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function D(e,t,n){var a=j(t);if(!a)return null;var r=v(a),i=r.lastIndexOf(n);if(i+n.length!==r.length)return null;if(-1===i)return null;var o=a.parent,c=a.startOffset;return e.createRange(e.createPositionAt(o,c+i),e.createPositionAt(o,c+i+n.length))}function j(e){var t=e.parent.getChild(e.index);return t&&!t.is("element","softBreak")||(t=e.nodeBefore),!t||t.is("element","softBreak")?null:t}var T=n("2909");n("b0c0"),n("00b4"),n("d81d");
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=p(t,"language","class"),r=p(t,"language","label");return function(t,i,o){var c=o.writer,l=o.mapper,s=o.consumable;if(s.consume(i.item,"insert")){var u=i.item.getAttribute("language"),d=l.toViewPosition(e.createPositionBefore(i.item)),g={};n&&(g["data-language"]=r[u],g.spellcheck="false");var f=c.createContainerElement("pre",g),p=c.createContainerElement("code",{class:a[u]||null});c.insert(c.createPositionAt(f,0),p),c.insert(d,f),l.bindElements(i.item,p)}}}function A(e){return function(t,n,a){if("codeBlock"===n.item.parent.name){var r=a.writer,i=a.mapper,o=a.consumable;if(o.consume(n.item,"insert")){var c=i.toViewPosition(e.createPositionBefore(n.item));r.insert(c,r.createText("\n"))}}}}function R(e,t){var n=p(t,"class","language"),a=t[0].language;return function(e,t,r){var i=t.viewItem,o=i.parent;if(o&&o.is("element","pre")&&!t.modelCursor.findAncestor("codeBlock")){var c=r.consumable,l=r.writer;if(c.test(i,{name:!0})){var s=l.createElement("codeBlock"),u=Object(T["a"])(i.getClassNames());u.length||u.push("");var g,f=Object(d["a"])(u);try{for(f.s();!(g=f.n()).done;){var p=g.value,v=n[p];if(v){l.setAttribute("language",v,s);break}}}catch(h){f.e(h)}finally{f.f()}s.hasAttribute("language")||l.setAttribute("language",a,s),r.convertChildren(i,s),r.safeInsert(s,t.modelCursor)&&(c.consume(i,{name:!0}),r.updateConversionResult(s,t))}}}}function E(){return function(e,t,n){var a=n.consumable,r=n.writer,i=t.modelCursor;if(a.test(t.viewItem)&&i.findAncestor("codeBlock")){a.consume(t.viewItem);var o,c=t.viewItem.data,l=c.split("\n").map((function(e){return r.createText(e)})),s=l[l.length-1],u=Object(d["a"])(l);try{for(u.s();!(o=u.n()).done;){var g=o.value;if(r.insert(g,i),i=i.getShiftedBy(g.offsetSize),g!==s){var f=r.createElement("softBreak");r.insert(f,i),i=r.createPositionAfter(f)}}}catch(p){u.e(p)}finally{u.f()}t.modelRange=r.createRange(t.modelCursor,i),t.modelCursor=i}}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var B="paragraph",S=function(e){Object(i["a"])(n,e);var t=Object(o["a"])(n);function n(e){var r;return Object(a["a"])(this,n),r=t.call(this,e),e.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"\t"}),r}return Object(r["a"])(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.model.schema,a=t.model,r=t.editing.view,i=f(t);t.commands.add("codeBlock",new k(t)),t.commands.add("indentCodeBlock",new O(t)),t.commands.add("outdentCodeBlock",new w(t));var o=function(t){return function(n,a){var r=e.editor.commands.get(t);r.isEnabled&&(e.editor.execute(t),a())}};t.keystrokes.set("Tab",o("indentCodeBlock")),t.keystrokes.set("Shift+Tab",o("outdentCodeBlock")),n.register("codeBlock",{allowWhere:"$block",allowChildren:"$text",isBlock:!0,allowAttributes:["language"]}),n.addAttributeCheck((function(e){if(e.endsWith("codeBlock $text"))return!1})),t.model.schema.addChildCheck((function(e,t){if(e.endsWith("codeBlock")&&t.isObject)return!1})),t.editing.downcastDispatcher.on("insert:codeBlock",C(a,i,!0)),t.data.downcastDispatcher.on("insert:codeBlock",C(a,i)),t.data.downcastDispatcher.on("insert:softBreak",A(a),{priority:"high"}),t.data.upcastDispatcher.on("element:code",R(r,i)),t.data.upcastDispatcher.on("text",E()),this.listenTo(t.editing.view.document,"clipboardInput",(function(e,n){var r=a.createRange(a.document.selection.anchor);if(n.targetRanges&&(r=t.editing.mapper.toModelRange(n.targetRanges[0])),r.start.parent.is("element","codeBlock")){var i=n.dataTransfer.getData("text/plain"),o=new u["k"](t.editing.view.document);n.content=h(o,i)}})),this.listenTo(a,"getSelectedContent",(function(e,t){var r=Object(l["a"])(t,1),i=r[0],o=i.anchor;!i.isCollapsed&&o.parent.is("element","codeBlock")&&o.hasSameParentAs(i.focus)&&a.change((function(t){var a=e.return;if(a.childCount>1||i.containsEntireContent(o.parent)){var r=t.createElement("codeBlock",o.parent.getAttributes());t.append(a,r);var c=t.createDocumentFragment();t.append(r,c),e.return=c}else{var l=a.getChild(0);n.checkAttribute(l,"code")&&t.setAttribute("code",!0,l)}}))}))}},{key:"afterInit",value:function(){var e=this.editor,t=e.commands,n=t.get("indent"),a=t.get("outdent");n&&n.registerChildCommand(t.get("indentCodeBlock")),a&&a.registerChildCommand(t.get("outdentCodeBlock")),this.listenTo(e.editing.view.document,"enter",(function(t,n){var a=e.model.document.selection.getLastPosition().parent;a.is("element","codeBlock")&&(x(e,n.isSoft)||M(e,n.isSoft)||P(e),n.preventDefault(),t.stop())}),{context:"pre"})}}],[{key:"pluginName",get:function(){return"CodeBlockEditing"}},{key:"requires",get:function(){return[s["b"]]}}]),n}(c["g"]);function P(e){var t,n=e.model,a=n.document,r=a.selection.getLastPosition(),i=r.nodeBefore||r.textNode;i&&i.is("$text")&&(t=v(i)),e.model.change((function(n){e.execute("shiftEnter"),t&&n.insertText(t,a.selection.anchor)}))}function x(e,t){var n=e.model,a=n.document,r=e.editing.view,i=a.selection.getLastPosition(),o=i.nodeAfter;return!(t||!a.selection.isCollapsed||!i.isAtStart)&&(!!L(o)&&(e.model.change((function(t){e.execute("enter");var n=a.selection.anchor.parent.previousSibling;t.rename(n,B),t.setSelection(n,"in"),e.model.schema.removeDisallowedAttributes([n],t),t.remove(o)})),r.scrollToTheSelection(),!0))}function M(e,t){var n,a=e.model,r=a.document,i=e.editing.view,o=r.selection.getLastPosition(),c=o.nodeBefore;if(t||!r.selection.isCollapsed||!o.isAtEnd||!c||!c.previousSibling)return!1;if(L(c)&&L(c.previousSibling))n=a.createRange(a.createPositionBefore(c.previousSibling),a.createPositionAfter(c));else if(I(c)&&L(c.previousSibling)&&L(c.previousSibling.previousSibling))n=a.createRange(a.createPositionBefore(c.previousSibling.previousSibling),a.createPositionAfter(c));else{if(!(I(c)&&L(c.previousSibling)&&I(c.previousSibling.previousSibling)&&L(c.previousSibling.previousSibling.previousSibling)))return!1;n=a.createRange(a.createPositionBefore(c.previousSibling.previousSibling.previousSibling),a.createPositionAfter(c))}return e.model.change((function(t){t.remove(n),e.execute("enter");var a=r.selection.anchor.parent;t.rename(a,B),e.model.schema.removeDisallowedAttributes([a],t)})),i.scrollToTheSelection(),!0}function I(e){return e&&e.is("$text")&&!e.data.match(/\S/)}function L(e){return e&&e.is("element","softBreak")}var V=n("02d4"),z=n("30f8"),N=n.n(z),q=(n("5c08"),function(e){Object(i["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(r["a"])(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t,a=t.ui.componentFactory,r=f(t);a.add("codeBlock",(function(a){var i=t.commands.get("codeBlock"),o=Object(V["B"])(a,V["q"]),c=o.buttonView;return c.set({label:n("Insert code block"),tooltip:!0,icon:N.a,isToggleable:!0}),c.bind("isOn").to(i,"value",(function(e){return!!e})),c.on("execute",(function(){t.execute("codeBlock",{usePreviousLanguageChoice:!0}),t.editing.view.focus()})),o.on("execute",(function(e){t.execute("codeBlock",{language:e.source._codeBlockLanguage,forceValue:!0}),t.editing.view.focus()})),o.class="ck-code-block-dropdown",o.bind("isEnabled").to(i),Object(V["y"])(o,e._getLanguageListItemDefinitions(r)),o}))}},{key:"_getLanguageListItemDefinitions",value:function(e){var t,n=this.editor,a=n.commands.get("codeBlock"),r=new g["b"],i=Object(d["a"])(e);try{var o=function(){var e=t.value,n={type:"button",model:new V["o"]({_codeBlockLanguage:e.language,label:e.label,withText:!0})};n.model.bind("isOn").to(a,"value",(function(e){return e===n.model._codeBlockLanguage})),r.add(n)};for(i.s();!(t=i.n()).done;)o()}catch(c){i.e(c)}finally{i.f()}return r}}],[{key:"pluginName",get:function(){return"CodeBlockUI"}}]),n}(c["g"])),H=function(e){Object(i["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(r["a"])(n,null,[{key:"requires",get:function(){return[S,q]}},{key:"pluginName",get:function(){return"CodeBlock"}}]),n}(c["g"])},"30f8":function(e,t){e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>'},"35ad":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("d4ec"),r=n("bee2"),i=n("262e"),o=n("2caf"),c=n("109b"),l=n("6a93"),s=n("9029"),u=n("d0de"),d=function(e){Object(i["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(r["a"])(n,null,[{key:"pluginName",get:function(){return"Clipboard"}},{key:"requires",get:function(){return[l["a"],s["a"],u["a"]]}}]),n}(c["a"])},"35cc":function(e,t,n){},"40a1":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("d4ec"),r=n("bee2"),i=n("262e"),o=n("2caf"),c=(n("b0c0"),n("51d0")),l=n("d21d"),s=(n("a630"),n("3ca3"),n("d81d"),n("4de4"),n("d3b7"),function(){function e(t){Object(a["a"])(this,e),this.files=u(t),this._native=t}return Object(r["a"])(e,[{key:"types",get:function(){return this._native.types}},{key:"getData",value:function(e){return this._native.getData(e)}},{key:"setData",value:function(e,t){this._native.setData(e,t)}},{key:"effectAllowed",get:function(){return this._native.effectAllowed},set:function(e){this._native.effectAllowed=e}},{key:"dropEffect",get:function(){return this._native.dropEffect},set:function(e){this._native.dropEffect=e}},{key:"isCanceled",get:function(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}]),e}());function u(e){var t=Array.from(e.files||[]),n=Array.from(e.items||[]);return t.length?t:n.filter((function(e){return"file"===e.kind})).map((function(e){return e.getAsFile()}))}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var d=function(e){Object(i["a"])(n,e);var t=Object(o["a"])(n);function n(e){var r;Object(a["a"])(this,n),r=t.call(this,e);var i=r.document;function o(e){return function(t,n){n.preventDefault();var a=n.dropRange?[n.dropRange]:null,r=new l["a"](i,e);i.fire(r,{dataTransfer:n.dataTransfer,method:t.name,targetRanges:a,target:n.target}),r.stop.called&&n.stopPropagation()}}return r.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"],r.listenTo(i,"paste",o("clipboardInput"),{priority:"low"}),r.listenTo(i,"drop",o("clipboardInput"),{priority:"low"}),r.listenTo(i,"dragover",o("dragging"),{priority:"low"}),r}return Object(r["a"])(n,[{key:"onDomEvent",value:function(e){var t={dataTransfer:new s(e.clipboardData?e.clipboardData:e.dataTransfer)};"drop"!=e.type&&"dragover"!=e.type||(t.dropRange=g(this.view,e)),this.fire(e.type,e,t)}}]),n}(c["a"]);function g(e,t){var n,a=t.target.ownerDocument,r=t.clientX,i=t.clientY;return a.caretRangeFromPoint&&a.caretRangeFromPoint(r,i)?n=a.caretRangeFromPoint(r,i):t.rangeParent&&(n=a.createRange(),n.setStart(t.rangeParent,t.rangeOffset),n.collapse(!0)),n?e.domConverter.domRangeToView(n):null}},5925:function(e,t,n){"use strict";var a=n("35ad");n.d(t,"a",(function(){return a["a"]}));var r=n("6a93");n.d(t,"b",(function(){return r["a"]}));n("9029"),n("d0de")},"5c08":function(e,t,n){},"6a93":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n("d4ec"),r=n("bee2"),i=n("262e"),o=n("2caf"),c=(n("b0c0"),n("109b")),l=n("d21d"),s=n("40a1");n("ac1f"),n("5319"),n("caad"),n("2532");
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function u(e){return e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(e.includes("</p><p>")||e.includes("<br>"))&&(e="<p>".concat(e,"</p>")),e}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function d(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(function(e,t){return 1==t.length?" ":t})).replace(/<!--[\s\S]*?-->/g,"")}var g=n("b85c"),f=["figcaption","li"];
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function p(e){var t="";if(e.is("$text")||e.is("$textProxy"))t=e.data;else if(e.is("element","img")&&e.hasAttribute("alt"))t=e.getAttribute("alt");else if(e.is("element","br"))t="\n";else{var n,a=null,r=Object(g["a"])(e.getChildren());try{for(r.s();!(n=r.n()).done;){var i=n.value,o=p(i);a&&(a.is("containerElement")||i.is("containerElement"))&&(f.includes(a.name)||f.includes(i.name)?t+="\n":t+="\n\n"),t+=o,a=i}}catch(c){r.e(c)}finally{r.f()}}return t}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var v=function(e){Object(i["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(r["a"])(n,[{key:"init",value:function(){var e=this.editor,t=e.editing.view;t.addObserver(s["a"]),this._setupPasteDrop(),this._setupCopyCut()}},{key:"_setupPasteDrop",value:function(){var e=this,t=this.editor,n=t.model,a=t.editing.view,r=a.document;this.listenTo(r,"clipboardInput",(function(e){t.isReadOnly&&e.stop()}),{priority:"highest"}),this.listenTo(r,"clipboardInput",(function(t,n){var r=n.dataTransfer,i=n.content||"";i||(r.getData("text/html")?i=d(r.getData("text/html")):r.getData("text/plain")&&(i=u(r.getData("text/plain"))),i=e.editor.data.htmlProcessor.toView(i));var o=new l["a"](e,"inputTransformation");e.fire(o,{content:i,dataTransfer:r,targetRanges:n.targetRanges,method:n.method}),o.stop.called&&t.stop(),a.scrollToTheSelection()}),{priority:"low"}),this.listenTo(this,"inputTransformation",(function(t,a){if(!a.content.isEmpty){var r=e.editor.data,i=r.toModel(a.content,"$clipboardHolder");0!=i.childCount&&(t.stop(),n.change((function(){e.fire("contentInsertion",{content:i,method:a.method,dataTransfer:a.dataTransfer,targetRanges:a.targetRanges})})))}}),{priority:"low"}),this.listenTo(this,"contentInsertion",(function(e,t){t.resultRange=n.insertContent(t.content)}),{priority:"low"})}},{key:"_setupCopyCut",value:function(){var e=this,t=this.editor,n=t.model.document,a=t.editing.view,r=a.document;function i(e,a){var i=a.dataTransfer;a.preventDefault();var o=t.data.toView(t.model.getSelectedContent(n.selection));r.fire("clipboardOutput",{dataTransfer:i,content:o,method:e.name})}this.listenTo(r,"copy",i,{priority:"low"}),this.listenTo(r,"cut",(function(e,n){t.isReadOnly?n.preventDefault():i(e,n)}),{priority:"low"}),this.listenTo(r,"clipboardOutput",(function(a,r){r.content.isEmpty||(r.dataTransfer.setData("text/html",e.editor.data.htmlProcessor.toData(r.content)),r.dataTransfer.setData("text/plain",p(r.content))),"cut"==r.method&&t.model.deleteContent(n.selection)}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"ClipboardPipeline"}}]),n}(c["a"])},9029:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n("d4ec"),r=n("bee2"),i=n("45eb"),o=n("7e84"),c=n("262e"),l=n("2caf"),s=(n("b0c0"),n("caad"),n("d81d"),n("fb6a"),n("109b")),u=n("0f93"),d=n("4df9"),g=n("bf50"),f=n("ed4a"),p=n("59a6"),v=n("2beb"),h=n("6a93"),m=n("40a1"),b=n("517b"),k=(n("35cc"),function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(r["a"])(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=Object(b["a"])((function(t){return e._updateDropMarker(t)}),40),this._removeDropMarkerDelayed=C((function(){return e._removeDropMarker()}),40),this._clearDraggableAttributesDelayed=C((function(){return e._clearDraggableAttributes()}),40),n.addObserver(m["a"]),n.addObserver(d["a"]),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(t,"change:isReadOnly",(function(t,n,a){a?e.forceDisabled("readOnlyMode"):e.clearForceDisabled("readOnlyMode")})),this.on("change:isEnabled",(function(t,n,a){a||e._finalizeDragging(!1)})),p["a"].isAndroid&&this.forceDisabled("noAndroidSupport")}},{key:"destroy",value:function(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),Object(i["a"])(Object(o["a"])(n.prototype),"destroy",this).call(this)}},{key:"_setupDragging",value:function(){var e=this,t=this.editor,n=t.model,a=n.document,r=t.editing.view,i=r.document;this.listenTo(i,"dragstart",(function(r,o){var c=a.selection;if(o.target&&o.target.is("editableElement"))o.preventDefault();else{var l=o.target?A(o.target):null;if(l){var s=t.editing.mapper.toModelElement(l);e._draggedRange=u["a"].fromRange(n.createRangeOn(s)),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!i.selection.isCollapsed){var d=i.selection.getSelectedElement();d&&Object(v["d"])(d)||(e._draggedRange=u["a"].fromRange(c.getFirstRange()))}if(e._draggedRange){e._draggingUid=Object(f["a"])(),o.dataTransfer.effectAllowed=e.isEnabled?"copyMove":"copy",o.dataTransfer.setData("application/ckeditor5-dragging-uid",e._draggingUid);var g=n.createSelection(e._draggedRange.toRange()),p=t.data.toView(n.getSelectedContent(g));i.fire("clipboardOutput",{dataTransfer:o.dataTransfer,content:p,method:r.name}),e.isEnabled||(e._draggedRange.detach(),e._draggedRange=null,e._draggingUid="")}else o.preventDefault()}}),{priority:"low"}),this.listenTo(i,"dragend",(function(t,n){e._finalizeDragging(!n.dataTransfer.isCanceled&&"move"==n.dataTransfer.dropEffect)}),{priority:"low"}),this.listenTo(i,"dragenter",(function(){e.isEnabled&&r.focus()})),this.listenTo(i,"dragleave",(function(){e._removeDropMarkerDelayed()})),this.listenTo(i,"dragging",(function(n,a){if(e.isEnabled){e._removeDropMarkerDelayed.cancel();var r=y(t,a.targetRanges,a.target);e._draggedRange||(a.dataTransfer.dropEffect="copy"),p["a"].isGecko||("copy"==a.dataTransfer.effectAllowed?a.dataTransfer.dropEffect="copy":["all","copyMove"].includes(a.dataTransfer.effectAllowed)&&(a.dataTransfer.dropEffect="move")),r&&e._updateDropMarkerThrottled(r)}else a.dataTransfer.dropEffect="none"}),{priority:"low"})}},{key:"_setupClipboardInputIntegration",value:function(){var e=this,t=this.editor,n=t.editing.view,a=n.document;this.listenTo(a,"clipboardInput",(function(n,a){if("drop"==a.method){var r=y(t,a.targetRanges,a.target);if(e._removeDropMarker(),!r)return e._finalizeDragging(!1),void n.stop();e._draggedRange&&e._draggingUid!=a.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(e._draggedRange.detach(),e._draggedRange=null,e._draggingUid="");var i="move"==T(a.dataTransfer);if(i&&e._draggedRange&&e._draggedRange.containsRange(r,!0))return e._finalizeDragging(!1),void n.stop();a.targetRanges=[t.editing.mapper.toViewRange(r)]}}),{priority:"high"})}},{key:"_setupContentInsertionIntegration",value:function(){var e=this,t=this.editor.plugins.get(h["a"]);t.on("contentInsertion",(function(t,n){if(e.isEnabled&&"drop"===n.method){var a=n.targetRanges.map((function(t){return e.editor.editing.mapper.toModelRange(t)}));e.editor.model.change((function(e){return e.setSelection(a)}))}}),{priority:"high"}),t.on("contentInsertion",(function(t,n){if(e.isEnabled&&"drop"===n.method){var a="move"==T(n.dataTransfer),r=!n.resultRange||!n.resultRange.isCollapsed;e._finalizeDragging(r&&a)}}),{priority:"lowest"})}},{key:"_setupDraggableAttributeHandling",value:function(){var e=this,t=this.editor,n=t.editing.view,a=n.document;this.listenTo(a,"mousedown",(function(r,i){if(!p["a"].isAndroid&&i){e._clearDraggableAttributesDelayed.cancel();var o=A(i.target);if(p["a"].isBlink&&!t.isReadOnly&&!o&&!a.selection.isCollapsed){var c=a.selection.getSelectedElement();c&&Object(v["d"])(c)||(o=a.selection.editableElement)}o&&(n.change((function(e){e.setAttribute("draggable","true",o)})),e._draggableElement=t.editing.mapper.toModelElement(o))}})),this.listenTo(a,"mouseup",(function(){p["a"].isAndroid||e._clearDraggableAttributesDelayed()}))}},{key:"_clearDraggableAttributes",value:function(){var e=this,t=this.editor.editing;t.view.change((function(n){e._draggableElement&&"$graveyard"!=e._draggableElement.root.rootName&&n.removeAttribute("draggable",t.mapper.toViewElement(e._draggableElement)),e._draggableElement=null}))}},{key:"_setupDropMarker",value:function(){var e=this.editor;e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:function(t,n){var a=n.writer,r=e.model.schema.checkChild(t.markerRange.start,"$text");if(r)return a.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},(function(e){var t=this.toDomElement(e);return t.innerHTML="&NoBreak;<span></span>&NoBreak;",t}))}})}},{key:"_updateDropMarker",value:function(e){var t=this.editor,n=t.model.markers;t.model.change((function(t){n.has("drop-target")?n.get("drop-target").getRange().isEqual(e)||t.updateMarker("drop-target",{range:e}):t.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})}))}},{key:"_removeDropMarker",value:function(){var e=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),e.markers.has("drop-target")&&e.change((function(e){e.removeMarker("drop-target")}))}},{key:"_finalizeDragging",value:function(e){var t=this.editor,n=t.model;this._removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(e&&this.isEnabled&&n.deleteContent(n.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}],[{key:"pluginName",get:function(){return"DragDrop"}},{key:"requires",get:function(){return[h["a"],g["a"]]}}]),n}(s["a"]));function y(e,t,n){var a=e.model,r=e.editing.mapper,i=null,o=t?t[0].start:null;if(n.is("uiElement")&&(n=n.parent),i=_(e,n),i)return i;var c=j(e,n),l=o?r.toModelPosition(o):null;return l?(i=w(e,l,c),i||(i=a.schema.getNearestSelectionRange(l,p["a"].isGecko?"forward":"backward"),i||D(e,l.parent))):O(e,c)}function _(e,t){var n=e.model,a=e.editing.mapper;if(Object(v["d"])(t))return n.createRangeOn(a.toModelElement(t));if(!t.is("editableElement")){var r=t.findAncestor((function(e){return Object(v["d"])(e)||e.is("editableElement")}));if(Object(v["d"])(r))return n.createRangeOn(a.toModelElement(r))}return null}function O(e,t){var n=e.model,a=n.schema,r=n.createPositionAt(t,0);return a.getNearestSelectionRange(r,"forward")}function w(e,t,n){var a=e.model;if(!a.schema.checkChild(n,"$block"))return null;var r=a.createPositionAt(n,0),i=t.path.slice(0,r.path.length),o=a.createPositionFromPath(t.root,i),c=o.nodeAfter;return c&&a.schema.isObject(c)?a.createRangeOn(c):null}function D(e,t){var n=e.model;while(t){if(n.schema.isObject(t))return n.createRangeOn(t);t=t.parent}}function j(e,t){var n=e.editing.mapper,a=e.editing.view,r=n.toModelElement(t);if(r)return r;var i=a.createPositionBefore(t),o=n.findMappedViewAncestor(i);return n.toModelElement(o)}function T(e){return p["a"].isGecko?e.dropEffect:["all","copyMove"].includes(e.effectAllowed)?"move":"copy"}function C(e,t){var n;function a(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];a.cancel(),n=setTimeout((function(){return e.apply(void 0,i)}),t)}return a.cancel=function(){clearTimeout(n)},a}function A(e){if(e.is("editableElement"))return null;if(e.hasClass("ck-widget__selection-handle"))return e.findAncestor(v["d"]);if(Object(v["d"])(e))return e;var t=e.findAncestor((function(e){return Object(v["d"])(e)||e.is("editableElement")}));return Object(v["d"])(t)?t:null}},d0de:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("b85c"),r=n("2909"),i=n("3835"),o=n("d4ec"),c=n("bee2"),l=n("262e"),s=n("2caf"),u=(n("4de4"),n("d3b7"),n("a630"),n("3ca3"),n("109b")),d=n("40a1"),g=n("6a93"),f=function(e){Object(l["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"init",value:function(){var e=this.editor,t=e.model,n=e.editing.view,o=n.document,c=t.document.selection,l=!1;n.addObserver(d["a"]),this.listenTo(o,"keydown",(function(e,t){l=t.shiftKey})),e.plugins.get(g["a"]).on("contentInsertion",(function(e,n){(l||p(n.content,t.schema))&&t.change((function(e){var o=Array.from(c.getAttributes()).filter((function(e){var n=Object(i["a"])(e,1),a=n[0];return t.schema.getAttributeProperties(a).isFormatting}));c.isCollapsed||t.deleteContent(c,{doNotAutoparagraph:!0}),o.push.apply(o,Object(r["a"])(c.getAttributes()));var l,s=e.createRangeIn(n.content),u=Object(a["a"])(s.getItems());try{for(u.s();!(l=u.n()).done;){var d=l.value;d.is("$textProxy")&&e.setAttributes(o,d)}}catch(g){u.e(g)}finally{u.f()}}))}))}}],[{key:"pluginName",get:function(){return"PastePlainText"}},{key:"requires",get:function(){return[g["a"]]}}]),n}(u["a"]);function p(e,t){if(e.childCount>1)return!1;var n=e.getChild(0);return!t.isObject(n)&&0==Object(r["a"])(n.getAttributeKeys()).length}}}]);
//# sourceMappingURL=chunk-246d9322.adf2aab2.js.map