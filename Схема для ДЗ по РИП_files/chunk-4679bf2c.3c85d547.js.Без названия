(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4679bf2c"],{"1efcc":function(a,e,t){"use strict";t("97af")},"92a4":function(a,e,t){"use strict";t.r(e);var l=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("b-card",[t("b-form-file",{attrs:{accept:".bpmn",multiple:!a.diagramId,"no-traverse":!0,"file-name-formatter":a.formatNames,placeholder:this.$t("upoload-your-process"),"drop-placeholder":"Кидайте файлы сюда..."},model:{value:a.files,callback:function(e){a.files=e},expression:"files"}}),t("b-row",[a.files?t("b-btn",{staticClass:"mt-2",attrs:{block:"",variant:"primary"},on:{click:a.upload}},[a._v(" "+a._s(a.$t("upload-processes"))+" ")]):a._e(),t("b-col",[a.files.length>0?t("div",a._l(a.files,(function(e){return t("li",{key:e.name},[a._v(" "+a._s(e?e.name:"")+" ")])})),0):a._e()]),t("b-col",[a.resultUploadArray.length>0?t("div",a._l(a.resultUploadArray,(function(e){return t("li",{key:e.id},[t("router-link",{attrs:{to:"/app/diagram/"+e.id}},[a._v(" "+a._s(e.name))])],1)})),0):a._e()])],1)],1)},r=[],i=(t("b0c0"),t("d3b7"),t("159b"),t("fb6a"),t("c21c")),n={name:"MassiveUpload",props:["folderId","diagramId"],data:function(){return{files:[],resultUploadArray:[]}},methods:{formatNames:function(a){return 1===a.length?a[0].name:"".concat(a.length)},upload:function(){var a=this;if(this.diagramId||this.files.forEach((function(e){var t=new FileReader,l=null;t.onload=function(t){l=t.target.result,a.uploadDiagram(e.name.slice(0,-5),l)},t.readAsText(e)})),this.diagramId){var e=new FileReader,t=null;e.onload=function(e){t=e.target.result,a.uploadDiagram(a.files.name.slice(0,-5),t)},e.readAsText(this.files)}},uploadDiagram:function(a,e){var t=this,l={body:e,comment:this.$t("uploaded-with-massive-upload"),createdOn:null,description:this.$t("uploaded-with-massive-upload"),name:a,public:!0,updatedOn:null};null!=this.folderId&&""!=this.folderId&&999999999!=this.folderId&&(l.folderId=this.folderId),this.diagramId||i["a"].post("/diagram",l).then((function(a){t.resultUploadArray.push(a.data),t.$emit("uploadDone")})),this.diagramId&&i["a"].post("/diagram/"+this.diagramId,l).then((function(a){t.resultUploadArray.push(a.data),t.$emit("uploadDone")}))}}},o=n,s=(t("1efcc"),t("2877")),d=Object(s["a"])(o,l,r,!1,null,"2a7af206",null);e["default"]=d.exports},"97af":function(a,e,t){}}]);
//# sourceMappingURL=chunk-4679bf2c.3c85d547.js.map