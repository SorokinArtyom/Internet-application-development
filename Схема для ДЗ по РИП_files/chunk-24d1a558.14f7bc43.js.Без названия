(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24d1a558"],{"2beb":function(e,t,i){"use strict";i.d(t,"a",(function(){return m})),i.d(t,"d",(function(){return _})),i.d(t,"e",(function(){return w})),i.d(t,"c",(function(){return S})),i.d(t,"f",(function(){return j})),i.d(t,"b",(function(){return C}));var n=i("f2ea"),o=i("1e77"),r=i("d4ec"),a=i("bee2"),s=(i("c740"),i("a434"),i("a15b9"),i("4e82"),i("da0d")),c=i("644e"),l=function(){function e(){Object(r["a"])(this,e),this._stack=[]}return Object(a["a"])(e,[{key:"add",value:function(e,t){var i=this._stack,n=i[0];this._insertDescriptor(e);var o=i[0];n===o||d(n,o)||this.fire("change:top",{oldDescriptor:n,newDescriptor:o,writer:t})}},{key:"remove",value:function(e,t){var i=this._stack,n=i[0];this._removeDescriptor(e);var o=i[0];n===o||d(n,o)||this.fire("change:top",{oldDescriptor:n,newDescriptor:o,writer:t})}},{key:"_insertDescriptor",value:function(e){var t=this._stack,i=t.findIndex((function(t){return t.id===e.id}));if(!d(e,t[i])){i>-1&&t.splice(i,1);var n=0;while(t[n]&&u(t[n],e))n++;t.splice(n,0,e)}}},{key:"_removeDescriptor",value:function(e){var t=this._stack,i=t.findIndex((function(t){return t.id===e}));i>-1&&t.splice(i,1)}}]),e}();function d(e,t){return e&&t&&e.priority==t.priority&&h(e.classes)==h(t.classes)}function u(e,t){return e.priority>t.priority||!(e.priority<t.priority)&&h(e.classes)>h(t.classes)}function h(e){return Array.isArray(e)?e.sort().join(","):e}Object(c["a"])(l,s["c"]);var f=i("c06c"),v=i("631f"),p=i("5dbf"),g=i.n(p),b="ck-widget",m="ck-widget_selected";function _(e){return!!e.is("element")&&!!e.getCustomProperty("widget")}function w(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.is("containerElement"))throw new n["a"]("widget-to-widget-wrong-element-type",null,{element:e});return t.setAttribute("contenteditable","false",e),t.addClass(b,e),t.setCustomProperty("widget",!0,e),e.getFillerOffset=T,i.label&&E(e,i.label,t),i.hasSelectionHandle&&P(e,t),O(e,t),e}function y(e,t,i){if(t.classes&&i.addClass(Object(o["a"])(t.classes),e),t.attributes)for(var n in t.attributes)i.setAttribute(n,t.attributes[n],e)}function k(e,t,i){if(t.classes&&i.removeClass(Object(o["a"])(t.classes),e),t.attributes)for(var n in t.attributes)i.removeAttribute(n,e)}function O(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k,o=new l;o.on("change:top",(function(t,o){o.oldDescriptor&&n(e,o.oldDescriptor,o.writer),o.newDescriptor&&i(e,o.newDescriptor,o.writer)})),t.setCustomProperty("addHighlight",(function(e,t,i){return o.add(t,i)}),e),t.setCustomProperty("removeHighlight",(function(e,t,i){return o.remove(t,i)}),e)}function E(e,t,i){i.setCustomProperty("widgetLabel",t,e)}function S(e){var t=e.getCustomProperty("widgetLabel");return t?"function"==typeof t?t():t:""}function j(e,t){return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],e),t.setAttribute("contenteditable",e.isReadOnly?"false":"true",e),e.on("change:isReadOnly",(function(i,n,o){t.setAttribute("contenteditable",o?"false":"true",e)})),e.on("change:isFocused",(function(i,n,o){o?t.addClass("ck-editor__nested-editable_focused",e):t.removeClass("ck-editor__nested-editable_focused",e)})),O(e,t),e}function C(e,t){var i=e.getSelectedElement();if(i){var n=Object(f["e"])(e);if(n)return t.createRange(t.createPositionAt(i,n));if(t.schema.isObject(i)&&!t.schema.isInline(i))return t.createRangeOn(i)}var o=e.getSelectedBlocks().next().value;if(o){if(o.isEmpty)return t.createRange(t.createPositionAt(o,0));var r=t.createPositionAfter(o);return e.focus.isTouching(r)?t.createRange(r):t.createRange(t.createPositionBefore(o))}return t.createRange(e.focus)}function T(){return null}function P(e,t){var i=t.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(e){var t=this.toDomElement(e),i=new v["a"];return i.set("content",g.a),i.render(),t.appendChild(i.element),t}));t.insert(t.createPositionAt(e,0),i),t.addClass(["ck-widget_with-selection-handle"],e)}},"5dbf":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'},"710f":function(e,t,i){"use strict";i.d(t,"a",(function(){return n["a"]})),i.d(t,"c",(function(){return b})),i.d(t,"b",(function(){return L})),i.d(t,"e",(function(){return p["d"]})),i.d(t,"f",(function(){return p["e"]})),i.d(t,"g",(function(){return p["f"]})),i.d(t,"d",(function(){return p["b"]}));var n=i("bf50"),o=i("b85c"),r=i("d4ec"),a=i("bee2"),s=i("45eb"),c=i("7e84"),l=i("262e"),d=i("2caf"),u=(i("4ec9"),i("d3b7"),i("3ca3"),i("ddb0"),i("109b")),h=i("164f"),f=i("1e6e"),v=i("ec02"),p=i("2beb"),g=i("f2ea"),b=function(e){Object(l["a"])(i,e);var t=Object(d["a"])(i);function i(){return Object(r["a"])(this,i),t.apply(this,arguments)}return Object(a["a"])(i,[{key:"init",value:function(){var e=this,t=this.editor;if(t.plugins.has("BalloonToolbar")){var i=t.plugins.get("BalloonToolbar");this.listenTo(i,"show",(function(e){w(t.editing.view.document.selection)&&e.stop()}),{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",(function(){e._updateToolbarsVisibility()})),this.listenTo(t.ui,"update",(function(){e._updateToolbarsVisibility()})),this.listenTo(t.ui.focusTracker,"change:isFocused",(function(){e._updateToolbarsVisibility()}),{priority:"low"})}},{key:"destroy",value:function(){Object(s["a"])(Object(c["a"])(i.prototype),"destroy",this).call(this);var e,t=Object(o["a"])(this._toolbarDefinitions.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;n.view.destroy()}}catch(r){t.e(r)}finally{t.f()}}},{key:"register",value:function(e,t){var i=t.ariaLabel,n=t.items,o=t.getRelatedElement,r=t.balloonClassName,a=void 0===r?"ck-toolbar-container":r;if(n.length){var s=this.editor,c=s.t,l=new f["a"](s.locale);if(l.ariaLabel=i||c("Widget toolbar"),this._toolbarDefinitions.has(e))throw new g["a"]("widget-toolbar-duplicated",this,{toolbarId:e});l.fillFromConfig(n,s.ui.componentFactory),this._toolbarDefinitions.set(e,{view:l,getRelatedElement:o,balloonClassName:a})}else Object(g["b"])("widget-toolbar-no-items",{toolbarId:e})}},{key:"_updateToolbarsVisibility",value:function(){var e,t=0,i=null,n=null,r=Object(o["a"])(this._toolbarDefinitions.values());try{for(r.s();!(e=r.n()).done;){var a=e.value,s=a.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&s)if(this.editor.ui.focusTracker.isFocused){var c=s.getAncestors().length;c>t&&(t=c,i=s,n=a)}else this._isToolbarVisible(a)&&this._hideToolbar(a);else this._isToolbarInBalloon(a)&&this._hideToolbar(a)}}catch(l){r.e(l)}finally{r.f()}n&&this._showToolbar(n,i)}},{key:"_hideToolbar",value:function(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}},{key:"_showToolbar",value:function(e,t){var i=this;this._isToolbarVisible(e)?m(this.editor,t):this._isToolbarInBalloon(e)||(this._balloon.add({view:e.view,position:_(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",(function(){var e,t=Object(o["a"])(i._toolbarDefinitions.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;if(i._isToolbarVisible(n)){var r=n.getRelatedElement(i.editor.editing.view.document.selection);m(i.editor,r)}}}catch(a){t.e(a)}finally{t.f()}})))}},{key:"_isToolbarVisible",value:function(e){return this._balloon.visibleView===e.view}},{key:"_isToolbarInBalloon",value:function(e){return this._balloon.hasView(e.view)}}],[{key:"requires",get:function(){return[h["a"]]}},{key:"pluginName",get:function(){return"WidgetToolbarRepository"}}]),i}(u["a"]);function m(e,t){var i=e.plugins.get("ContextualBalloon"),n=_(e,t);i.updatePosition(n)}function _(e,t){var i=e.editing.view,n=v["a"].defaultPositions;return{target:i.domConverter.mapViewToDom(t),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}function w(e){var t=e.getSelectedElement();return!(!t||!Object(p["d"])(t))}var y=i("3835"),k=(i("8a79"),i("e805")),O=i("c78fc"),E=i("e47a"),S=i("d4e1"),j=i("644e"),C=(i("ac1f"),i("466d"),i("1276"),i("99af"),function(){function e(t){Object(r["a"])(this,e),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=t,this._referenceCoordinates=null}return Object(a["a"])(e,[{key:"begin",value:function(e,t,i){var n=new O["a"](t);this.activeHandlePosition=R(e),this._referenceCoordinates=P(t,H(this.activeHandlePosition)),this.originalWidth=n.width,this.originalHeight=n.height,this.aspectRatio=n.width/n.height;var o=i.style.width;o&&o.match(/^\d+(\.\d*)?%$/)?this.originalWidthPercents=parseFloat(o):this.originalWidthPercents=T(i,n)}},{key:"update",value:function(e){this.proposedWidth=e.width,this.proposedHeight=e.height,this.proposedWidthPercents=e.widthPercents,this.proposedHandleHostWidth=e.handleHostWidth,this.proposedHandleHostHeight=e.handleHostHeight}}]),e}());function T(e,t){var i=e.parentElement,n=parseFloat(i.ownerDocument.defaultView.getComputedStyle(i).width);return t.width/n*100}function P(e,t){var i=new O["a"](e),n=t.split("-"),o={x:"right"==n[1]?i.right:i.left,y:"bottom"==n[0]?i.bottom:i.top};return o.x+=e.ownerDocument.defaultView.scrollX,o.y+=e.ownerDocument.defaultView.scrollY,o}function z(e){return"ck-widget__resizer__handle-".concat(e)}function R(e){for(var t=["top-left","top-right","bottom-right","bottom-left"],i=0,n=t;i<n.length;i++){var o=n[i];if(e.classList.contains(z(o)))return o}}function H(e){var t=e.split("-"),i={top:"bottom",bottom:"top",left:"right",right:"left"};return"".concat(i[t[0]],"-").concat(i[t[1]])}Object(j["a"])(C,S["a"]);var A=i("940e"),D=function(e){Object(l["a"])(i,e);var t=Object(d["a"])(i);function i(){var e;Object(r["a"])(this,i),e=t.call(this);var n=e.bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",n.to("_viewPosition",(function(e){return e?"ck-orientation-".concat(e):""}))],style:{display:n.if("_isVisible","none",(function(e){return!e}))}},children:[{text:n.to("_label")}]}),e}return Object(a["a"])(i,[{key:"_bindToState",value:function(e,t){this.bind("_isVisible").to(t,"proposedWidth",t,"proposedHeight",(function(e,t){return null!==e&&null!==t})),this.bind("_label").to(t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",t,"proposedWidthPercents",(function(t,i,n){return"px"===e.unit?"".concat(t,"Ã—").concat(i):"".concat(n,"%")})),this.bind("_viewPosition").to(t,"activeHandlePosition",t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",(function(e,t,i){return t<50||i<50?"above-center":e}))}},{key:"_dismiss",value:function(){this.unbind(),this._isVisible=!1}}]),i}(A["a"]),W=function(){function e(t){var i=this;Object(r["a"])(this,e),this._options=t,this._viewResizerWrapper=null,this.set("isEnabled",!0),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",(function(e){i.state.proposedWidth||i.state.proposedWidthPercents||(i._cleanup(),e.stop())}),{priority:"high"}),this.on("change:isEnabled",(function(){i.isEnabled&&i.redraw()}))}return Object(a["a"])(e,[{key:"attach",value:function(){var e=this,t=this,i=this._options.viewElement,n=this._options.editor.editing.view;n.change((function(n){var o=n.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},(function(e){var i=this.toDomElement(e);return t._appendHandles(i),t._appendSizeUI(i),t.on("change:isEnabled",(function(e,t,n){i.style.display=n?"":"none"})),i.style.display=t.isEnabled?"":"none",i}));n.insert(n.createPositionAt(i,"end"),o),n.addClass("ck-widget_with-resizer",i),e._viewResizerWrapper=o}))}},{key:"begin",value:function(e){this.state=new C(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(e,this._getHandleHost(),this._getResizeHost())}},{key:"updateSize",value:function(e){var t=this,i=this._proposeNewSize(e),n=this._options.editor.editing.view;n.change((function(e){var n=t._options.unit||"%",o=("%"===n?i.widthPercents:i.width)+n;e.setStyle("width",o,t._options.viewElement)}));var o=this._getHandleHost(),r=new O["a"](o);i.handleHostWidth=Math.round(r.width),i.handleHostHeight=Math.round(r.height);var a=new O["a"](o);i.width=Math.round(a.width),i.height=Math.round(a.height),this.redraw(r),this.state.update(i)}},{key:"commit",value:function(){var e=this,t=this._options.unit||"%",i=("%"===t?this.state.proposedWidthPercents:this.state.proposedWidth)+t;this._options.editor.editing.view.change((function(){e._cleanup(),e._options.onCommit(i)}))}},{key:"cancel",value:function(){this._cleanup()}},{key:"destroy",value:function(){this.cancel()}},{key:"redraw",value:function(e){var t=this._domResizerWrapper;if(V(t)){var i,n=t.parentElement,o=this._getHandleHost(),r=this._viewResizerWrapper,a=[r.getStyle("width"),r.getStyle("height"),r.getStyle("left"),r.getStyle("top")];if(n.isSameNode(o)){var s=e||new O["a"](o);i=[s.width+"px",s.height+"px",void 0,void 0]}else i=[o.offsetWidth+"px",o.offsetHeight+"px",o.offsetLeft+"px",o.offsetTop+"px"];"same"!==Object(E["a"])(a,i)&&this._options.editor.editing.view.change((function(e){e.setStyle({width:i[0],height:i[1],left:i[2],top:i[3]},r)}))}}},{key:"containsHandle",value:function(e){return this._domResizerWrapper.contains(e)}},{key:"_cleanup",value:function(){var e=this;this._sizeView._dismiss();var t=this._options.editor.editing.view;t.change((function(t){t.setStyle("width",e._initialViewWidth,e._options.viewElement)}))}},{key:"_proposeNewSize",value:function(e){var t=this.state,i=I(e),n=!this._options.isCentered||this._options.isCentered(this),o={x:t._referenceCoordinates.x-(i.x+t.originalWidth),y:i.y-t.originalHeight-t._referenceCoordinates.y};n&&t.activeHandlePosition.endsWith("-right")&&(o.x=i.x-(t._referenceCoordinates.x+t.originalWidth)),n&&(o.x*=2);var r={width:Math.abs(t.originalWidth+o.x),height:Math.abs(t.originalHeight+o.y)};r.dominant=r.width/t.aspectRatio>r.height?"width":"height",r.max=r[r.dominant];var a={width:r.width,height:r.height};return"width"==r.dominant?a.height=a.width/t.aspectRatio:a.width=a.height*t.aspectRatio,{width:Math.round(a.width),height:Math.round(a.height),widthPercents:Math.min(Math.round(t.originalWidthPercents/t.originalWidth*a.width*100)/100,100)}}},{key:"_getResizeHost",value:function(){var e=this._domResizerWrapper.parentElement;return this._options.getResizeHost(e)}},{key:"_getHandleHost",value:function(){var e=this._domResizerWrapper.parentElement;return this._options.getHandleHost(e)}},{key:"_domResizerWrapper",get:function(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}},{key:"_appendHandles",value:function(e){for(var t=["top-left","top-right","bottom-right","bottom-left"],i=0,n=t;i<n.length;i++){var o=n[i];e.appendChild(new k["a"]({tag:"div",attributes:{class:"ck-widget__resizer__handle ".concat(x(o))}}).render())}}},{key:"_appendSizeUI",value:function(e){this._sizeView=new D,this._sizeView.render(),e.appendChild(this._sizeView.element)}}],[{key:"isResizeHandle",value:function(e){return e.classList.contains("ck-widget__resizer__handle")}}]),e}();
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function x(e){return"ck-widget__resizer__handle-".concat(e)}function I(e){return{x:e.pageX,y:e.pageY}}function V(e){return e&&e.ownerDocument&&e.ownerDocument.contains(e)}Object(j["a"])(W,S["a"]);var M=i("f264"),F=i("a07d"),N=i("4df9"),K=i("517b"),L=(i("fc4c"),function(e){Object(l["a"])(i,e);var t=Object(d["a"])(i);function i(){return Object(r["a"])(this,i),t.apply(this,arguments)}return Object(a["a"])(i,[{key:"init",value:function(){var e=this,t=this.editor.editing,i=F["a"].window.document;this.set("visibleResizer",null),this.set("_activeResizer",null),this._resizers=new Map,t.view.addObserver(N["a"]),this._observer=Object.create(M["a"]),this.listenTo(t.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(i,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(i,"mouseup",this._mouseUpListener.bind(this));var n=function(){e.visibleResizer&&e.visibleResizer.redraw()};this._redrawFocusedResizerThrottled=Object(K["a"])(n,200),this.on("change:visibleResizer",n),this.editor.ui.on("update",this._redrawFocusedResizerThrottled),this.editor.model.document.on("change",(function(){var t,i=Object(o["a"])(e._resizers);try{for(i.s();!(t=i.n()).done;){var n=Object(y["a"])(t.value,2),r=n[0],a=n[1];r.isAttached()||(e._resizers.delete(r),a.destroy())}}catch(s){i.e(s)}finally{i.f()}}),{priority:"lowest"}),this._observer.listenTo(F["a"].window,"resize",this._redrawFocusedResizerThrottled);var r=this.editor.editing.view.document.selection;r.on("change",(function(){var t=r.getSelectedElement();e.visibleResizer=e.getResizerByViewElement(t)||null}))}},{key:"destroy",value:function(){this._observer.stopListening();var e,t=Object(o["a"])(this._resizers.values());try{for(t.s();!(e=t.n()).done;){var i=e.value;i.destroy()}}catch(n){t.e(n)}finally{t.f()}this._redrawFocusedResizerThrottled.cancel()}},{key:"attachTo",value:function(e){var t=new W(e),i=this.editor.plugins;if(t.attach(),i.has("WidgetToolbarRepository")){var n=i.get("WidgetToolbarRepository");t.on("begin",(function(){n.forceDisabled("resize")}),{priority:"lowest"}),t.on("cancel",(function(){n.clearForceDisabled("resize")}),{priority:"highest"}),t.on("commit",(function(){n.clearForceDisabled("resize")}),{priority:"highest"})}this._resizers.set(e.viewElement,t);var o=this.editor.editing.view.document.selection,r=o.getSelectedElement();return this.getResizerByViewElement(r)==t&&(this.visibleResizer=t),t}},{key:"getResizerByViewElement",value:function(e){return this._resizers.get(e)}},{key:"_getResizerByHandle",value:function(e){var t,i=Object(o["a"])(this._resizers.values());try{for(i.s();!(t=i.n()).done;){var n=t.value;if(n.containsHandle(e))return n}}catch(r){i.e(r)}finally{i.f()}}},{key:"_mouseDownListener",value:function(e,t){var i=t.domTarget;W.isResizeHandle(i)&&(this._activeResizer=this._getResizerByHandle(i),this._activeResizer&&(this._activeResizer.begin(i),e.stop(),t.preventDefault()))}},{key:"_mouseMoveListener",value:function(e,t){this._activeResizer&&this._activeResizer.updateSize(t)}},{key:"_mouseUpListener",value:function(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}],[{key:"pluginName",get:function(){return"WidgetResize"}}]),i}(u["a"]));Object(j["a"])(L,S["a"]);i("8021");
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */},8021:function(e,t,i){"use strict";i.d(t,"a",(function(){return k}));var n=i("3835"),o=i("b85c"),r=i("d4ec"),a=i("bee2"),s=i("262e"),c=i("2caf"),l=(i("d81d"),i("caad"),i("2532"),i("109b")),d=i("e805"),u=i("9df4"),h=i("36a1"),f=i("84c3"),v=i("c06c"),p=i("becf"),g=i("2beb"),b=i("c7cb"),m=i.n(b),_=(i("e472"),["before","after"]),w=(new DOMParser).parseFromString(m.a,"image/svg+xml").firstChild,y="ck-widget__type-around_disabled",k=function(e){Object(s["a"])(i,e);var t=Object(c["a"])(i);function i(e){var n;return Object(r["a"])(this,i),n=t.call(this,e),n._currentFakeCaretModelElement=null,n}return Object(a["a"])(i,[{key:"init",value:function(){var e=this.editor,t=e.editing.view;this.on("change:isEnabled",(function(i,n,r){t.change((function(e){var i,n=Object(o["a"])(t.document.roots);try{for(n.s();!(i=n.n()).done;){var a=i.value;r?e.removeClass(y,a):e.addClass(y,a)}}catch(s){n.e(s)}finally{n.f()}})),r||e.model.change((function(e){e.removeSelectionAttribute(v["a"])}))})),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableDeleteContentIntegration()}},{key:"destroy",value:function(){this._currentFakeCaretModelElement=null}},{key:"_insertParagraph",value:function(e,t){var i=this.editor,n=i.editing.view;i.execute("insertParagraph",{position:i.model.createPositionAt(e,t)}),n.focus(),n.scrollToTheSelection()}},{key:"_listenToIfEnabled",value:function(e,t,i,n){var o=this;this.listenTo(e,t,(function(){o.isEnabled&&i.apply(void 0,arguments)}),n)}},{key:"_insertParagraphAccordingToFakeCaretPosition",value:function(){var e=this.editor,t=e.model,i=t.document.selection,n=Object(v["e"])(i);if(!n)return!1;var o=i.getSelectedElement();return this._insertParagraph(o,n),!0}},{key:"_enableTypeAroundUIInjection",value:function(){var e=this.editor,t=e.model.schema,i=e.locale.t,n={before:i("Insert paragraph before block"),after:i("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(function(e,i,o){var r=o.mapper.toViewElement(i.item);Object(v["f"])(r,i.item,t)&&O(o.writer,n,r)}),{priority:"low"})}},{key:"_enableTypeAroundFakeCaretActivationUsingKeyboardArrows",value:function(){var e=this,t=this.editor,i=t.model,n=i.document.selection,o=i.schema,r=t.editing.view;function a(e){return"ck-widget_type-around_show-fake-caret_".concat(e)}this._listenToIfEnabled(r.document,"arrowKey",(function(t,i){e._handleArrowKeyPress(t,i)}),{context:[g["d"],"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",(function(e,i){i.directChange&&t.model.change((function(e){e.removeSelectionAttribute(v["a"])}))})),this._listenToIfEnabled(i.document,"change:data",(function(){var e=n.getSelectedElement();if(e){var i=t.editing.mapper.toViewElement(e);if(Object(v["f"])(i,e,o))return}t.model.change((function(e){e.removeSelectionAttribute(v["a"])}))})),this._listenToIfEnabled(t.editing.downcastDispatcher,"selection",(function(t,i,n){var r=n.writer;if(e._currentFakeCaretModelElement){var s=n.mapper.toViewElement(e._currentFakeCaretModelElement);s&&(r.removeClass(_.map(a),s),e._currentFakeCaretModelElement=null)}var c=i.selection.getSelectedElement();if(c){var l=n.mapper.toViewElement(c);if(Object(v["f"])(l,c,o)){var d=Object(v["e"])(i.selection);d&&(r.addClass(a(d),l),e._currentFakeCaretModelElement=c)}}})),this._listenToIfEnabled(t.ui.focusTracker,"change:isFocused",(function(e,i,n){n||t.model.change((function(e){e.removeSelectionAttribute(v["a"])}))}))}},{key:"_handleArrowKeyPress",value:function(e,t){var i,n=this.editor,o=n.model,r=o.document.selection,a=o.schema,s=n.editing.view,c=t.keyCode,l=Object(f["e"])(c,n.locale.contentLanguageDirection),d=s.document.selection.getSelectedElement(),u=n.editing.mapper.toModelElement(d);Object(v["f"])(d,u,a)?i=this._handleArrowKeyPressOnSelectedWidget(l):r.isCollapsed?i=this._handleArrowKeyPressWhenSelectionNextToAWidget(l):t.shiftKey||(i=this._handleArrowKeyPressWhenNonCollapsedSelection(l)),i&&(t.preventDefault(),e.stop())}},{key:"_handleArrowKeyPressOnSelectedWidget",value:function(e){var t=this.editor,i=t.model,n=i.document.selection,o=Object(v["e"])(n);return i.change((function(t){if(!o)return t.setSelectionAttribute(v["a"],e?"after":"before"),!0;var i=o===(e?"after":"before");return!i&&(t.removeSelectionAttribute(v["a"]),!0)}))}},{key:"_handleArrowKeyPressWhenSelectionNextToAWidget",value:function(e){var t=this.editor,i=t.model,n=i.schema,o=t.plugins.get("Widget"),r=o._getObjectElementNextToSelection(e),a=t.editing.mapper.toViewElement(r);return!!Object(v["f"])(a,r,n)&&(i.change((function(t){o._setSelectionOverElement(r),t.setSelectionAttribute(v["a"],e?"before":"after")})),!0)}},{key:"_handleArrowKeyPressWhenNonCollapsedSelection",value:function(e){var t=this.editor,i=t.model,n=i.schema,o=t.editing.mapper,r=i.document.selection,a=e?r.getLastPosition().nodeBefore:r.getFirstPosition().nodeAfter,s=o.toViewElement(a);return!!Object(v["f"])(s,a,n)&&(i.change((function(t){t.setSelection(a,"on"),t.setSelectionAttribute(v["a"],e?"after":"before")})),!0)}},{key:"_enableInsertingParagraphsOnButtonClick",value:function(){var e=this,t=this.editor,i=t.editing.view;this._listenToIfEnabled(i.document,"mousedown",(function(n,o){var r=Object(v["b"])(o.domTarget);if(r){var a=Object(v["d"])(r),s=Object(v["c"])(r,i.domConverter),c=t.editing.mapper.toModelElement(s);e._insertParagraph(c,a),o.preventDefault(),n.stop()}}))}},{key:"_enableInsertingParagraphsOnEnterKeypress",value:function(){var e=this,t=this.editor,i=t.model.document.selection,n=t.editing.view;this._listenToIfEnabled(n.document,"enter",(function(n,o){if("atTarget"==n.eventPhase){var r,a=i.getSelectedElement(),s=t.editing.mapper.toViewElement(a),c=t.model.schema;e._insertParagraphAccordingToFakeCaretPosition()?r=!0:Object(v["f"])(s,a,c)&&(e._insertParagraph(a,o.isSoft?"before":"after"),r=!0),r&&(o.preventDefault(),n.stop())}}),{context:g["d"]})}},{key:"_enableInsertingParagraphsOnTypingKeystroke",value:function(){var e=this,t=this.editor,i=t.editing.view,n=[f["f"].enter,f["f"].delete,f["f"].backspace];this._listenToIfEnabled(i.document,"keydown",(function(t,i){n.includes(i.keyCode)||Object(p["b"])(i)||e._insertParagraphAccordingToFakeCaretPosition()}),{priority:"high"})}},{key:"_enableDeleteIntegration",value:function(){var e=this.editor,t=e.editing.view,i=e.model,n=i.schema;this._listenToIfEnabled(t.document,"delete",(function(t,o){if("atTarget"==t.eventPhase){var r=Object(v["e"])(i.document.selection);if(r){var a=o.direction,s=i.document.selection.getSelectedElement(),c="before"===r,l="forward"==a,d=c===l;if(d)e.execute("delete",{selection:i.createSelection(s,"on")});else{var u=n.getNearestSelectionRange(i.createPositionAt(s,r),a);if(u)if(u.isCollapsed){var h=i.createSelection(u.start);if(i.modifySelection(h,{direction:a}),h.focus.isEqual(u.start)){var f=j(n,u.start.parent);i.deleteContent(i.createSelection(f,"on"),{doNotAutoparagraph:!0})}else i.change((function(t){t.setSelection(u),e.execute(l?"deleteForward":"delete")}))}else i.change((function(t){t.setSelection(u),e.execute(l?"deleteForward":"delete")}))}o.preventDefault(),t.stop()}}}),{context:g["d"]})}},{key:"_enableInsertContentIntegration",value:function(){var e=this.editor,t=this.editor.model,i=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(function(e,o){var r=Object(n["a"])(o,2),a=r[0],s=r[1];if(!s||s.is("documentSelection")){var c=Object(v["e"])(i);if(c)return e.stop(),t.change((function(e){var n=i.getSelectedElement(),o=t.createPositionAt(n,c),r=e.createSelection(o),s=t.insertContent(a,r);return e.setSelection(r),s}))}}),{priority:"high"})}},{key:"_enableDeleteContentIntegration",value:function(){var e=this.editor,t=this.editor.model,i=t.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(function(e,t){var o=Object(n["a"])(t,1),r=o[0];if(!r||r.is("documentSelection")){var a=Object(v["e"])(i);a&&e.stop()}}),{priority:"high"})}}],[{key:"pluginName",get:function(){return"WidgetTypeAround"}},{key:"requires",get:function(){return[u["a"],h["a"]]}}]),i}(l["a"]);function O(e,t,i){var n=e.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},(function(e){var i=this.toDomElement(e);return E(i,t),S(i),i}));e.insert(e.createPositionAt(i,"end"),n)}function E(e,t){var i,n=Object(o["a"])(_);try{for(n.s();!(i=n.n()).done;){var r=i.value,a=new d["a"]({tag:"div",attributes:{class:["ck","ck-widget__type-around__button","ck-widget__type-around__button_".concat(r)],title:t[r]},children:[e.ownerDocument.importNode(w,!0)]});e.appendChild(a.render())}}catch(s){n.e(s)}finally{n.f()}}function S(e){var t=new d["a"]({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});e.appendChild(t.render())}function j(e,t){var i,n=t,r=Object(o["a"])(t.getAncestors({parentFirst:!0}));try{for(r.s();!(i=r.n()).done;){var a=i.value;if(a.childCount>1||e.isLimit(a))break;n=a}}catch(s){r.e(s)}finally{r.f()}return n}},bf50:function(e,t,i){"use strict";i.d(t,"a",(function(){return k}));var n=i("b85c"),o=i("d4ec"),r=i("bee2"),a=i("262e"),s=i("2caf"),c=(i("d3b7"),i("6062"),i("3ca3"),i("ddb0"),i("18a5"),i("caad"),i("2532"),i("a630"),i("109b")),l=i("4df9"),d=i("8021"),u=i("36a1"),h=i("59a6"),f=i("84c3"),v=i("c78fc");
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function p(e){var t=e.model;return function(i,n){var o=n.keyCode==f["f"].arrowup,r=n.keyCode==f["f"].arrowdown,a=n.shiftKey,s=t.document.selection;if(o||r){var c=r;if(!a||!w(s,c)){var l=g(e,s,c);if(l){if(l.isCollapsed){if(s.isCollapsed)return;if(a)return}(l.isCollapsed||_(e,l,c))&&(t.change((function(e){var i=c?l.end:l.start;if(a){var n=t.createSelection(s.anchor);n.setFocus(i),e.setSelection(n)}else e.setSelection(i)})),i.stop(),n.preventDefault(),n.stopPropagation())}}}}}function g(e,t,i){var n=e.model;if(i){var o=t.isCollapsed?t.focus:t.getLastPosition(),r=b(n,o,"forward");if(!r)return null;var a=n.createRange(o,r),s=m(n.schema,a,"backward");return s?n.createRange(o,s):null}var c=t.isCollapsed?t.focus:t.getFirstPosition(),l=b(n,c,"backward");if(!l)return null;var d=n.createRange(l,c),u=m(n.schema,d,"forward");return u?n.createRange(u,c):null}function b(e,t,i){var o,r=e.schema,a=e.createRangeIn(t.root),s="forward"==i?"elementStart":"elementEnd",c=Object(n["a"])(a.getWalker({startPosition:t,direction:i}));try{for(c.s();!(o=c.n()).done;){var l=o.value,d=l.previousPosition,u=l.item,h=l.type;if(r.isLimit(u)&&!r.isInline(u))return d;if(h==s&&r.isBlock(u))return null}}catch(f){c.e(f)}finally{c.f()}return null}function m(e,t,i){var o="backward"==i?t.end:t.start;if(e.checkChild(o,"$text"))return o;var r,a=Object(n["a"])(t.getWalker({direction:i}));try{for(a.s();!(r=a.n()).done;){var s=r.value.nextPosition;if(e.checkChild(s,"$text"))return s}}catch(c){a.e(c)}finally{a.f()}return null}function _(e,t,i){var o=e.model,r=e.view.domConverter;if(i){var a=o.createSelection(t.start);o.modifySelection(a),a.focus.isAtEnd||t.start.isEqual(a.focus)||(t=o.createRange(a.focus,t.end))}var s,c,l=e.mapper.toViewRange(t),d=r.viewRangeToDom(l),u=v["a"].getDomRangeRects(d),h=Object(n["a"])(u);try{for(h.s();!(c=h.n()).done;){var f=c.value;if(void 0!==s){if(Math.round(f.top)>=s)return!1;s=Math.max(s,Math.round(f.bottom))}else s=Math.round(f.bottom)}}catch(p){h.e(p)}finally{h.f()}return!0}function w(e,t){return!e.isCollapsed&&e.isBackward==t}var y=i("2beb"),k=(i("fecc"),function(e){Object(a["a"])(i,e);var t=Object(s["a"])(i);function i(){return Object(o["a"])(this,i),t.apply(this,arguments)}return Object(r["a"])(i,[{key:"init",value:function(){var e=this,t=this.editor,i=t.editing.view,o=i.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(function(e,i,n){var o=n.writer,r=i.selection;if(!r.isCollapsed){var a=r.getSelectedElement();if(a){var s=t.editing.mapper.toViewElement(a);Object(y["d"])(s)&&n.consumable.consume(r,"selection")&&o.setSelection(o.createRangeOn(s),{fake:!0,label:Object(y["c"])(s)})}}})),this.editor.editing.downcastDispatcher.on("selection",(function(t,i,o){e._clearPreviouslySelectedWidgets(o.writer);var r,a=o.writer,s=a.document.selection,c=null,l=Object(n["a"])(s.getRanges());try{for(l.s();!(r=l.n()).done;){var d,u=r.value,h=Object(n["a"])(u);try{for(h.s();!(d=h.n()).done;){var f=d.value,v=f.item;Object(y["d"])(v)&&!E(v,c)&&(a.addClass(y["a"],v),e._previouslySelected.add(v),c=v)}}catch(p){h.e(p)}finally{h.f()}}}catch(p){l.e(p)}finally{l.f()}}),{priority:"low"}),i.addObserver(l["a"]),this.listenTo(o,"mousedown",(function(){return e._onMousedown.apply(e,arguments)})),this.listenTo(o,"arrowKey",(function(){e._handleSelectionChangeOnArrowKeyPress.apply(e,arguments)}),{context:[y["d"],"$text"]}),this.listenTo(o,"arrowKey",(function(){e._preventDefaultOnArrowKeyPress.apply(e,arguments)}),{context:"$root"}),this.listenTo(o,"arrowKey",p(this.editor.editing),{context:"$text"}),this.listenTo(o,"delete",(function(t,i){e._handleDelete("forward"==i.direction)&&(i.preventDefault(),t.stop())}),{context:"$root"})}},{key:"_onMousedown",value:function(e,t){var i=this.editor,n=i.editing.view,o=n.document,r=t.target;if(O(r)){if((h["a"].isSafari||h["a"].isGecko)&&t.domEvent.detail>=3){var a=i.editing.mapper,s=r.is("attributeElement")?r.findAncestor((function(e){return!e.is("attributeElement")})):r,c=a.toModelElement(s);t.preventDefault(),this.editor.model.change((function(e){e.setSelection(c,"in")}))}}else if(Object(y["d"])(r)||(r=r.findAncestor(y["d"]),r)){h["a"].isAndroid&&t.preventDefault(),o.isFocused||n.focus();var l=i.editing.mapper.toModelElement(r);this._setSelectionOverElement(l)}}},{key:"_handleSelectionChangeOnArrowKeyPress",value:function(e,t){var i=t.keyCode,n=this.editor.model,o=n.schema,r=n.document.selection,a=r.getSelectedElement(),s=Object(f["c"])(i,this.editor.locale.contentLanguageDirection),c="down"==s||"right"==s,l="up"==s||"down"==s;if(a&&o.isObject(a)){var d=c?r.getLastPosition():r.getFirstPosition(),u=o.getNearestSelectionRange(d,c?"forward":"backward");u&&(n.change((function(e){e.setSelection(u)})),t.preventDefault(),e.stop())}else if(r.isCollapsed||t.shiftKey){if(r.isCollapsed){var h=this._getObjectElementNextToSelection(c);if(h&&o.isObject(h)){if(o.isInline(h)&&l)return;this._setSelectionOverElement(h),t.preventDefault(),e.stop()}}}else{var v=r.getFirstPosition(),p=r.getLastPosition(),g=v.nodeAfter,b=p.nodeBefore;(g&&o.isObject(g)||b&&o.isObject(b))&&(n.change((function(e){e.setSelection(c?p:v)})),t.preventDefault(),e.stop())}}},{key:"_preventDefaultOnArrowKeyPress",value:function(e,t){var i=this.editor.model,n=i.schema,o=i.document.selection.getSelectedElement();o&&n.isObject(o)&&(t.preventDefault(),e.stop())}},{key:"_handleDelete",value:function(e){var t=this;if(!this.editor.isReadOnly){var i=this.editor.model.document,n=i.selection;if(n.isCollapsed){var o=this._getObjectElementNextToSelection(e);return o?(this.editor.model.change((function(e){var i=n.anchor.parent;while(i.isEmpty){var r=i;i=r.parent,e.remove(r)}t._setSelectionOverElement(o)})),!0):void 0}}}},{key:"_setSelectionOverElement",value:function(e){this.editor.model.change((function(t){t.setSelection(t.createRangeOn(e))}))}},{key:"_getObjectElementNextToSelection",value:function(e){var t=this.editor.model,i=t.schema,n=t.document.selection,o=t.createSelection(n);if(t.modifySelection(o,{direction:e?"forward":"backward"}),o.isEqual(n))return null;var r=e?o.focus.nodeBefore:o.focus.nodeAfter;return r&&i.isObject(r)?r:null}},{key:"_clearPreviouslySelectedWidgets",value:function(e){var t,i=Object(n["a"])(this._previouslySelected);try{for(i.s();!(t=i.n()).done;){var o=t.value;e.removeClass(y["a"],o)}}catch(r){i.e(r)}finally{i.f()}this._previouslySelected.clear()}}],[{key:"pluginName",get:function(){return"Widget"}},{key:"requires",get:function(){return[d["a"],u["a"]]}}]),i}(c["a"]));function O(e){while(e){if(e.is("editableElement")&&!e.is("rootElement"))return!0;if(Object(y["d"])(e))return!1;e=e.parent}return!1}function E(e,t){return!!t&&Array.from(e.getAncestors()).includes(t)}},c06c:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"f",(function(){return r})),i.d(t,"b",(function(){return a})),i.d(t,"d",(function(){return s})),i.d(t,"c",(function(){return c})),i.d(t,"e",(function(){return l}));var n=i("2beb"),o="widget-type-around";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function r(e,t,i){return e&&Object(n["d"])(e)&&!i.isInline(t)}function a(e){return e.closest(".ck-widget__type-around__button")}function s(e){return e.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function c(e,t){var i=e.closest(".ck-widget");return t.mapDomToView(i)}function l(e){return e.getAttribute(o)}},c7cb:function(e,t){e.exports='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>'},e472:function(e,t,i){},fc4c:function(e,t,i){},fecc:function(e,t,i){}}]);
//# sourceMappingURL=chunk-24d1a558.14f7bc43.js.map