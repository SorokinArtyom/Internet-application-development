(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-697cd78c"],{"02d4":function(t,n,e){"use strict";var r=e("bc41");e.d(n,"a",(function(){return r["a"]})),e.d(n,"b",(function(){return r["b"]})),e.d(n,"c",(function(){return r["c"]})),e.d(n,"d",(function(){return r["d"]})),e.d(n,"e",(function(){return r["e"]})),e.d(n,"f",(function(){return r["f"]})),e.d(n,"g",(function(){return r["g"]})),e.d(n,"h",(function(){return r["h"]})),e.d(n,"i",(function(){return r["i"]})),e.d(n,"j",(function(){return r["j"]})),e.d(n,"k",(function(){return r["k"]})),e.d(n,"l",(function(){return r["l"]})),e.d(n,"m",(function(){return r["m"]})),e.d(n,"n",(function(){return r["n"]})),e.d(n,"o",(function(){return r["o"]})),e.d(n,"p",(function(){return r["p"]})),e.d(n,"q",(function(){return r["q"]})),e.d(n,"r",(function(){return r["r"]})),e.d(n,"s",(function(){return r["s"]})),e.d(n,"t",(function(){return r["t"]})),e.d(n,"u",(function(){return r["u"]})),e.d(n,"v",(function(){return r["v"]})),e.d(n,"w",(function(){return r["w"]})),e.d(n,"x",(function(){return r["x"]})),e.d(n,"y",(function(){return r["y"]})),e.d(n,"z",(function(){return r["z"]})),e.d(n,"A",(function(){return r["A"]})),e.d(n,"B",(function(){return r["B"]})),e.d(n,"C",(function(){return r["C"]})),e.d(n,"D",(function(){return r["D"]})),e.d(n,"E",(function(){return r["E"]})),e.d(n,"F",(function(){return r["F"]})),e.d(n,"G",(function(){return r["G"]})),e.d(n,"H",(function(){return r["H"]})),e.d(n,"I",(function(){return r["I"]})),e.d(n,"J",(function(){return r["J"]}))},1788:function(t,n,e){"use strict";var r=e("edd1");e.d(n,"a",(function(){return r["a"]}))},"489d":function(t,n,e){"use strict";var r=e("5925");e.d(n,"a",(function(){return r["a"]})),e.d(n,"b",(function(){return r["b"]}))},"4fdd":function(t,n,e){"use strict";var r=e("c993");e.d(n,"a",(function(){return r["a"]})),e.d(n,"b",(function(){return r["b"]})),e.d(n,"c",(function(){return r["c"]})),e.d(n,"d",(function(){return r["d"]})),e.d(n,"e",(function(){return r["e"]})),e.d(n,"f",(function(){return r["f"]})),e.d(n,"g",(function(){return r["g"]})),e.d(n,"h",(function(){return r["h"]})),e.d(n,"i",(function(){return r["i"]})),e.d(n,"j",(function(){return r["j"]})),e.d(n,"k",(function(){return r["k"]})),e.d(n,"l",(function(){return r["l"]})),e.d(n,"m",(function(){return r["m"]})),e.d(n,"n",(function(){return r["n"]})),e.d(n,"o",(function(){return r["p"]})),e.d(n,"p",(function(){return r["q"]})),e.d(n,"q",(function(){return r["r"]})),e.d(n,"r",(function(){return r["s"]})),e.d(n,"s",(function(){return r["t"]})),e.d(n,"t",(function(){return r["u"]})),e.d(n,"u",(function(){return r["v"]}))},"553a":function(t,n,e){"use strict";var r=e("b4cd");e.d(n,"a",(function(){return r["a"]})),e.d(n,"b",(function(){return r["b"]})),e.d(n,"c",(function(){return r["c"]})),e.d(n,"d",(function(){return r["d"]})),e.d(n,"e",(function(){return r["e"]})),e.d(n,"f",(function(){return r["f"]})),e.d(n,"g",(function(){return r["g"]})),e.d(n,"h",(function(){return r["h"]})),e.d(n,"i",(function(){return r["i"]})),e.d(n,"j",(function(){return r["j"]})),e.d(n,"k",(function(){return r["k"]})),e.d(n,"l",(function(){return r["l"]})),e.d(n,"m",(function(){return r["m"]})),e.d(n,"n",(function(){return r["n"]})),e.d(n,"o",(function(){return r["o"]})),e.d(n,"p",(function(){return r["p"]})),e.d(n,"q",(function(){return r["q"]})),e.d(n,"r",(function(){return r["r"]})),e.d(n,"s",(function(){return r["s"]})),e.d(n,"t",(function(){return r["t"]}))},5595:function(t,n,e){"use strict";var r=e("710f");e.d(n,"a",(function(){return r["a"]})),e.d(n,"b",(function(){return r["b"]})),e.d(n,"c",(function(){return r["c"]})),e.d(n,"d",(function(){return r["d"]})),e.d(n,"e",(function(){return r["e"]})),e.d(n,"f",(function(){return r["f"]})),e.d(n,"g",(function(){return r["g"]}))},"633f":function(t,n,e){"use strict";e.d(n,"b",(function(){return v})),e.d(n,"a",(function(){return m}));var r=e("b85c"),i=e("d4ec"),u=e("bee2"),o=e("262e"),a=e("2caf"),d=(e("4ec9"),e("d3b7"),e("3ca3"),e("ddb0"),e("159b"),e("99af"),e("109b")),c=e("d82e"),s=e("f2ea"),f=e("d4e1"),l=e("67b9"),h=e("644e"),p=function(){function t(){var n=this;Object(i["a"])(this,t);var e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=function(t){n.loaded=t.loaded}}return Object(u["a"])(t,[{key:"error",get:function(){return this._reader.error}},{key:"data",get:function(){return this._data}},{key:"read",value:function(t){var n=this,e=this._reader;return this.total=t.size,new Promise((function(r,i){e.onload=function(){var t=e.result;n._data=t,r(t)},e.onerror=function(){i("error")},e.onabort=function(){i("aborted")},n._reader.readAsDataURL(t)}))}},{key:"abort",value:function(){this._reader.abort()}}]),t}();Object(h["a"])(p,f["a"]);var b=e("ed4a"),v=function(t){Object(o["a"])(e,t);var n=Object(a["a"])(e);function e(){return Object(i["a"])(this,e),n.apply(this,arguments)}return Object(u["a"])(e,[{key:"init",value:function(){var t=this;this.loaders=new l["a"],this.loaders.on("add",(function(){return t._updatePendingAction()})),this.loaders.on("remove",(function(){return t._updatePendingAction()})),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(function(t,n){return n?t/n*100:0}))}},{key:"getLoader",value:function(t){return this._loadersMap.get(t)||null}},{key:"createLoader",value:function(t){var n=this;if(!this.createUploadAdapter)return Object(s["b"])("filerepository-no-upload-adapter"),null;var e=new _(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(e),this._loadersMap.set(t,e),t instanceof Promise&&e.file.then((function(t){n._loadersMap.set(t,e)})).catch((function(){})),e.on("change:uploaded",(function(){var t,e=0,i=Object(r["a"])(n.loaders);try{for(i.s();!(t=i.n()).done;){var u=t.value;e+=u.uploaded}}catch(o){i.e(o)}finally{i.f()}n.uploaded=e})),e.on("change:uploadTotal",(function(){var t,e=0,i=Object(r["a"])(n.loaders);try{for(i.s();!(t=i.n()).done;){var u=t.value;u.uploadTotal&&(e+=u.uploadTotal)}}catch(o){i.e(o)}finally{i.f()}n.uploadTotal=e})),e}},{key:"destroyLoader",value:function(t){var n=this,e=t instanceof _?t:this.getLoader(t);e._destroy(),this.loaders.remove(e),this._loadersMap.forEach((function(t,r){t===e&&n._loadersMap.delete(r)}))}},{key:"_updatePendingAction",value:function(){var t=this.editor.plugins.get(c["a"]);if(this.loaders.length){if(!this._pendingAction){var n=this.editor.t,e=function(t){return"".concat(n("Upload in progress")," ").concat(parseInt(t),"%.")};this._pendingAction=t.add(e(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",e)}}else t.remove(this._pendingAction),this._pendingAction=null}}],[{key:"pluginName",get:function(){return"FileRepository"}},{key:"requires",get:function(){return[c["a"]]}}]),e}(d["a"]);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object(h["a"])(v,f["a"]);var _=function(){function t(n,e){Object(i["a"])(this,t),this.id=Object(b["a"])(),this._filePromiseWrapper=this._createFilePromiseWrapper(n),this._adapter=e(this),this._reader=new p,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(function(t,n){return n?t/n*100:0})),this.set("uploadResponse",null)}return Object(u["a"])(t,[{key:"file",get:function(){var t=this;return this._filePromiseWrapper?this._filePromiseWrapper.promise.then((function(n){return t._filePromiseWrapper?n:null})):Promise.resolve(null)}},{key:"data",get:function(){return this._reader.data}},{key:"read",value:function(){var t=this;if("idle"!=this.status)throw new s["a"]("filerepository-read-wrong-status",this);return this.status="reading",this.file.then((function(n){return t._reader.read(n)})).then((function(n){if("reading"!==t.status)throw t.status;return t.status="idle",n})).catch((function(n){if("aborted"===n)throw t.status="aborted","aborted";throw t.status="error",t._reader.error?t._reader.error:n}))}},{key:"upload",value:function(){var t=this;if("idle"!=this.status)throw new s["a"]("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then((function(){return t._adapter.upload()})).then((function(n){return t.uploadResponse=n,t.status="idle",n})).catch((function(n){if("aborted"===t.status)throw"aborted";throw t.status="error",n}))}},{key:"abort",value:function(){var t=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==t?this._reader.abort():"uploading"==t&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch((function(){})),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}},{key:"_destroy",value:function(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}},{key:"_createFilePromiseWrapper",value:function(t){var n={};return n.promise=new Promise((function(e,r){n.rejecter=r,n.isFulfilled=!1,t.then((function(t){n.isFulfilled=!0,e(t)})).catch((function(t){n.isFulfilled=!0,r(t)}))})),n}}]),t}();Object(h["a"])(_,f["a"]);var g=e("257e"),w=e("3707"),y=e("940e"),m=function(t){Object(o["a"])(e,t);var n=Object(a["a"])(e);function e(t){var r;return Object(i["a"])(this,e),r=n.call(this,t),r.buttonView=new w["a"](t),r._fileInputView=new j(t),r._fileInputView.bind("acceptedType").to(Object(g["a"])(r)),r._fileInputView.bind("allowMultipleFiles").to(Object(g["a"])(r)),r._fileInputView.delegate("done").to(Object(g["a"])(r)),r.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[r.buttonView,r._fileInputView]}),r.buttonView.on("execute",(function(){r._fileInputView.open()})),r}return Object(u["a"])(e,[{key:"focus",value:function(){this.buttonView.focus()}}]),e}(y["a"]),j=function(t){Object(o["a"])(e,t);var n=Object(a["a"])(e);function e(t){var r;Object(i["a"])(this,e),r=n.call(this,t),r.set("acceptedType"),r.set("allowMultipleFiles",!1);var u=r.bindTemplate;return r.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:u.to("acceptedType"),multiple:u.to("allowMultipleFiles")},on:{change:u.to((function(){r.element&&r.element.files&&r.element.files.length&&r.fire("done",r.element.files),r.element.value=""}))}}),r}return Object(u["a"])(e,[{key:"open",value:function(){this.element.click()}}]),e}(y["a"]),k=(d["a"],function(){function t(n){Object(i["a"])(this,t),this.loader=n}return Object(u["a"])(t,[{key:"upload",value:function(){var t=this;return new Promise((function(n,e){var r=t.reader=new window.FileReader;r.addEventListener("load",(function(){n({default:r.result})})),r.addEventListener("error",(function(t){e(t)})),r.addEventListener("abort",(function(){e()})),t.loader.file.then((function(t){r.readAsDataURL(t)}))}))}},{key:"abort",value:function(){this.reader.abort()}}]),t}()),O=e("5530"),P=(e("b0c0"),e("b64b"),d["a"],function(){function t(n,e){Object(i["a"])(this,t),this.loader=n,this.options=e}return Object(u["a"])(t,[{key:"upload",value:function(){var t=this;return this.loader.file.then((function(n){return new Promise((function(e,r){t._initRequest(),t._initListeners(e,r,n),t._sendRequest(n)}))}))}},{key:"abort",value:function(){this.xhr&&this.xhr.abort()}},{key:"_initRequest",value:function(){var t=this.xhr=new XMLHttpRequest;t.open("POST",this.options.uploadUrl,!0),t.responseType="json"}},{key:"_initListeners",value:function(t,n,e){var r=this.xhr,i=this.loader,u="Couldn't upload file: ".concat(e.name,".");r.addEventListener("error",(function(){return n(u)})),r.addEventListener("abort",(function(){return n()})),r.addEventListener("load",(function(){var e=r.response;if(!e||e.error)return n(e&&e.error&&e.error.message?e.error.message:u);var i=e.url?{default:e.url}:e.urls;t(Object(O["a"])(Object(O["a"])({},e),{},{urls:i}))})),r.upload&&r.upload.addEventListener("progress",(function(t){t.lengthComputable&&(i.uploadTotal=t.total,i.uploaded=t.loaded)}))}},{key:"_sendRequest",value:function(t){for(var n=this.options.headers||{},e=this.options.withCredentials||!1,r=0,i=Object.keys(n);r<i.length;r++){var u=i[r];this.xhr.setRequestHeader(u,n[u])}this.xhr.withCredentials=e;var o=new FormData;o.append("upload",t),this.xhr.send(o)}}]),t}())},"850e":function(t,n,e){"use strict";var r=e("182b");e.d(n,"a",(function(){return r["a"]})),e.d(n,"b",(function(){return r["b"]})),e.d(n,"c",(function(){return r["c"]})),e.d(n,"d",(function(){return r["d"]})),e.d(n,"e",(function(){return r["e"]})),e.d(n,"f",(function(){return r["f"]})),e.d(n,"g",(function(){return r["g"]})),e.d(n,"h",(function(){return r["h"]}))},"886fd":function(t,n,e){"use strict";var r=e("1b35");e.d(n,"a",(function(){return r["a"]}))},a242:function(t,n,e){"use strict";var r=e("b107");e.d(n,"a",(function(){return r["a"]})),e.d(n,"b",(function(){return r["b"]})),e.d(n,"c",(function(){return r["c"]})),e.d(n,"d",(function(){return r["d"]})),e.d(n,"e",(function(){return r["e"]})),e.d(n,"f",(function(){return r["f"]})),e.d(n,"g",(function(){return r["g"]})),e.d(n,"h",(function(){return r["h"]})),e.d(n,"i",(function(){return r["i"]}))},cea4:function(t,n,e){"use strict";var r=e("6221");e.d(n,"a",(function(){return r["a"]})),e.d(n,"b",(function(){return r["b"]}))},e47f:function(t,n,e){"use strict";var r=e("c893");e.d(n,"a",(function(){return r["a"]}))}}]);
//# sourceMappingURL=chunk-697cd78c.f59caf0c.js.map