(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0859692b"],{"0066":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("d4ec"),r=n("bee2"),a=n("45eb"),o=n("7e84"),s=n("262e"),u=n("2caf"),c=(n("fb6a"),n("a9e3"),n("bf19"),n("6c92")),f=n("98ea"),l=n("9cf5"),h=n("ad6b"),d=n("dfe0"),g=n("f2ea"),v=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(e,r,a,o,s){var u;return Object(i["a"])(this,n),u=t.call(this,s),u.splitPosition=e.clone(),u.splitPosition.stickiness="toNext",u.howMany=r,u.insertionPosition=a,u.graveyardPosition=o?o.clone():null,u.graveyardPosition&&(u.graveyardPosition.stickiness="toNext"),u}return Object(r["a"])(n,[{key:"type",get:function(){return"split"}},{key:"moveTargetPosition",get:function(){var e=this.insertionPosition.path.slice();return e.push(0),new l["a"](this.insertionPosition.root,e)}},{key:"movedRange",get:function(){var e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new h["a"](this.splitPosition,e)}},{key:"clone",value:function(){return new this.constructor(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var e=this.splitPosition.root.document.graveyard,t=new l["a"](e,[0]);return new f["a"](this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new g["a"]("split-operation-position-invalid",this);if(!e.parent)throw new g["a"]("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new g["a"]("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new g["a"]("split-operation-graveyard-position-invalid",this)}},{key:"_execute",value:function(){var e=this.splitPosition.parent;if(this.graveyardPosition)Object(d["b"])(h["a"]._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{var t=e._clone();Object(d["a"])(this.insertionPosition,t)}var n=new h["a"](l["a"]._createAt(e,this.splitPosition.offset),l["a"]._createAt(e,e.maxOffset));Object(d["b"])(n,this.moveTargetPosition)}},{key:"toJSON",value:function(){var e=Object(a["a"])(Object(o["a"])(n.prototype),"toJSON",this).call(this);return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}}],[{key:"className",get:function(){return"SplitOperation"}},{key:"getInsertionPosition",value:function(e){var t=e.path.slice(0,-1);return t[t.length-1]++,new l["a"](e.root,t,"toPrevious")}},{key:"fromJSON",value:function(e,t){var n=l["a"].fromJSON(e.splitPosition,t),i=l["a"].fromJSON(e.insertionPosition,t),r=e.graveyardPosition?l["a"].fromJSON(e.graveyardPosition,t):null;return new this(n,e.howMany,i,r,e.baseVersion)}}]),n}(c["a"])},"17e1":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var i=n("b85c"),r=n("2909"),a=n("d4ec"),o=n("bee2"),s=n("45eb"),u=n("7e84"),c=n("262e"),f=n("2caf"),l=(n("d81d"),n("bf19"),n("b0c0"),n("6c92")),h=n("9cf5"),d=n("a52e"),g=n("63d0"),v=n("dfe0"),p=n("5122"),y=n("a641"),m=n("f2ea"),w=function(e){Object(c["a"])(n,e);var t=Object(f["a"])(n);function n(e,i,r){var o;return Object(a["a"])(this,n),o=t.call(this,r),o.position=e.clone(),o.position.stickiness="toNone",o.nodes=new d["a"](Object(v["c"])(i)),o.shouldReceiveAttributes=!1,o}return Object(o["a"])(n,[{key:"type",get:function(){return"insert"}},{key:"howMany",get:function(){return this.nodes.maxOffset}},{key:"clone",value:function(){var e=new d["a"](Object(r["a"])(this.nodes).map((function(e){return e._clone(!0)}))),t=new n(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}},{key:"getReversed",value:function(){var e=this.position.root.document.graveyard,t=new h["a"](e,[0]);return new g["a"](this.position,this.nodes.maxOffset,t,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new m["a"]("insert-operation-position-invalid",this)}},{key:"_execute",value:function(){var e=this.nodes;this.nodes=new d["a"](Object(r["a"])(e).map((function(e){return e._clone(!0)}))),Object(v["a"])(this.position,e)}},{key:"toJSON",value:function(){var e=Object(s["a"])(Object(u["a"])(n.prototype),"toJSON",this).call(this);return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}}],[{key:"className",get:function(){return"InsertOperation"}},{key:"fromJSON",value:function(e,t){var r,a=[],o=Object(i["a"])(e.nodes);try{for(o.s();!(r=o.n()).done;){var s=r.value;s.name?a.push(y["a"].fromJSON(s)):a.push(p["a"].fromJSON(s))}}catch(c){o.e(c)}finally{o.f()}var u=new n(h["a"].fromJSON(e.position,t),a,e.baseVersion);return u.shouldReceiveAttributes=e.shouldReceiveAttributes,u}}]),n}(l["a"])},2363:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("d4ec"),r=n("bee2"),a=n("f2ea"),o=function(){function e(t,n,r){if(Object(i["a"])(this,e),this.textNode=t,n<0||n>t.offsetSize)throw new a["a"]("model-textproxy-wrong-offsetintext",this);if(r<0||n+r>t.offsetSize)throw new a["a"]("model-textproxy-wrong-length",this);this.data=t.data.substring(n,n+r),this.offsetInText=n}return Object(r["a"])(e,[{key:"startOffset",get:function(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}},{key:"offsetSize",get:function(){return this.data.length}},{key:"endOffset",get:function(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}},{key:"isPartial",get:function(){return this.offsetSize!==this.textNode.offsetSize}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"is",value:function(e){return"$textProxy"===e||"model:$textProxy"===e||"textProxy"===e||"model:textProxy"===e}},{key:"getPath",value:function(){var e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}},{key:"getAncestors",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this:this.parent;while(n)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"hasAttribute",value:function(e){return this.textNode.hasAttribute(e)}},{key:"getAttribute",value:function(e){return this.textNode.getAttribute(e)}},{key:"getAttributes",value:function(){return this.textNode.getAttributes()}},{key:"getAttributeKeys",value:function(){return this.textNode.getAttributeKeys()}}]),e}()},"34b2":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("d4ec"),r=n("bee2"),a=(n("d3b7"),n("ddb0"),n("a630"),n("3ca3"),n("b286")),o=n("f2ea"),s=n("e47a"),u=(n("e800"),function(){function e(t){Object(i["a"])(this,e),this.parent=null,this._attrs=Object(a["a"])(t)}return Object(r["a"])(e,[{key:"index",get:function(){var e;if(!this.parent)return null;if(null===(e=this.parent.getChildIndex(this)))throw new o["a"]("model-node-not-found-in-parent",this);return e}},{key:"startOffset",get:function(){var e;if(!this.parent)return null;if(null===(e=this.parent.getChildStartOffset(this)))throw new o["a"]("model-node-not-found-in-parent",this);return e}},{key:"offsetSize",get:function(){return 1}},{key:"endOffset",get:function(){return this.parent?this.startOffset+this.offsetSize:null}},{key:"nextSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){var e=this;while(e.parent)e=e.parent;return e}},{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){var e=[],t=this;while(t.parent)e.unshift(t.startOffset),t=t.parent;return e}},{key:"getAncestors",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this:this.parent;while(n)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"getCommonAncestor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getAncestors(t),i=e.getAncestors(t),r=0;while(n[r]==i[r]&&n[r])r++;return 0===r?null:n[r-1]}},{key:"isBefore",value:function(e){if(this==e)return!1;if(this.root!==e.root)return!1;var t=this.getPath(),n=e.getPath(),i=Object(s["a"])(t,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return t[i]<n[i]}}},{key:"isAfter",value:function(e){return this!=e&&(this.root===e.root&&!this.isBefore(e))}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"toJSON",value:function(){var e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((function(e,t){return e[t[0]]=t[1],e}),{})),e}},{key:"is",value:function(e){return"node"===e||"model:node"===e}},{key:"_clone",value:function(){return new e(this._attrs)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_setAttribute",value:function(e,t){this._attrs.set(e,t)}},{key:"_setAttributesTo",value:function(e){this._attrs=Object(a["a"])(e)}},{key:"_removeAttribute",value:function(e){return this._attrs.delete(e)}},{key:"_clearAttributes",value:function(){this._attrs.clear()}}]),e}())},"3f95":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("d4ec"),r=n("bee2"),a=n("73f9"),o=n("17e1"),s=n("f4bc"),u=n("63d0"),c=n("869f"),f=n("6c92"),l=n("8e03"),h=n("6472"),d=n("0066"),g=n("98ea"),v={};v[a["a"].className]=a["a"],v[o["a"].className]=o["a"],v[s["a"].className]=s["a"],v[u["a"].className]=u["a"],v[c["a"].className]=c["a"],v[f["a"].className]=f["a"],v[l["a"].className]=l["a"],v[h["a"].className]=h["a"],v[d["a"].className]=d["a"],v[g["a"].className]=g["a"];var p=function(){function e(){Object(i["a"])(this,e)}return Object(r["a"])(e,null,[{key:"fromJSON",value:function(e,t){return v[e.__className].fromJSON(e,t)}}]),e}()},5122:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("d4ec"),r=n("bee2"),a=n("45eb"),o=n("7e84"),s=n("262e"),u=n("2caf"),c=n("34b2"),f=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(e,r){var a;return Object(i["a"])(this,n),a=t.call(this,r),a._data=e||"",a}return Object(r["a"])(n,[{key:"offsetSize",get:function(){return this.data.length}},{key:"data",get:function(){return this._data}},{key:"is",value:function(e){return"$text"===e||"model:$text"===e||"text"===e||"model:text"===e||"node"===e||"model:node"===e}},{key:"toJSON",value:function(){var e=Object(a["a"])(Object(o["a"])(n.prototype),"toJSON",this).call(this);return e.data=this.data,e}},{key:"_clone",value:function(){return new n(this.data,this.getAttributes())}}],[{key:"fromJSON",value:function(e){return new n(e.data,e.attributes)}}]),n}(c["a"])},"63d0":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("d4ec"),r=n("bee2"),a=n("45eb"),o=n("7e84"),s=n("262e"),u=n("2caf"),c=(n("bf19"),n("6c92")),f=n("9cf5"),l=n("ad6b"),h=n("f2ea"),d=n("e47a"),g=n("dfe0"),v=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(e,r,a,o){var s;return Object(i["a"])(this,n),s=t.call(this,o),s.sourcePosition=e.clone(),s.sourcePosition.stickiness="toNext",s.howMany=r,s.targetPosition=a.clone(),s.targetPosition.stickiness="toNone",s}return Object(r["a"])(n,[{key:"type",get:function(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}},{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}},{key:"getMovedRangeStart",value:function(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}},{key:"getReversed",value:function(){var e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,i=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new h["a"]("move-operation-nodes-do-not-exist",this);if(e===t&&n<i&&i<n+this.howMany)throw new h["a"]("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==Object(d["a"])(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){var r=this.sourcePosition.path.length-1;if(this.targetPosition.path[r]>=n&&this.targetPosition.path[r]<n+this.howMany)throw new h["a"]("move-operation-node-into-itself",this)}}},{key:"_execute",value:function(){Object(g["b"])(l["a"]._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}},{key:"toJSON",value:function(){var e=Object(a["a"])(Object(o["a"])(n.prototype),"toJSON",this).call(this);return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}}],[{key:"className",get:function(){return"MoveOperation"}},{key:"fromJSON",value:function(e,t){var n=f["a"].fromJSON(e.sourcePosition,t),i=f["a"].fromJSON(e.targetPosition,t);return new this(n,e.howMany,i,e.baseVersion)}}]),n}(c["a"])},6472:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("d4ec"),r=n("bee2"),a=n("45eb"),o=n("7e84"),s=n("262e"),u=n("2caf"),c=(n("bf19"),n("6c92")),f=n("f2ea"),l=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(e,r,a,o,s){var u;return Object(i["a"])(this,n),u=t.call(this,s),u.root=e,u.key=r,u.oldValue=a,u.newValue=o,u}return Object(r["a"])(n,[{key:"type",get:function(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}},{key:"clone",value:function(){return new n(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"_validate",value:function(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new f["a"]("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new f["a"]("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new f["a"]("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}},{key:"_execute",value:function(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}},{key:"toJSON",value:function(){var e=Object(a["a"])(Object(o["a"])(n.prototype),"toJSON",this).call(this);return e.root=this.root.toJSON(),e}}],[{key:"className",get:function(){return"RootAttributeOperation"}},{key:"fromJSON",value:function(e,t){if(!t.getRoot(e.root))throw new f["a"]("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new n(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}]),n}(c["a"])},6576:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("d4ec"),r=n("bee2"),a=n("262e"),o=n("2caf"),s=(n("b0c0"),n("a641")),u=function(e){Object(a["a"])(n,e);var t=Object(o["a"])(n);function n(e,r){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"main";return Object(i["a"])(this,n),a=t.call(this,r),a._document=e,a.rootName=o,a}return Object(r["a"])(n,[{key:"document",get:function(){return this._document}},{key:"is",value:function(e,t){return t?t===this.name&&("rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e):"rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e||"node"===e||"model:node"===e}},{key:"toJSON",value:function(){return this.rootName}}]),n}(s["a"])},"6c92":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("d4ec"),r=n("bee2"),a=function(){function e(t){Object(i["a"])(this,e),this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}return Object(r["a"])(e,[{key:"_validate",value:function(){}},{key:"toJSON",value:function(){var e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}}],[{key:"className",get:function(){return"Operation"}},{key:"fromJSON",value:function(e){return new this(e.baseVersion)}}]),e}()},"73f9":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("b85c"),r=n("d4ec"),a=n("bee2"),o=n("45eb"),s=n("7e84"),u=n("262e"),c=n("2caf"),f=(n("bf19"),n("6c92")),l=n("ad6b"),h=n("f2ea"),d=n("dfe0"),g=n("32e8d"),v=function(e){Object(u["a"])(n,e);var t=Object(c["a"])(n);function n(e,i,a,o,s){var u;return Object(r["a"])(this,n),u=t.call(this,s),u.range=e.clone(),u.key=i,u.oldValue=void 0===a?null:a,u.newValue=void 0===o?null:o,u}return Object(a["a"])(n,[{key:"type",get:function(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}},{key:"clone",value:function(){return new n(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"toJSON",value:function(){var e=Object(o["a"])(Object(s["a"])(n.prototype),"toJSON",this).call(this);return e.range=this.range.toJSON(),e}},{key:"_validate",value:function(){if(!this.range.isFlat)throw new h["a"]("attribute-operation-range-not-flat",this);var e,t=Object(i["a"])(this.range.getItems({shallow:!0}));try{for(t.s();!(e=t.n()).done;){var n=e.value;if(null!==this.oldValue&&!Object(g["a"])(n.getAttribute(this.key),this.oldValue))throw new h["a"]("attribute-operation-wrong-old-value",this,{item:n,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&n.hasAttribute(this.key))throw new h["a"]("attribute-operation-attribute-exists",this,{node:n,key:this.key})}}catch(r){t.e(r)}finally{t.f()}}},{key:"_execute",value:function(){Object(g["a"])(this.oldValue,this.newValue)||Object(d["e"])(this.range,this.key,this.newValue)}}],[{key:"className",get:function(){return"AttributeOperation"}},{key:"fromJSON",value:function(e,t){return new n(l["a"].fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}]),n}(f["a"])},"82af":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("d4ec"),r=n("bee2"),a=(n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),n("a4d3"),n("e01a"),n("5122")),o=n("2363"),s=n("a641"),u=n("9cf5"),c=n("f2ea"),f=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(i["a"])(this,t),!e.boundaries&&!e.startPosition)throw new c["a"]("model-tree-walker-no-start-position",null);var n=e.direction||"forward";if("forward"!=n&&"backward"!=n)throw new c["a"]("model-tree-walker-unknown-direction",e,{direction:n});this.direction=n,this.boundaries=e.boundaries||null,e.startPosition?this.position=e.startPosition.clone():this.position=u["a"]._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}return Object(r["a"])(t,[{key:e,value:function(){return this}},{key:"skip",value:function(e){var t,n,i,r;do{i=this.position,r=this._visitedParent;var a=this.next();t=a.done,n=a.value}while(!t&&e(n));t||(this.position=i,this._visitedParent=r)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&t.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};var i=t.parent,r=Object(u["d"])(t,i),c=r||Object(u["b"])(t,i,r);if(c instanceof s["a"])return this.shallow?t.offset++:(t.path.push(0),this._visitedParent=c),this.position=t,l("elementStart",c,e,t,1);if(c instanceof a["a"]){var f;if(this.singleCharacters)f=1;else{var h=c.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<h&&(h=this.boundaries.end.offset),f=h-t.offset}var d=t.offset-c.startOffset,g=new o["a"](c,d,f);return t.offset+=f,this.position=t,l("text",g,e,t,f)}return t.path.pop(),t.offset++,this.position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():l("elementEnd",n,e,t)}},{key:"_previous",value:function(){var e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===t.offset)return{done:!0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};var i=t.parent,r=Object(u["d"])(t,i),c=r||Object(u["c"])(t,i,r);if(c instanceof s["a"])return t.offset--,this.shallow?(this.position=t,l("elementStart",c,e,t,1)):(t.path.push(c.maxOffset),this.position=t,this._visitedParent=c,this.ignoreElementEnd?this._previous():l("elementEnd",c,e,t));if(c instanceof a["a"]){var f;if(this.singleCharacters)f=1;else{var h=c.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>h&&(h=this.boundaries.start.offset),f=t.offset-h}var d=t.offset-c.startOffset,g=new o["a"](c,d-f,f);return t.offset-=f,this.position=t,l("text",g,e,t,f)}return t.path.pop(),this.position=t,this._visitedParent=n.parent,l("elementStart",n,e,t,1)}}]),t}(Symbol.iterator);function l(e,t,n,i,r){return{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:i,length:r}}}},"869f":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("d4ec"),r=n("bee2"),a=n("262e"),o=n("2caf"),s=n("6c92"),u=function(e){Object(a["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(r["a"])(n,[{key:"type",get:function(){return"noop"}},{key:"clone",value:function(){return new n(this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.baseVersion+1)}},{key:"_execute",value:function(){}}],[{key:"className",get:function(){return"NoOperation"}}]),n}(s["a"])},"8ab1":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n("d4ec"),r=n("bee2"),a=n("2909"),o=n("b85c"),s=(n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("fb6a"),n("10d1"),n("a434"),n("99af"),n("d81d"),n("b0c0"),n("17e1")),u=n("73f9"),c=n("8e03"),f=n("f4bc"),l=n("63d0"),h=n("6472"),d=n("98ea"),g=n("0066"),v=n("869f"),p=n("ad6b"),y=n("9cf5"),m=n("e47a"),w=new Map;function b(e,t,n){var i=w.get(e);i||(i=new Map,w.set(e,i)),i.set(t,n)}function P(e,t){var n=w.get(e);return n&&n.has(t)?n.get(t):k}function k(e){return[e]}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=P(e.constructor,t.constructor);try{return e=e.clone(),i(e,t,n)}catch(r){throw r}}function O(e,t,n){e=e.slice(),t=t.slice();var i=new A(n.document,n.useRelations,n.forceWeakRemove);i.setOriginalOperations(e),i.setOriginalOperations(t);var r=i.originalOperations;if(0==e.length||0==t.length)return{operationsA:e,operationsB:t,originalOperations:r};var s,u=new WeakMap,c=Object(o["a"])(e);try{for(c.s();!(s=c.n()).done;){var f=s.value;u.set(f,0)}}catch(B){c.e(B)}finally{c.f()}var l={nextBaseVersionA:e[e.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:e.length,originalOperationsBCount:t.length},h=0;while(h<e.length){var d,g,v=e[h],p=u.get(v);if(p!=t.length){var y=t[p],m=_(v,y,i.getContext(v,y,!0)),w=_(y,v,i.getContext(y,v,!1));i.updateRelation(v,y),i.setOriginalOperations(m,v),i.setOriginalOperations(w,y);var b,P=Object(o["a"])(m);try{for(P.s();!(b=P.n()).done;){var k=b.value;u.set(k,p+w.length)}}catch(B){P.e(B)}finally{P.f()}(d=e).splice.apply(d,[h,1].concat(Object(a["a"])(m))),(g=t).splice.apply(g,[p,1].concat(Object(a["a"])(w)))}else h++}if(n.padWithNoOps){var O=e.length-l.originalOperationsACount,x=t.length-l.originalOperationsBCount;R(e,x-O),R(t,O-x)}return S(e,l.nextBaseVersionB),S(t,l.nextBaseVersionA),{operationsA:e,operationsB:t,originalOperations:r}}var A=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(i["a"])(this,e),this.originalOperations=new Map,this._history=t.history,this._useRelations=n,this._forceWeakRemove=!!r,this._relations=new Map}return Object(r["a"])(e,[{key:"setOriginalOperations",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=n?this.originalOperations.get(n):null,r=Object(o["a"])(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;this.originalOperations.set(a,i||a)}}catch(s){r.e(s)}finally{r.f()}}},{key:"updateRelation",value:function(e,t){switch(e.constructor){case l["a"]:switch(t.constructor){case d["a"]:e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter");break;case l["a"]:e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter");break}break;case g["a"]:switch(t.constructor){case d["a"]:e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");break;case l["a"]:if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{var n=p["a"]._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.splitPosition)){var i=n.end.offset-e.splitPosition.offset,r=e.splitPosition.offset-n.start.offset;this._setRelation(e,t,{howMany:i,offset:r})}}}break;case d["a"]:switch(t.constructor){case d["a"]:e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement");break;case g["a"]:e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource")}break;case f["a"]:var a=e.newRange;if(!a)return;switch(t.constructor){case l["a"]:var o=p["a"]._createFromPositionAndShift(t.sourcePosition,t.howMany),s=o.containsPosition(a.start)||o.start.isEqual(a.start),u=o.containsPosition(a.end)||o.end.isEqual(a.end);!s&&!u||o.containsRange(a)||this._setRelation(e,t,{side:s?"left":"right",path:s?a.start.path.slice():a.end.path.slice()});break;case d["a"]:var c=a.start.isEqual(t.targetPosition),h=a.start.isEqual(t.deletionPosition),v=a.end.isEqual(t.deletionPosition),y=a.end.isEqual(t.sourcePosition);(c||h||v||y)&&this._setRelation(e,t,{wasInLeftElement:c,wasStartBeforeMergedElement:h,wasEndBeforeMergedElement:v,wasInRightElement:y});break}break}}},{key:"getContext",value:function(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}},{key:"_wasUndone",value:function(e){var t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}},{key:"_getRelation",value:function(e,t){var n=this.originalOperations.get(t),i=this._history.getUndoneOperation(n);if(!i)return null;var r=this.originalOperations.get(e),a=this._relations.get(r);return a&&a.get(i)||null}},{key:"_setRelation",value:function(e,t,n){var i=this.originalOperations.get(e),r=this.originalOperations.get(t),a=this._relations.get(i);a||(a=new Map,this._relations.set(i,a)),a.set(r,n)}}]),e}();function S(e,t){var n,i=Object(o["a"])(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.baseVersion=t++}}catch(a){i.e(a)}finally{i.f()}}function R(e,t){for(var n=0;n<t;n++)e.push(new v["a"](0))}function x(e,t,n){var i=e.nodes,r=i.getNode(0).getAttribute(t);if(r==n)return null;var a=new p["a"](e.position,e.position.getShiftedBy(e.howMany));return new u["a"](a,t,r,n,0)}function B(e,t){var n=p["a"]._createFromPositionAndShift(t.sourcePosition,t.howMany),i=null,r=[];n.containsRange(e,!0)?i=e:e.start.hasSameParentAs(n.start)?(r=e.getDifference(n),i=e.getIntersection(n)):r=[e];var s,u=[],c=Object(o["a"])(r);try{for(c.s();!(s=c.n()).done;){var f=s.value;f=f._getTransformedByDeletion(t.sourcePosition,t.howMany);var l=t.getMovedRangeStart(),h=f.start.hasSameParentAs(l);f=f._getTransformedByInsertion(l,t.howMany,h),u.push.apply(u,Object(a["a"])(f))}}catch(d){c.e(d)}finally{c.f()}return i&&u.push(i._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!1)[0]),u}function j(e,t){return null===e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)}function N(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i],a=new l["a"](r.start,r.end.offset-r.start.offset,t,0);n.push(a);for(var o=i+1;o<e.length;o++)e[o]=e[o]._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany)[0];t=t._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany)}return n}b(u["a"],u["a"],(function(e,t,n){if(e.key===t.key&&e.range.start.hasSameParentAs(t.range.start)){var i=e.range.getDifference(t.range).map((function(t){return new u["a"](t,e.key,e.oldValue,e.newValue,0)})),r=e.range.getIntersection(t.range);return r&&n.aIsStrong&&i.push(new u["a"](r,t.key,t.newValue,e.newValue,0)),0==i.length?[new v["a"](0)]:i}return[e]})),b(u["a"],s["a"],(function(e,t){if(e.range.start.hasSameParentAs(t.position)&&e.range.containsPosition(t.position)){var n=e.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes),i=n.map((function(t){return new u["a"](t,e.key,e.oldValue,e.newValue,e.baseVersion)}));if(t.shouldReceiveAttributes){var r=x(t,e.key,e.oldValue);r&&i.unshift(r)}return i}return e.range=e.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[e]})),b(u["a"],d["a"],(function(e,t){var n=[];e.range.start.hasSameParentAs(t.deletionPosition)&&(e.range.containsPosition(t.deletionPosition)||e.range.start.isEqual(t.deletionPosition))&&n.push(p["a"]._createFromPositionAndShift(t.graveyardPosition,1));var i=e.range._getTransformedByMergeOperation(t);return i.isCollapsed||n.push(i),n.map((function(t){return new u["a"](t,e.key,e.oldValue,e.newValue,e.baseVersion)}))})),b(u["a"],l["a"],(function(e,t){var n=B(e.range,t);return n.map((function(t){return new u["a"](t,e.key,e.oldValue,e.newValue,e.baseVersion)}))})),b(u["a"],g["a"],(function(e,t){if(e.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.range.end.offset++,[e];if(e.range.start.hasSameParentAs(t.splitPosition)&&e.range.containsPosition(t.splitPosition)){var n=e.clone();return n.range=new p["a"](t.moveTargetPosition.clone(),e.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),e.range.end=t.splitPosition.clone(),e.range.end.stickiness="toPrevious",[e,n]}return e.range=e.range._getTransformedBySplitOperation(t),[e]})),b(s["a"],u["a"],(function(e,t){var n=[e];if(e.shouldReceiveAttributes&&e.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(e.position)){var i=x(e,t.key,t.newValue);i&&n.push(i)}return n})),b(s["a"],s["a"],(function(e,t,n){return e.position.isEqual(t.position)&&n.aIsStrong||(e.position=e.position._getTransformedByInsertOperation(t)),[e]})),b(s["a"],l["a"],(function(e,t){return e.position=e.position._getTransformedByMoveOperation(t),[e]})),b(s["a"],g["a"],(function(e,t){return e.position=e.position._getTransformedBySplitOperation(t),[e]})),b(s["a"],d["a"],(function(e,t){return e.position=e.position._getTransformedByMergeOperation(t),[e]})),b(f["a"],s["a"],(function(e,t){return e.oldRange&&(e.oldRange=e.oldRange._getTransformedByInsertOperation(t)[0]),e.newRange&&(e.newRange=e.newRange._getTransformedByInsertOperation(t)[0]),[e]})),b(f["a"],f["a"],(function(e,t,n){if(e.name==t.name){if(!n.aIsStrong)return[new v["a"](0)];e.oldRange=t.newRange?t.newRange.clone():null}return[e]})),b(f["a"],d["a"],(function(e,t){return e.oldRange&&(e.oldRange=e.oldRange._getTransformedByMergeOperation(t)),e.newRange&&(e.newRange=e.newRange._getTransformedByMergeOperation(t)),[e]})),b(f["a"],l["a"],(function(e,t,n){if(e.oldRange&&(e.oldRange=p["a"]._createFromRanges(e.oldRange._getTransformedByMoveOperation(t))),e.newRange){if(n.abRelation){var i=p["a"]._createFromRanges(e.newRange._getTransformedByMoveOperation(t));if("left"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.start))return e.newRange.start.path=n.abRelation.path,e.newRange.end=i.end,[e];if("right"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.end))return e.newRange.start=i.start,e.newRange.end.path=n.abRelation.path,[e]}e.newRange=p["a"]._createFromRanges(e.newRange._getTransformedByMoveOperation(t))}return[e]})),b(f["a"],g["a"],(function(e,t,n){if(e.oldRange&&(e.oldRange=e.oldRange._getTransformedBySplitOperation(t)),e.newRange){if(n.abRelation){var i=e.newRange._getTransformedBySplitOperation(t);return e.newRange.start.isEqual(t.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?e.newRange.start=y["a"]._createAt(t.insertionPosition):e.newRange.start.isEqual(t.splitPosition)&&!n.abRelation.wasInLeftElement&&(e.newRange.start=y["a"]._createAt(t.moveTargetPosition)),e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasInRightElement?e.newRange.end=y["a"]._createAt(t.moveTargetPosition):e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?e.newRange.end=y["a"]._createAt(t.insertionPosition):e.newRange.end=i.end,[e]}e.newRange=e.newRange._getTransformedBySplitOperation(t)}return[e]})),b(d["a"],s["a"],(function(e,t){return e.sourcePosition.hasSameParentAs(t.position)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByInsertOperation(t),e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t),[e]})),b(d["a"],d["a"],(function(e,t,n){if(e.sourcePosition.isEqual(t.sourcePosition)&&e.targetPosition.isEqual(t.targetPosition)){if(n.bWasUndone){var i=t.graveyardPosition.path.slice();return i.push(0),e.sourcePosition=new y["a"](t.graveyardPosition.root,i),e.howMany=0,[e]}return[new v["a"](0)]}if(e.sourcePosition.isEqual(t.sourcePosition)&&!e.targetPosition.isEqual(t.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){var r="$graveyard"==e.targetPosition.root.rootName,a="$graveyard"==t.targetPosition.root.rootName,o=r&&!a,s=a&&!r,u=s||!o&&n.aIsStrong;if(u){var c=t.targetPosition._getTransformedByMergeOperation(t),f=e.targetPosition._getTransformedByMergeOperation(t);return[new l["a"](c,e.howMany,f,0)]}return[new v["a"](0)]}return e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMergeOperation(t),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),e.graveyardPosition.isEqual(t.graveyardPosition)&&n.aIsStrong||(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]})),b(d["a"],l["a"],(function(e,t,n){var i=p["a"]._createFromPositionAndShift(t.sourcePosition,t.howMany);return"remove"==t.type&&!n.bWasUndone&&!n.forceWeakRemove&&e.deletionPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.sourcePosition)?[new v["a"](0)]:(e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition.hasSameParentAs(t.sourcePosition)&&(e.howMany-=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMoveOperation(t),e.targetPosition=e.targetPosition._getTransformedByMoveOperation(t),e.graveyardPosition.isEqual(t.targetPosition)||(e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)),[e])})),b(d["a"],g["a"],(function(e,t,n){if(t.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),e.deletionPosition.isEqual(t.graveyardPosition)&&(e.howMany=t.howMany)),e.targetPosition.isEqual(t.splitPosition)){var i=0!=t.howMany,r=t.graveyardPosition&&e.deletionPosition.isEqual(t.graveyardPosition);if(i||r||"mergeTargetNotMoved"==n.abRelation)return e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),[e]}if(e.sourcePosition.isEqual(t.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return e.howMany=0,e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e];if("mergeSameElement"==n.abRelation||e.sourcePosition.offset>0)return e.sourcePosition=t.moveTargetPosition.clone(),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]}return e.sourcePosition.hasSameParentAs(t.splitPosition)&&(e.howMany=t.splitPosition.offset),e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]})),b(l["a"],s["a"],(function(e,t){var n=p["a"]._createFromPositionAndShift(e.sourcePosition,e.howMany),i=n._getTransformedByInsertOperation(t,!1)[0];return e.sourcePosition=i.start,e.howMany=i.end.offset-i.start.offset,e.targetPosition.isEqual(t.position)||(e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t)),[e]})),b(l["a"],l["a"],(function(e,t,n){var i,r=p["a"]._createFromPositionAndShift(e.sourcePosition,e.howMany),s=p["a"]._createFromPositionAndShift(t.sourcePosition,t.howMany),u=n.aIsStrong,c=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?c=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(c=!1),i=e.targetPosition.isEqual(t.targetPosition)&&c?e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):e.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),j(e,t)&&j(t,e))return[t.getReversed()];var f=r.containsPosition(t.targetPosition);if(f&&r.containsRange(s,!0))return r.start=r.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),r.end=r.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),N([r],i);var l=s.containsPosition(e.targetPosition);if(l&&s.containsRange(r,!0))return r.start=r.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),r.end=r.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),N([r],i);var h=Object(m["a"])(e.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if("prefix"==h||"extension"==h)return r.start=r.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),r.end=r.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),N([r],i);"remove"!=e.type||"remove"==t.type||n.aWasUndone||n.forceWeakRemove?"remove"==e.type||"remove"!=t.type||n.bWasUndone||n.forceWeakRemove||(u=!1):u=!0;var d,g=[],y=r.getDifference(s),w=Object(o["a"])(y);try{for(w.s();!(d=w.n()).done;){var b=d.value;b.start=b.start._getTransformedByDeletion(t.sourcePosition,t.howMany),b.end=b.end._getTransformedByDeletion(t.sourcePosition,t.howMany);var P="same"==Object(m["a"])(b.start.getParentPath(),t.getMovedRangeStart().getParentPath()),k=b._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,P);g.push.apply(g,Object(a["a"])(k))}}catch(O){w.e(O)}finally{w.f()}var _=r.getIntersection(s);return null!==_&&u&&(_.start=_.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),_.end=_.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),0===g.length?g.push(_):1==g.length?s.start.isBefore(r.start)||s.start.isEqual(r.start)?g.unshift(_):g.push(_):g.splice(1,0,_)),0===g.length?[new v["a"](e.baseVersion)]:N(g,i)})),b(l["a"],g["a"],(function(e,t,n){var i=e.targetPosition.clone();e.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(i=e.targetPosition._getTransformedBySplitOperation(t));var r=p["a"]._createFromPositionAndShift(e.sourcePosition,e.howMany);if(r.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.howMany++,e.targetPosition=i,[e];if(r.start.hasSameParentAs(t.splitPosition)&&r.containsPosition(t.splitPosition)){var a=new p["a"](t.splitPosition,r.end);a=a._getTransformedBySplitOperation(t);var o=[new p["a"](r.start,t.splitPosition),a];return N(o,i)}e.targetPosition.isEqual(t.splitPosition)&&"insertAtSource"==n.abRelation&&(i=t.moveTargetPosition),e.targetPosition.isEqual(t.insertionPosition)&&"insertBetween"==n.abRelation&&(i=e.targetPosition);var s=r._getTransformedBySplitOperation(t),u=[s];if(t.graveyardPosition){var c=r.start.isEqual(t.graveyardPosition)||r.containsPosition(t.graveyardPosition);e.howMany>1&&c&&!n.aWasUndone&&u.push(p["a"]._createFromPositionAndShift(t.insertionPosition,1))}return N(u,i)})),b(l["a"],d["a"],(function(e,t,n){var i=p["a"]._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.sourcePosition))if("remove"!=e.type||n.forceWeakRemove){if(1==e.howMany)return n.bWasUndone?(e.sourcePosition=t.graveyardPosition.clone(),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]):[new v["a"](0)]}else if(!n.aWasUndone){var r=[],a=t.graveyardPosition.clone(),o=t.targetPosition._getTransformedByMergeOperation(t);e.howMany>1&&(r.push(new l["a"](e.sourcePosition,e.howMany-1,e.targetPosition,0)),a=a._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1),o=o._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1));var s=t.deletionPosition._getCombined(e.sourcePosition,e.targetPosition),u=new l["a"](a,1,s,0),c=u.getMovedRangeStart().path.slice();c.push(0);var f=new y["a"](u.targetPosition.root,c);o=o._getTransformedByMove(a,s,1);var h=new l["a"](o,t.howMany,f,0);return r.push(u),r.push(h),r}var d=p["a"]._createFromPositionAndShift(e.sourcePosition,e.howMany),g=d._getTransformedByMergeOperation(t);return e.sourcePosition=g.start,e.howMany=g.end.offset-g.start.offset,e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]})),b(c["a"],s["a"],(function(e,t){return e.position=e.position._getTransformedByInsertOperation(t),[e]})),b(c["a"],d["a"],(function(e,t){return e.position.isEqual(t.deletionPosition)?(e.position=t.graveyardPosition.clone(),e.position.stickiness="toNext",[e]):(e.position=e.position._getTransformedByMergeOperation(t),[e])})),b(c["a"],l["a"],(function(e,t){return e.position=e.position._getTransformedByMoveOperation(t),[e]})),b(c["a"],c["a"],(function(e,t,n){if(e.position.isEqual(t.position)){if(!n.aIsStrong)return[new v["a"](0)];e.oldName=t.newName}return[e]})),b(c["a"],g["a"],(function(e,t){var n=e.position.path,i=t.splitPosition.getParentPath();if("same"==Object(m["a"])(n,i)&&!t.graveyardPosition){var r=new c["a"](e.position.getShiftedBy(1),e.oldName,e.newName,0);return[e,r]}return e.position=e.position._getTransformedBySplitOperation(t),[e]})),b(h["a"],h["a"],(function(e,t,n){if(e.root===t.root&&e.key===t.key){if(!n.aIsStrong||e.newValue===t.newValue)return[new v["a"](0)];e.oldValue=t.newValue}return[e]})),b(g["a"],s["a"],(function(e,t){return e.splitPosition.hasSameParentAs(t.position)&&e.splitPosition.offset<t.position.offset&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByInsertOperation(t),e.insertionPosition=e.insertionPosition._getTransformedByInsertOperation(t),[e]})),b(g["a"],d["a"],(function(e,t,n){if(!e.graveyardPosition&&!n.bWasUndone&&e.splitPosition.hasSameParentAs(t.sourcePosition)){var i=t.graveyardPosition.path.slice();i.push(0);var r=new y["a"](t.graveyardPosition.root,i),a=g["a"].getInsertionPosition(new y["a"](t.graveyardPosition.root,i)),o=new g["a"](r,0,a,null,0);return e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=g["a"].getInsertionPosition(e.splitPosition),e.graveyardPosition=o.insertionPosition.clone(),e.graveyardPosition.stickiness="toNext",[o,e]}return e.splitPosition.hasSameParentAs(t.deletionPosition)&&!e.splitPosition.isAfter(t.deletionPosition)&&e.howMany--,e.splitPosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=g["a"].getInsertionPosition(e.splitPosition),e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]})),b(g["a"],l["a"],(function(e,t,n){var i=p["a"]._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.graveyardPosition){var r=i.start.isEqual(e.graveyardPosition)||i.containsPosition(e.graveyardPosition);if(!n.bWasUndone&&r){var a=e.splitPosition._getTransformedByMoveOperation(t),o=e.graveyardPosition._getTransformedByMoveOperation(t),s=o.path.slice();s.push(0);var u=new y["a"](o.root,s),c=new l["a"](a,e.howMany,u,0);return[c]}e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)}var f=e.splitPosition.isEqual(t.targetPosition);if(f&&("insertAtSource"==n.baRelation||"splitBefore"==n.abRelation))return e.howMany+=t.howMany,e.splitPosition=e.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),e.insertionPosition=g["a"].getInsertionPosition(e.splitPosition),[e];if(f&&n.abRelation&&n.abRelation.howMany){var h=n.abRelation,d=h.howMany,v=h.offset;return e.howMany+=d,e.splitPosition=e.splitPosition.getShiftedBy(v),[e]}if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.splitPosition)){var m=t.howMany-(e.splitPosition.offset-t.sourcePosition.offset);return e.howMany-=m,e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany),e.splitPosition=t.sourcePosition.clone(),e.insertionPosition=g["a"].getInsertionPosition(e.splitPosition),[e]}return t.sourcePosition.isEqual(t.targetPosition)||(e.splitPosition.hasSameParentAs(t.sourcePosition)&&e.splitPosition.offset<=t.sourcePosition.offset&&(e.howMany-=t.howMany),e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany)),e.splitPosition.stickiness="toNone",e.splitPosition=e.splitPosition._getTransformedByMoveOperation(t),e.splitPosition.stickiness="toNext",e.graveyardPosition?e.insertionPosition=e.insertionPosition._getTransformedByMoveOperation(t):e.insertionPosition=g["a"].getInsertionPosition(e.splitPosition),[e]})),b(g["a"],g["a"],(function(e,t,n){if(e.splitPosition.isEqual(t.splitPosition)){if(!e.graveyardPosition&&!t.graveyardPosition)return[new v["a"](0)];if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition))return[new v["a"](0)];if("splitBefore"==n.abRelation)return e.howMany=0,e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t),[e]}if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition)){var i="$graveyard"==e.splitPosition.root.rootName,r="$graveyard"==t.splitPosition.root.rootName,a=i&&!r,o=r&&!i,s=o||!a&&n.aIsStrong;if(s){var u=[];return t.howMany&&u.push(new l["a"](t.moveTargetPosition,t.howMany,t.splitPosition,0)),e.howMany&&u.push(new l["a"](e.splitPosition,e.howMany,e.moveTargetPosition,0)),u}return[new v["a"](0)]}if(e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t)),e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.abRelation)return e.howMany++,[e];if(t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.baRelation){var c=t.insertionPosition.path.slice();c.push(0);var f=new y["a"](t.insertionPosition.root,c),h=new l["a"](e.insertionPosition,1,f,0);return[e,h]}return e.splitPosition.hasSameParentAs(t.splitPosition)&&e.splitPosition.offset<t.splitPosition.offset&&(e.howMany-=t.howMany),e.splitPosition=e.splitPosition._getTransformedBySplitOperation(t),e.insertionPosition=g["a"].getInsertionPosition(e.splitPosition),[e]}))},"8e03":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("d4ec"),r=n("bee2"),a=n("45eb"),o=n("7e84"),s=n("262e"),u=n("2caf"),c=(n("b0c0"),n("bf19"),n("6c92")),f=n("a641"),l=n("f2ea"),h=n("9cf5"),d=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(e,r,a,o){var s;return Object(i["a"])(this,n),s=t.call(this,o),s.position=e,s.position.stickiness="toNext",s.oldName=r,s.newName=a,s}return Object(r["a"])(n,[{key:"type",get:function(){return"rename"}},{key:"clone",value:function(){return new n(this.position.clone(),this.oldName,this.newName,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.position.nodeAfter;if(!(e instanceof f["a"]))throw new l["a"]("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new l["a"]("rename-operation-wrong-name",this)}},{key:"_execute",value:function(){var e=this.position.nodeAfter;e.name=this.newName}},{key:"toJSON",value:function(){var e=Object(a["a"])(Object(o["a"])(n.prototype),"toJSON",this).call(this);return e.position=this.position.toJSON(),e}}],[{key:"className",get:function(){return"RenameOperation"}},{key:"fromJSON",value:function(e,t){return new n(h["a"].fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}]),n}(c["a"])},"8ed3":function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return w}));var i=n("2909"),r=n("3835"),a=n("b85c"),o=n("d4ec"),s=n("bee2"),u=(n("96cf"),n("b0c0"),n("caad"),n("2532"),n("a630"),n("3ca3"),n("d3b7"),n("99af"),n("ddb0"),n("7db0"),n("b64b"),n("d81d"),n("d28b"),n("a4d3"),n("e01a"),n("8a79"),n("a15b9"),n("2ca0"),n("159b"),n("4de4"),n("6062"),n("f2ea")),c=n("d4e1"),f=n("644e"),l=n("ad6b"),h=n("9cf5"),d=n("a641"),g=n("5122"),v=n("82af"),p=regeneratorRuntime.mark(C),y=regeneratorRuntime.mark(I),m=function(){function e(){var t=this;Object(o["a"])(this,e),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(function(e,t){t[0]=new w(t[0])}),{priority:"highest"}),this.on("checkChild",(function(e,n){n[0]=new w(n[0]),n[1]=t.getDefinition(n[1])}),{priority:"highest"})}return Object(s["a"])(e,[{key:"register",value:function(e,t){if(this._sourceDefinitions[e])throw new u["a"]("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}},{key:"extend",value:function(e,t){if(!this._sourceDefinitions[e])throw new u["a"]("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}},{key:"getDefinitions",value:function(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}},{key:"getDefinition",value:function(e){var t;return t="string"==typeof e?e:e.is&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}},{key:"isRegistered",value:function(e){return!!this.getDefinition(e)}},{key:"isBlock",value:function(e){var t=this.getDefinition(e);return!(!t||!t.isBlock)}},{key:"isLimit",value:function(e){var t=this.getDefinition(e);return!!t&&!(!t.isLimit&&!t.isObject)}},{key:"isObject",value:function(e){var t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}},{key:"isInline",value:function(e){var t=this.getDefinition(e);return!(!t||!t.isInline)}},{key:"isSelectable",value:function(e){var t=this.getDefinition(e);return!!t&&!(!t.isSelectable&&!t.isObject)}},{key:"isContent",value:function(e){var t=this.getDefinition(e);return!!t&&!(!t.isContent&&!t.isObject)}},{key:"checkChild",value:function(e,t){return!!t&&this._checkContextMatch(t,e)}},{key:"checkAttribute",value:function(e,t){var n=this.getDefinition(e.last);return!!n&&n.allowAttributes.includes(t)}},{key:"checkMerge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e instanceof h["a"]){var n=e.nodeBefore,i=e.nodeAfter;if(!(n instanceof d["a"]))throw new u["a"]("schema-check-merge-no-element-before",this);if(!(i instanceof d["a"]))throw new u["a"]("schema-check-merge-no-element-after",this);return this.checkMerge(n,i)}var r,o=Object(a["a"])(t.getChildren());try{for(o.s();!(r=o.n()).done;){var s=r.value;if(!this.checkChild(e,s))return!1}}catch(c){o.e(c)}finally{o.f()}return!0}},{key:"addChildCheck",value:function(e){this.on("checkChild",(function(t,n){var i=Object(r["a"])(n,2),a=i[0],o=i[1];if(o){var s=e(a,o);"boolean"==typeof s&&(t.stop(),t.return=s)}}),{priority:"high"})}},{key:"addAttributeCheck",value:function(e){this.on("checkAttribute",(function(t,n){var i=Object(r["a"])(n,2),a=i[0],o=i[1],s=e(a,o);"boolean"==typeof s&&(t.stop(),t.return=s)}),{priority:"high"})}},{key:"setAttributeProperties",value:function(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}},{key:"getAttributeProperties",value:function(e){return this._attributeProperties[e]||{}}},{key:"getLimitElement",value:function(e){var t;if(e instanceof h["a"])t=e.parent;else{var n=e instanceof l["a"]?[e]:Array.from(e.getRanges());t=n.reduce((function(e,t){var n=t.getCommonAncestor();return e?e.getCommonAncestor(n,{includeSelf:!0}):n}),null)}while(!this.isLimit(t)){if(!t.parent)break;t=t.parent}return t}},{key:"checkAttributeInSelection",value:function(e,t){if(e.isCollapsed){var n=e.getFirstPosition(),r=[].concat(Object(i["a"])(n.getAncestors()),[new g["a"]("",e.getAttributes())]);return this.checkAttribute(r,t)}var o,s=e.getRanges(),u=Object(a["a"])(s);try{for(u.s();!(o=u.n()).done;){var c,f=o.value,l=Object(a["a"])(f);try{for(l.s();!(c=l.n()).done;){var h=c.value;if(this.checkAttribute(h.item,t))return!0}}catch(d){l.e(d)}finally{l.f()}}}catch(d){u.e(d)}finally{u.f()}return!1}},{key:"getValidRanges",value:regeneratorRuntime.mark((function e(t,n){var i,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=I(t),i=Object(a["a"])(t),e.prev=2,i.s();case 4:if((r=i.n()).done){e.next=9;break}return o=r.value,e.delegateYield(this._getValidRangesForRange(o,n),"t0",7);case 7:e.next=4;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e["catch"](2),i.e(e.t1);case 14:return e.prev=14,i.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[2,11,14,17]])}))},{key:"getNearestSelectionRange",value:function(e){var t,n,i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";if(this.checkChild(e,"$text"))return new l["a"](e);var o=e.getAncestors().reverse().find((function(e){return i.isLimit(e)}))||e.root;"both"!=r&&"backward"!=r||(t=new v["a"]({boundaries:l["a"]._createIn(o),startPosition:e,direction:"backward"})),"both"!=r&&"forward"!=r||(n=new v["a"]({boundaries:l["a"]._createIn(o),startPosition:e}));var s,u=Object(a["a"])(C(t,n));try{for(u.s();!(s=u.n()).done;){var c=s.value,f=c.walker==t?"elementEnd":"elementStart",h=c.value;if(h.type==f&&this.isObject(h.item))return l["a"]._createOn(h.item);if(this.checkChild(h.nextPosition,"$text"))return new l["a"](h.nextPosition)}}catch(d){u.e(d)}finally{u.f()}return null}},{key:"findAllowedParent",value:function(e,t){var n=e.parent;while(n){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}},{key:"removeDisallowedAttributes",value:function(e,t){var n,i=Object(a["a"])(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.is("$text"))F(this,r,t);else{var o,s=l["a"]._createIn(r),u=s.getPositions(),c=Object(a["a"])(u);try{for(c.s();!(o=c.n()).done;){var f=o.value,h=f.nodeBefore||f.parent;F(this,h,t)}}catch(d){c.e(d)}finally{c.f()}}}}catch(d){i.e(d)}finally{i.f()}}},{key:"createContext",value:function(e){return new w(e)}},{key:"_clearCache",value:function(){this._compiledDefinitions=null}},{key:"_compile",value:function(){for(var e={},t=this._sourceDefinitions,n=Object.keys(t),i=0,r=n;i<r.length;i++){var a=r[i];e[a]=b(t[a],a)}for(var o=0,s=n;o<s.length;o++){var u=s[o];P(e,u)}for(var c=0,f=n;c<f.length;c++){var l=f[c];k(e,l)}for(var h=0,d=n;h<d.length;h++){var g=d[h];_(e,g)}for(var v=0,p=n;v<p.length;v++){var y=p[v];O(e,y),A(e,y)}for(var m=0,w=n;m<w.length;m++){var B=w[m];S(e,B),R(e,B),x(e,B)}this._compiledDefinitions=e}},{key:"_checkContextMatch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-1,i=t.getItem(n);if(e.allowIn.includes(i.name)){if(0==n)return!0;var r=this.getDefinition(i);return this._checkContextMatch(r,t,n-1)}return!1}},{key:"_getValidRangesForRange",value:regeneratorRuntime.mark((function e(t,n){var i,r,o,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=t.start,r=t.start,o=Object(a["a"])(t.getItems({shallow:!0})),e.prev=3,o.s();case 5:if((s=o.n()).done){e.next=17;break}if(u=s.value,!u.is("element")){e.next=9;break}return e.delegateYield(this._getValidRangesForRange(l["a"]._createIn(u),n),"t0",9);case 9:if(this.checkAttribute(u,n)){e.next=14;break}if(i.isEqual(r)){e.next=13;break}return e.next=13,new l["a"](i,r);case 13:i=h["a"]._createAfter(u);case 14:r=h["a"]._createAfter(u);case 15:e.next=5;break;case 17:e.next=22;break;case 19:e.prev=19,e.t1=e["catch"](3),o.e(e.t1);case 22:return e.prev=22,o.f(),e.finish(22);case 25:if(i.isEqual(r)){e.next=28;break}return e.next=28,new l["a"](i,r);case 28:case"end":return e.stop()}}),e,this,[[3,19,22,25]])}))}]),e}();Object(f["a"])(m,c["a"]);var w=function(e){function t(e){if(Object(o["a"])(this,t),e instanceof t)return e;"string"==typeof e?e=[e]:Array.isArray(e)||(e=e.getAncestors({includeSelf:!0})),this._items=e.map(E)}return Object(s["a"])(t,[{key:"length",get:function(){return this._items.length}},{key:"last",get:function(){return this._items[this._items.length-1]}},{key:e,value:function(){return this._items[Symbol.iterator]()}},{key:"push",value:function(e){var n=new t([e]);return n._items=[].concat(Object(i["a"])(this._items),Object(i["a"])(n._items)),n}},{key:"getItem",value:function(e){return this._items[e]}},{key:"getNames",value:regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.delegateYield(this._items.map((function(e){return e.name})),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"endsWith",value:function(e){return Array.from(this.getNames()).join(" ").endsWith(e)}},{key:"startsWith",value:function(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}]),t}(Symbol.iterator);function b(e,t){var n={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return B(e,n),j(e,n,"allowIn"),j(e,n,"allowContentOf"),j(e,n,"allowWhere"),j(e,n,"allowAttributes"),j(e,n,"allowAttributesOf"),j(e,n,"allowChildren"),j(e,n,"inheritTypesFrom"),N(e,n),n}function P(e,t){var n,i=e[t],r=Object(a["a"])(i.allowChildren);try{for(r.s();!(n=r.n()).done;){var o=n.value,s=e[o];s&&s.allowIn.push(t)}}catch(u){r.e(u)}finally{r.f()}i.allowChildren.length=0}function k(e,t){var n,i=Object(a["a"])(e[t].allowContentOf);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(e[r]){var o=M(e,r);o.forEach((function(e){e.allowIn.push(t)}))}}}catch(s){i.e(s)}finally{i.f()}delete e[t].allowContentOf}function _(e,t){var n,r=Object(a["a"])(e[t].allowWhere);try{for(r.s();!(n=r.n()).done;){var o=n.value,s=e[o];if(s){var u,c=s.allowIn;(u=e[t].allowIn).push.apply(u,Object(i["a"])(c))}}}catch(f){r.e(f)}finally{r.f()}delete e[t].allowWhere}function O(e,t){var n,r=Object(a["a"])(e[t].allowAttributesOf);try{for(r.s();!(n=r.n()).done;){var o=n.value,s=e[o];if(s){var u,c=s.allowAttributes;(u=e[t].allowAttributes).push.apply(u,Object(i["a"])(c))}}}catch(f){r.e(f)}finally{r.f()}delete e[t].allowAttributesOf}function A(e,t){var n,i=e[t],r=Object(a["a"])(i.inheritTypesFrom);try{for(r.s();!(n=r.n()).done;){var o=n.value,s=e[o];if(s){var u,c=Object.keys(s).filter((function(e){return e.startsWith("is")})),f=Object(a["a"])(c);try{for(f.s();!(u=f.n()).done;){var l=u.value;l in i||(i[l]=s[l])}}catch(h){f.e(h)}finally{f.f()}}}}catch(h){r.e(h)}finally{r.f()}delete i.inheritTypesFrom}function S(e,t){var n=e[t],i=n.allowIn.filter((function(t){return e[t]}));n.allowIn=Array.from(new Set(i))}function R(e,t){var n,i=e[t],r=Object(a["a"])(i.allowIn);try{for(r.s();!(n=r.n()).done;){var o=n.value,s=e[o];s.allowChildren.push(t)}}catch(u){r.e(u)}finally{r.f()}}function x(e,t){var n=e[t];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function B(e,t){var n,i=Object(a["a"])(e);try{for(i.s();!(n=i.n()).done;){var r,o=n.value,s=Object.keys(o).filter((function(e){return e.startsWith("is")})),u=Object(a["a"])(s);try{for(u.s();!(r=u.n()).done;){var c=r.value;t[c]=o[c]}}catch(f){u.e(f)}finally{u.f()}}}catch(f){i.e(f)}finally{i.f()}}function j(e,t,n){var r,o=Object(a["a"])(e);try{for(o.s();!(r=o.n()).done;){var s=r.value;if("string"==typeof s[n])t[n].push(s[n]);else if(Array.isArray(s[n])){var u;(u=t[n]).push.apply(u,Object(i["a"])(s[n]))}}}catch(c){o.e(c)}finally{o.f()}}function N(e,t){var n,i=Object(a["a"])(e);try{for(i.s();!(n=i.n()).done;){var r=n.value,o=r.inheritAllFrom;o&&(t.allowContentOf.push(o),t.allowWhere.push(o),t.allowAttributesOf.push(o),t.inheritTypesFrom.push(o))}}catch(s){i.e(s)}finally{i.f()}}function M(e,t){var n=e[t];return T(e).filter((function(e){return e.allowIn.includes(n.name)}))}function T(e){return Object.keys(e).map((function(t){return e[t]}))}function E(e){return"string"==typeof e||e.is("documentFragment")?{name:"string"==typeof e?e:"$documentFragment",getAttributeKeys:regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})),getAttribute:function(){}}:{name:e.is("element")?e.name:"$text",getAttributeKeys:regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.delegateYield(e.getAttributeKeys(),"t0",1);case 1:case"end":return t.stop()}}),t)})),getAttribute:function(t){return e.getAttribute(t)}}}function C(e,t){var n,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=!1;case 1:if(n){a.next=17;break}if(n=!0,!e){a.next=9;break}if(i=e.next(),i.done){a.next=9;break}return n=!1,a.next=9,{walker:e,value:i.value};case 9:if(!t){a.next=15;break}if(r=t.next(),r.done){a.next=15;break}return n=!1,a.next=15,{walker:t,value:r.value};case 15:a.next=1;break;case 17:case"end":return a.stop()}}),p)}function I(e){var t,n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t=Object(a["a"])(e),r.prev=1,t.s();case 3:if((n=t.n()).done){r.next=8;break}return i=n.value,r.delegateYield(i.getMinimalFlatRanges(),"t0",6);case 6:r.next=3;break;case 8:r.next=13;break;case 10:r.prev=10,r.t1=r["catch"](1),t.e(r.t1);case 13:return r.prev=13,t.f(),r.finish(13);case 16:case"end":return r.stop()}}),y,null,[[1,10,13,16]])}function F(e,t,n){var i,r=Object(a["a"])(t.getAttributeKeys());try{for(r.s();!(i=r.n()).done;){var o=i.value;e.checkAttribute(t,o)||n.removeAttribute(o,t)}}catch(s){r.e(s)}finally{r.f()}}},"98ea":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("d4ec"),r=n("bee2"),a=n("45eb"),o=n("7e84"),s=n("262e"),u=n("2caf"),c=(n("fb6a"),n("a9e3"),n("bf19"),n("6c92")),f=n("0066"),l=n("9cf5"),h=n("ad6b"),d=n("dfe0"),g=n("f2ea"),v=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(e,r,a,o,s){var u;return Object(i["a"])(this,n),u=t.call(this,s),u.sourcePosition=e.clone(),u.sourcePosition.stickiness="toPrevious",u.howMany=r,u.targetPosition=a.clone(),u.targetPosition.stickiness="toNext",u.graveyardPosition=o.clone(),u}return Object(r["a"])(n,[{key:"type",get:function(){return"merge"}},{key:"deletionPosition",get:function(){return new l["a"](this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}},{key:"movedRange",get:function(){var e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new h["a"](this.sourcePosition,e)}},{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new l["a"](this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new f["a"](e,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new g["a"]("merge-operation-source-position-invalid",this);if(!t.parent)throw new g["a"]("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new g["a"]("merge-operation-how-many-invalid",this)}},{key:"_execute",value:function(){var e=this.sourcePosition.parent,t=h["a"]._createIn(e);Object(d["b"])(t,this.targetPosition),Object(d["b"])(h["a"]._createOn(e),this.graveyardPosition)}},{key:"toJSON",value:function(){var e=Object(a["a"])(Object(o["a"])(n.prototype),"toJSON",this).call(this);return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}}],[{key:"className",get:function(){return"MergeOperation"}},{key:"fromJSON",value:function(e,t){var n=l["a"].fromJSON(e.sourcePosition,t),i=l["a"].fromJSON(e.targetPosition,t),r=l["a"].fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,i,r,e.baseVersion)}}]),n}(c["a"])},"9cf5":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return h}));var i=n("2909"),r=n("d4ec"),a=n("bee2"),o=(n("fb6a"),n("99af"),n("bf19"),n("a630"),n("3ca3"),n("82af")),s=n("e47a"),u=n("f2ea"),c=(n("e800"),function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(Object(r["a"])(this,e),!t.is("element")&&!t.is("documentFragment"))throw new u["a"]("model-position-root-invalid",t);if(!(n instanceof Array)||0===n.length)throw new u["a"]("model-position-path-incorrect-format",t,{path:n});t.is("rootElement")?n=n.slice():(n=[].concat(Object(i["a"])(t.getPath()),Object(i["a"])(n)),t=t.root),this.root=t,this.path=n,this.stickiness=a}return Object(a["a"])(e,[{key:"offset",get:function(){return this.path[this.path.length-1]},set:function(e){this.path[this.path.length-1]=e}},{key:"parent",get:function(){for(var e=this.root,t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new u["a"]("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new u["a"]("model-position-path-incorrect",this,{position:this});return e}},{key:"index",get:function(){return this.parent.offsetToIndex(this.offset)}},{key:"textNode",get:function(){return f(this,this.parent)}},{key:"nodeAfter",get:function(){var e=this.parent;return l(this,e,f(this,e))}},{key:"nodeBefore",get:function(){var e=this.parent;return h(this,e,f(this,e))}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){return this.offset==this.parent.maxOffset}},{key:"compareWith",value:function(e){if(this.root!=e.root)return"different";var t=Object(s["a"])(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}},{key:"getLastMatchingPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.startPosition=this;var n=new o["a"](t);return n.skip(e),n.position}},{key:"getParentPath",value:function(){return this.path.slice(0,-1)}},{key:"getAncestors",value:function(){var e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}},{key:"findAncestor",value:function(e){var t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}},{key:"getCommonPath",value:function(e){if(this.root!=e.root)return[];var t=Object(s["a"])(this.path,e.path),n="string"==typeof t?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}},{key:"getCommonAncestor",value:function(e){var t=this.getAncestors(),n=e.getAncestors(),i=0;while(t[i]==n[i]&&t[i])i++;return 0===i?null:t[i-1]}},{key:"getShiftedBy",value:function(e){var t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}},{key:"isAfter",value:function(e){return"after"==this.compareWith(e)}},{key:"isBefore",value:function(e){return"before"==this.compareWith(e)}},{key:"isEqual",value:function(e){return"same"==this.compareWith(e)}},{key:"isTouching",value:function(t){var n=null,i=null,r=this.compareWith(t);switch(r){case"same":return!0;case"before":n=e._createAt(this),i=e._createAt(t);break;case"after":n=e._createAt(t),i=e._createAt(this);break;default:return!1}var a=n.parent;while(n.path.length+i.path.length){if(n.isEqual(i))return!0;if(n.path.length>i.path.length){if(n.offset!==a.maxOffset)return!1;n.path=n.path.slice(0,-1),a=a.parent,n.offset++}else{if(0!==i.offset)return!1;i.path=i.path.slice(0,-1)}}}},{key:"is",value:function(e){return"position"===e||"model:position"===e}},{key:"hasSameParentAs",value:function(e){if(this.root!==e.root)return!1;var t=this.getParentPath(),n=e.getParentPath();return"same"==Object(s["a"])(t,n)}},{key:"getTransformedByOperation",value:function(t){var n;switch(t.type){case"insert":n=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":n=this._getTransformedByMoveOperation(t);break;case"split":n=this._getTransformedBySplitOperation(t);break;case"merge":n=this._getTransformedByMergeOperation(t);break;default:n=e._createAt(this);break}return n}},{key:"_getTransformedByInsertOperation",value:function(e){return this._getTransformedByInsertion(e.position,e.howMany)}},{key:"_getTransformedByMoveOperation",value:function(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}},{key:"_getTransformedBySplitOperation",value:function(e){var t=e.movedRange,n=t.containsPosition(this)||t.start.isEqual(this)&&"toNext"==this.stickiness;return n?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}},{key:"_getTransformedByMergeOperation",value:function(t){var n,i=t.movedRange,r=i.containsPosition(this)||i.start.isEqual(this);return r?(n=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(n=n._getTransformedByDeletion(t.deletionPosition,1))):n=this.isEqual(t.deletionPosition)?e._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),n}},{key:"_getTransformedByDeletion",value:function(t,n){var i=e._createAt(this);if(this.root!=t.root)return i;if("same"==Object(s["a"])(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+n>this.offset)return null;i.offset-=n}}else if("prefix"==Object(s["a"])(t.getParentPath(),this.getParentPath())){var r=t.path.length-1;if(t.offset<=this.path[r]){if(t.offset+n>this.path[r])return null;i.path[r]-=n}}return i}},{key:"_getTransformedByInsertion",value:function(t,n){var i=e._createAt(this);if(this.root!=t.root)return i;if("same"==Object(s["a"])(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&"toPrevious"!=this.stickiness)&&(i.offset+=n);else if("prefix"==Object(s["a"])(t.getParentPath(),this.getParentPath())){var r=t.path.length-1;t.offset<=this.path[r]&&(i.path[r]+=n)}return i}},{key:"_getTransformedByMove",value:function(t,n,i){if(n=n._getTransformedByDeletion(t,i),t.isEqual(n))return e._createAt(this);var r=this._getTransformedByDeletion(t,i),a=null===r||t.isEqual(this)&&"toNext"==this.stickiness||t.getShiftedBy(i).isEqual(this)&&"toPrevious"==this.stickiness;return a?this._getCombined(t,n):r._getTransformedByInsertion(n,i)}},{key:"_getCombined",value:function(t,n){var r=t.path.length-1,a=e._createAt(n);return a.stickiness=this.stickiness,a.offset=a.offset+this.path[r]-t.offset,a.path=[].concat(Object(i["a"])(a.path),Object(i["a"])(this.path.slice(r+1))),a}},{key:"toJSON",value:function(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}},{key:"clone",value:function(){return new this.constructor(this.root,this.path,this.stickiness)}}],[{key:"_createAt",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(t instanceof e)return new e(t.root,t.path,t.stickiness);var r=t;if("end"==n)n=r.maxOffset;else{if("before"==n)return this._createBefore(r,i);if("after"==n)return this._createAfter(r,i);if(0!==n&&!n)throw new u["a"]("model-createpositionat-offset-required",[this,t])}if(!r.is("element")&&!r.is("documentFragment"))throw new u["a"]("model-position-parent-incorrect",[this,t]);var a=r.getPath();return a.push(n),new this(r.root,a,i)}},{key:"_createAfter",value:function(e,t){if(!e.parent)throw new u["a"]("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}},{key:"_createBefore",value:function(e,t){if(!e.parent)throw new u["a"]("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}},{key:"fromJSON",value:function(t,n){if("$graveyard"===t.root){var i=new e(n.graveyard,t.path);return i.stickiness=t.stickiness,i}if(!n.getRoot(t.root))throw new u["a"]("model-position-fromjson-no-root",n,{rootName:t.root});return new e(n.getRoot(t.root),t.path,t.stickiness)}}]),e}());function f(e,t){var n=t.getChild(t.offsetToIndex(e.offset));return n&&n.is("$text")&&n.startOffset<e.offset?n:null}function l(e,t,n){return null!==n?null:t.getChild(t.offsetToIndex(e.offset))}function h(e,t,n){return null!==n?null:t.getChild(t.offsetToIndex(e.offset)-1)}},a52e:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("2909"),r=n("b85c"),a=n("d4ec"),o=n("bee2"),s=(n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),n("a4d3"),n("e01a"),n("fb6a"),n("a434"),n("99af"),n("d81d"),n("bf19"),n("34b2")),u=n("f2ea"),c=function(e){function t(e){Object(a["a"])(this,t),this._nodes=[],e&&this._insertNodes(0,e)}return Object(o["a"])(t,[{key:e,value:function(){return this._nodes[Symbol.iterator]()}},{key:"length",get:function(){return this._nodes.length}},{key:"maxOffset",get:function(){return this._nodes.reduce((function(e,t){return e+t.offsetSize}),0)}},{key:"getNode",value:function(e){return this._nodes[e]||null}},{key:"getNodeIndex",value:function(e){var t=this._nodes.indexOf(e);return-1==t?null:t}},{key:"getNodeStartOffset",value:function(e){var t=this.getNodeIndex(e);return null===t?null:this._nodes.slice(0,t).reduce((function(e,t){return e+t.offsetSize}),0)}},{key:"indexToOffset",value:function(e){if(e==this._nodes.length)return this.maxOffset;var t=this._nodes[e];if(!t)throw new u["a"]("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}},{key:"offsetToIndex",value:function(e){var t,n=0,i=Object(r["a"])(this._nodes);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(e>=n&&e<n+a.offsetSize)return this.getNodeIndex(a);n+=a.offsetSize}}catch(o){i.e(o)}finally{i.f()}if(n!=e)throw new u["a"]("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}},{key:"_insertNodes",value:function(e,t){var n,a,o=Object(r["a"])(t);try{for(o.s();!(a=o.n()).done;){var c=a.value;if(!(c instanceof s["a"]))throw new u["a"]("model-nodelist-insertnodes-not-node",this)}}catch(f){o.e(f)}finally{o.f()}(n=this._nodes).splice.apply(n,[e,0].concat(Object(i["a"])(t)))}},{key:"_removeNodes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._nodes.splice(e,t)}},{key:"toJSON",value:function(){return this._nodes.map((function(e){return e.toJSON()}))}}]),t}(Symbol.iterator)},ad6b:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("2909"),r=n("b85c"),a=n("d4ec"),o=n("bee2"),s=(n("96cf"),n("3ca3"),n("ddb0"),n("fb6a"),n("a434"),n("99af"),n("bf19"),n("4e82"),n("d28b"),n("d3b7"),n("a4d3"),n("e01a"),n("9cf5")),u=n("82af"),c=n("f2ea"),f=n("e47a"),l=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(a["a"])(this,t),this.start=s["a"]._createAt(e),this.end=n?s["a"]._createAt(n):s["a"]._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}return Object(o["a"])(t,[{key:e,value:regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.delegateYield(new u["a"]({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){var e=this.start.getParentPath(),t=this.end.getParentPath();return"same"==Object(f["a"])(e,t)}},{key:"root",get:function(){return this.start.root}},{key:"containsPosition",value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:"containsRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.isCollapsed&&(t=!1);var n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&i}},{key:"containsItem",value:function(e){var t=s["a"]._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}},{key:"is",value:function(e){return"range"===e||"model:range"===e}},{key:"isEqual",value:function(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:"isIntersecting",value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}},{key:"getDifference",value:function(e){var n=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&n.push(new t(this.start,e.start)),this.containsPosition(e.end)&&n.push(new t(e.end,this.end))):n.push(new t(this.start,this.end)),n}},{key:"getIntersection",value:function(e){if(this.isIntersecting(e)){var n=this.start,i=this.end;return this.containsPosition(e.start)&&(n=e.start),this.containsPosition(e.end)&&(i=e.end),new t(n,i)}return null}},{key:"getJoined",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.isIntersecting(e);if(i||(i=this.start.isBefore(e.start)?n?this.end.isTouching(e.start):this.end.isEqual(e.start):n?e.end.isTouching(this.start):e.end.isEqual(this.start)),!i)return null;var r=this.start,a=this.end;return e.start.isBefore(r)&&(r=e.start),e.end.isAfter(a)&&(a=e.end),new t(r,a)}},{key:"getMinimalFlatRanges",value:function(){var e=[],n=this.start.getCommonPath(this.end).length,i=s["a"]._createAt(this.start),r=i.parent;while(i.path.length>n+1){var a=r.maxOffset-i.offset;0!==a&&e.push(new t(i,i.getShiftedBy(a))),i.path=i.path.slice(0,-1),i.offset++,r=r.parent}while(i.path.length<=this.end.path.length){var o=this.end.path[i.path.length-1],u=o-i.offset;0!==u&&e.push(new t(i,i.getShiftedBy(u))),i.offset=o,i.path.push(0)}return e}},{key:"getWalker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new u["a"](e)}},{key:"getItems",value:regeneratorRuntime.mark((function e(){var t,n,i,a,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=s.length>0&&void 0!==s[0]?s[0]:{},t.boundaries=this,t.ignoreElementEnd=!0,n=new u["a"](t),i=Object(r["a"])(n),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=13;break}return o=a.value,e.next=11,o.item;case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](5),i.e(e.t0);case 18:return e.prev=18,i.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[5,15,18,21]])}))},{key:"getPositions",value:regeneratorRuntime.mark((function e(){var t,n,i,a,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},t.boundaries=this,n=new u["a"](t),e.next=5,n.position;case 5:i=Object(r["a"])(n),e.prev=6,i.s();case 8:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=12,o.nextPosition;case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](6),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[6,16,19,22]])}))},{key:"getTransformedByOperation",value:function(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new t(this.start,this.end)]}},{key:"getTransformedByOperations",value:function(e){var n,a=[new t(this.start,this.end)],o=Object(r["a"])(e);try{for(o.s();!(n=o.n()).done;)for(var s=n.value,u=0;u<a.length;u++){var c=a[u].getTransformedByOperation(s);a.splice.apply(a,[u,1].concat(Object(i["a"])(c))),u+=c.length-1}}catch(g){o.e(g)}finally{o.f()}for(var f=0;f<a.length;f++)for(var l=a[f],h=f+1;h<a.length;h++){var d=a[h];(l.containsRange(d)||d.containsRange(l)||l.isEqual(d))&&a.splice(h,1)}return a}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}},{key:"toJSON",value:function(){return{start:this.start.toJSON(),end:this.end.toJSON()}}},{key:"clone",value:function(){return new this.constructor(this.start,this.end)}},{key:"_getTransformedByInsertOperation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._getTransformedByInsertion(e.position,e.howMany,t)}},{key:"_getTransformedByMoveOperation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.sourcePosition,i=e.howMany,r=e.targetPosition;return this._getTransformedByMove(n,r,i,t)}},{key:"_getTransformedBySplitOperation",value:function(e){var n=this.start._getTransformedBySplitOperation(e),i=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(i=this.end.getShiftedBy(1)),n.root!=i.root&&(i=this.end.getShiftedBy(-1)),new t(n,i)}},{key:"_getTransformedByMergeOperation",value:function(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new t(this.start);var n=this.start._getTransformedByMergeOperation(e),i=this.end._getTransformedByMergeOperation(e);return n.root!=i.root&&(i=this.end.getShiftedBy(-1)),n.isAfter(i)?(e.sourcePosition.isBefore(e.targetPosition)?(n=s["a"]._createAt(i),n.offset=0):(e.deletionPosition.isEqual(n)||(i=e.deletionPosition),n=e.targetPosition),new t(n,i)):new t(n,i)}},{key:"_getTransformedByInsertion",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(i&&this.containsPosition(e))return[new t(this.start,e),new t(e.getShiftedBy(n),this.end._getTransformedByInsertion(e,n))];var r=new t(this.start,this.end);return r.start=r.start._getTransformedByInsertion(e,n),r.end=r.end._getTransformedByInsertion(e,n),[r]}},{key:"_getTransformedByMove",value:function(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.isCollapsed){var a=this.start._getTransformedByMove(e,n,i);return[new t(a)]}var o,s=t._createFromPositionAndShift(e,i),u=n._getTransformedByDeletion(e,i);if(this.containsPosition(n)&&!r&&(s.containsPosition(this.start)||s.containsPosition(this.end))){var c=this.start._getTransformedByMove(e,n,i),f=this.end._getTransformedByMove(e,n,i);return[new t(c,f)]}var l=this.getDifference(s),h=null,d=this.getIntersection(s);if(1==l.length?h=new t(l[0].start._getTransformedByDeletion(e,i),l[0].end._getTransformedByDeletion(e,i)):2==l.length&&(h=new t(this.start,this.end._getTransformedByDeletion(e,i))),o=h?h._getTransformedByInsertion(u,i,null!==d||r):[],d){var g=new t(d.start._getCombined(s.start,u),d.end._getCombined(s.start,u));2==o.length?o.splice(1,0,g):o.push(g)}return o}},{key:"_getTransformedByDeletion",value:function(e,n){var i=this.start._getTransformedByDeletion(e,n),r=this.end._getTransformedByDeletion(e,n);return null==i&&null==r?null:(null==i&&(i=e),null==r&&(r=e),new t(i,r))}}],[{key:"_createFromPositionAndShift",value:function(e,t){var n=e,i=e.getShiftedBy(t);return t>0?new this(n,i):new this(i,n)}},{key:"_createIn",value:function(e){return new this(s["a"]._createAt(e,0),s["a"]._createAt(e,e.maxOffset))}},{key:"_createOn",value:function(e){return this._createFromPositionAndShift(s["a"]._createBefore(e),e.offsetSize)}},{key:"_createFromRanges",value:function(e){if(0===e.length)throw new c["a"]("range-create-from-ranges-empty-array",null);if(1==e.length)return e[0].clone();var t=e[0];e.sort((function(e,t){return e.start.isAfter(t.start)?1:-1}));var n=e.indexOf(t),i=new this(t.start,t.end);if(n>0)for(var r=n-1;1;r++){if(!e[r].end.isEqual(i.start))break;i.start=s["a"]._createAt(e[r].start)}for(var a=n+1;a<e.length;a++){if(!e[a].start.isEqual(i.end))break;i.end=s["a"]._createAt(e[a].end)}return i}},{key:"fromJSON",value:function(e,t){return new this(s["a"].fromJSON(e.start,t),s["a"].fromJSON(e.end,t))}}]),t}(Symbol.iterator)},bc54:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o}));var i=n("b85c");
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function r(e){var t,n=e.model,r=n.schema,a=n.document,o=Object(i["a"])(a.getRootNames());try{for(o.s();!(t=o.n()).done;){var s=t.value,u=a.getRoot(s);if(u.isEmpty&&!r.checkChild(u,"$text")&&r.checkChild(u,"paragraph"))return e.insertElement("paragraph",u),!0}}catch(c){o.e(c)}finally{o.f()}return!1}function a(e,t,n){var i=n.createContext(e);return!!n.checkChild(i,"paragraph")&&!!n.checkChild(i.push("paragraph"),t)}function o(e,t){var n=t.createElement("paragraph");return t.insert(n,e),t.createPositionAt(n,0)}},bdc57:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("b85c"),r=n("d4ec"),a=n("bee2"),o=(n("96cf"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("18a5"),n("a630"),n("1fe2"),n("7db0"),n("159b"),n("9cf5")),s=n("34b2"),u=n("ad6b"),c=n("da0d"),f=n("f2ea"),l=n("644e"),h=n("e907"),d=function(){function e(t,n,i){Object(r["a"])(this,e),this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,t&&this.setTo(t,n,i)}return Object(a["a"])(e,[{key:"anchor",get:function(){if(this._ranges.length>0){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}},{key:"focus",get:function(){if(this._ranges.length>0){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}},{key:"isCollapsed",get:function(){var e=this._ranges.length;return 1===e&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:"isEqual",value:function(e){if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var t,n=Object(i["a"])(this._ranges);try{for(n.s();!(t=n.n()).done;){var r,a=t.value,o=!1,s=Object(i["a"])(e._ranges);try{for(s.s();!(r=s.n()).done;){var u=r.value;if(a.isEqual(u)){o=!0;break}}}catch(c){s.e(c)}finally{s.f()}if(!o)return!1}}catch(c){n.e(c)}finally{n.f()}return!0}},{key:"getRanges",value:regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Object(i["a"])(this._ranges),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,new u["a"](r.start,r.end);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"getFirstRange",value:function(){var e,t=null,n=Object(i["a"])(this._ranges);try{for(n.s();!(e=n.n()).done;){var r=e.value;t&&!r.start.isBefore(t.start)||(t=r)}}catch(a){n.e(a)}finally{n.f()}return t?new u["a"](t.start,t.end):null}},{key:"getLastRange",value:function(){var e,t=null,n=Object(i["a"])(this._ranges);try{for(n.s();!(e=n.n()).done;){var r=e.value;t&&!r.end.isAfter(t.end)||(t=r)}}catch(a){n.e(a)}finally{n.f()}return t?new u["a"](t.start,t.end):null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?e.start.clone():null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?e.end.clone():null}},{key:"setTo",value:function(t,n,i){if(null===t)this._setRanges([]);else if(t instanceof e)this._setRanges(t.getRanges(),t.isBackward);else if(t&&"function"==typeof t.getRanges)this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof u["a"])this._setRanges([t],!!n&&!!n.backward);else if(t instanceof o["a"])this._setRanges([new u["a"](t)]);else if(t instanceof s["a"]){var r,a=!!i&&!!i.backward;if("in"==n)r=u["a"]._createIn(t);else if("on"==n)r=u["a"]._createOn(t);else{if(void 0===n)throw new f["a"]("model-selection-setto-required-second-parameter",[this,t]);r=new u["a"](o["a"]._createAt(t,n))}this._setRanges([r],a)}else{if(!Object(h["a"])(t))throw new f["a"]("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,n&&!!n.backward)}}},{key:"_setRanges",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=Array.from(e);var r=e.some((function(n){if(!(n instanceof u["a"]))throw new f["a"]("model-selection-set-ranges-not-range",[t,e]);return t._ranges.every((function(e){return!e.isEqual(n)}))}));if(e.length!==this._ranges.length||r){this._removeAllRanges();var a,o=Object(i["a"])(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;this._pushRange(s)}}catch(c){o.e(c)}finally{o.f()}this._lastRangeBackward=!!n,this.fire("change:range",{directChange:!0})}}},{key:"setFocus",value:function(e,t){if(null===this.anchor)throw new f["a"]("model-selection-setfocus-no-ranges",[this,e]);var n=o["a"]._createAt(e,t);if("same"!=n.compareWith(this.focus)){var i=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(i)?(this._pushRange(new u["a"](n,i)),this._lastRangeBackward=!0):(this._pushRange(new u["a"](i,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"removeAttribute",value:function(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"setAttribute",value:function(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"getSelectedElement",value:function(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}},{key:"is",value:function(e){return"selection"===e||"model:selection"===e}},{key:"getSelectedBlocks",value:regeneratorRuntime.mark((function e(){var t,n,r,a,s,u,c,f,l,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=new WeakSet,n=Object(i["a"])(this.getRanges()),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=35;break}if(a=r.value,s=p(a.start,t),!s||!y(s,a)){e.next=10;break}return e.next=10,s;case 10:u=Object(i["a"])(a.getWalker()),e.prev=11,u.s();case 13:if((c=u.n()).done){e.next=21;break}if(f=c.value,l=f.item,"elementEnd"!=f.type||!v(l,t,a)){e.next=19;break}return e.next=19,l;case 19:e.next=13;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e["catch"](11),u.e(e.t0);case 26:return e.prev=26,u.f(),e.finish(26);case 29:if(h=p(a.end,t),!h||a.end.isTouching(o["a"]._createAt(h,0))||!y(h,a)){e.next=33;break}return e.next=33,h;case 33:e.next=4;break;case 35:e.next=40;break;case 37:e.prev=37,e.t1=e["catch"](2),n.e(e.t1);case 40:return e.prev=40,n.f(),e.finish(40);case 43:case"end":return e.stop()}}),e,this,[[2,37,40,43],[11,23,26,29]])}))},{key:"containsEntireContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.anchor.root,t=o["a"]._createAt(e,0),n=o["a"]._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}},{key:"_pushRange",value:function(e){this._checkRange(e),this._ranges.push(new u["a"](e.start,e.end))}},{key:"_checkRange",value:function(e){for(var t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new f["a"]("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}},{key:"_removeAllRanges",value:function(){while(this._ranges.length>0)this._popRange()}},{key:"_popRange",value:function(){this._ranges.pop()}}]),e}();function g(e,t){return!t.has(e)&&(t.add(e),e.root.document.model.schema.isBlock(e)&&e.parent)}function v(e,t,n){return g(e,t)&&y(e,n)}function p(e,t){var n=e.parent,i=n.root.document.model.schema,r=e.parent.getAncestors({parentFirst:!0,includeSelf:!0}),a=!1,o=r.find((function(e){return!a&&(a=i.isLimit(e),!a&&g(e,t))}));return r.forEach((function(e){return t.add(e)})),o}function y(e,t){var n=m(e);if(!n)return!0;var i=t.containsRange(u["a"]._createOn(n),!0);return!i}function m(e){var t=e.root.document.model.schema,n=e.parent;while(n){if(t.isBlock(n))return n;n=n.parent}}Object(l["a"])(d,c["c"])},dfe0:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return g})),n.d(t,"c",(function(){return v}));var i=n("b85c"),r=(n("d3b7"),n("a434"),n("34b2")),a=n("5122"),o=n("2363"),s=n("ad6b"),u=n("db03"),c=n("a52e"),f=n("f2ea");
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function l(e,t){t=v(t);var n=t.reduce((function(e,t){return e+t.offsetSize}),0),i=e.parent;y(e);var r=e.index;return i._insertChild(r,t),p(i,r+t.length),p(i,r),new s["a"](e,e.getShiftedBy(n))}function h(e){if(!e.isFlat)throw new f["a"]("operation-utils-remove-range-not-flat",this);var t=e.start.parent;y(e.start),y(e.end);var n=t._removeChildren(e.start.index,e.end.index-e.start.index);return p(t,e.start.index),n}function d(e,t){if(!e.isFlat)throw new f["a"]("operation-utils-move-range-not-flat",this);var n=h(e);return t=t._getTransformedByDeletion(e.start,e.end.offset-e.start.offset),l(t,n)}function g(e,t,n){y(e.start),y(e.end);var r,a=Object(i["a"])(e.getItems({shallow:!0}));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.is("$textProxy")?o.textNode:o;null!==n?s._setAttribute(t,n):s._removeAttribute(t),p(s.parent,s.index)}}catch(u){a.e(u)}finally{a.f()}p(e.end.parent,e.end.index)}function v(e){var t=[];e instanceof Array||(e=[e]);for(var n=0;n<e.length;n++)if("string"==typeof e[n])t.push(new a["a"](e[n]));else if(e[n]instanceof o["a"])t.push(new a["a"](e[n].data,e[n].getAttributes()));else if(e[n]instanceof u["a"]||e[n]instanceof c["a"]){var s,f=Object(i["a"])(e[n]);try{for(f.s();!(s=f.n()).done;){var l=s.value;t.push(l)}}catch(v){f.e(v)}finally{f.f()}}else e[n]instanceof r["a"]&&t.push(e[n]);for(var h=1;h<t.length;h++){var d=t[h],g=t[h-1];d instanceof a["a"]&&g instanceof a["a"]&&m(d,g)&&(t.splice(h-1,2,new a["a"](g.data+d.data,g.getAttributes())),h--)}return t}function p(e,t){var n=e.getChild(t-1),i=e.getChild(t);if(n&&i&&n.is("$text")&&i.is("$text")&&m(n,i)){var r=new a["a"](n.data+i.data,n.getAttributes());e._removeChildren(t-1,2),e._insertChild(t-1,r)}}function y(e){var t=e.textNode,n=e.parent;if(t){var i=e.offset-t.startOffset,r=t.index;n._removeChildren(r,1);var o=new a["a"](t.data.substr(0,i),t.getAttributes()),s=new a["a"](t.data.substr(i),t.getAttributes());n._insertChild(r,[o,s])}}function m(e,t){var n,r=e.getAttributes(),a=t.getAttributes(),o=Object(i["a"])(r);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(s[1]!==t.getAttribute(s[0]))return!1;a.next()}}catch(u){o.e(u)}finally{o.f()}return a.next().done}},e329:function(e,t,n){"use strict";n.d(t,"a",(function(){return Te}));var i=n("b85c"),r=n("d4ec"),a=n("bee2"),o=(n("d3b7"),n("b0c0"),n("ac1f"),n("841c"),n("09ac")),s=n("3835"),u=(n("caad"),n("2532"),n("18a5"),n("73f9")),c=n("45eb"),f=n("7e84"),l=n("262e"),h=n("2caf"),d=(n("bf19"),n("6c92")),g=n("ad6b"),v=n("dfe0"),p=n("f2ea"),y=function(e){Object(l["a"])(n,e);var t=Object(h["a"])(n);function n(e,i){var a;return Object(r["a"])(this,n),a=t.call(this,null),a.sourcePosition=e.clone(),a.howMany=i,a}return Object(a["a"])(n,[{key:"type",get:function(){return"detach"}},{key:"toJSON",value:function(){var e=Object(c["a"])(Object(f["a"])(n.prototype),"toJSON",this).call(this);return e.sourcePosition=this.sourcePosition.toJSON(),e}},{key:"_validate",value:function(){if(this.sourcePosition.root.document)throw new p["a"]("detach-operation-on-document-node",this)}},{key:"_execute",value:function(){Object(v["d"])(g["a"]._createFromPositionAndShift(this.sourcePosition,this.howMany))}}],[{key:"className",get:function(){return"DetachOperation"}}]),n}(d["a"]),m=n("17e1"),w=n("f4bc"),b=n("63d0"),P=n("8e03"),k=n("6472"),_=n("0066"),O=n("98ea"),A=n("db03"),S=n("5122"),R=n("a641"),x=n("6576"),B=n("9cf5"),j=n("c494"),N=n("b286"),M=function(){function e(t,n){Object(r["a"])(this,e),this.model=t,this.batch=n}return Object(a["a"])(e,[{key:"createText",value:function(e,t){return new S["a"](e,t)}},{key:"createElement",value:function(e,t){return new R["a"](e,t)}},{key:"createDocumentFragment",value:function(){return new A["a"]}},{key:"cloneElement",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e._clone(t)}},{key:"insert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this._assertWriterUsedCorrectly(),!(e instanceof S["a"]&&""==e.data)){var r=B["a"]._createAt(t,n);if(e.parent){if(F(e.root,r.root))return void this.move(g["a"]._createOn(e),r);if(e.root.document)throw new p["a"]("model-writer-insert-forbidden-move",this);this.remove(e)}var a=r.root.document?r.root.document.version:null,o=new m["a"](r,e,a);if(e instanceof S["a"]&&(o.shouldReceiveAttributes=!0),this.batch.addOperation(o),this.model.applyOperation(o),e instanceof A["a"]){var u,c=Object(i["a"])(e.markers);try{for(c.s();!(u=c.n()).done;){var f=Object(s["a"])(u.value,2),l=f[0],h=f[1],d=B["a"]._createAt(h.root,0),v=new g["a"](h.start._getCombined(d,r),h.end._getCombined(d,r)),y={range:v,usingOperation:!0,affectsData:!0};this.model.markers.has(l)?this.updateMarker(l,y):this.addMarker(l,y)}}catch(w){c.e(w)}finally{c.f()}}}}},{key:"insertText",value:function(e,t,n,i){t instanceof A["a"]||t instanceof R["a"]||t instanceof B["a"]?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,i)}},{key:"insertElement",value:function(e,t,n,i){t instanceof A["a"]||t instanceof R["a"]||t instanceof B["a"]?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,i)}},{key:"append",value:function(e,t){this.insert(e,t,"end")}},{key:"appendText",value:function(e,t,n){t instanceof A["a"]||t instanceof R["a"]?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}},{key:"appendElement",value:function(e,t,n){t instanceof A["a"]||t instanceof R["a"]?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}},{key:"setAttribute",value:function(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof g["a"]){var r,a=n.getMinimalFlatRanges(),o=Object(i["a"])(a);try{for(o.s();!(r=o.n()).done;){var s=r.value;T(this,e,t,s)}}catch(u){o.e(u)}finally{o.f()}}else E(this,e,t,n)}},{key:"setAttributes",value:function(e,t){var n,r=Object(i["a"])(Object(N["a"])(e));try{for(r.s();!(n=r.n()).done;){var a=Object(s["a"])(n.value,2),o=a[0],u=a[1];this.setAttribute(o,u,t)}}catch(c){r.e(c)}finally{r.f()}}},{key:"removeAttribute",value:function(e,t){if(this._assertWriterUsedCorrectly(),t instanceof g["a"]){var n,r=t.getMinimalFlatRanges(),a=Object(i["a"])(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;T(this,e,null,o)}}catch(s){a.e(s)}finally{a.f()}}else E(this,e,null,t)}},{key:"clearAttributes",value:function(e){var t=this;this._assertWriterUsedCorrectly();var n=function(e){var n,r=Object(i["a"])(e.getAttributeKeys());try{for(r.s();!(n=r.n()).done;){var a=n.value;t.removeAttribute(a,e)}}catch(o){r.e(o)}finally{r.f()}};if(e instanceof g["a"]){var r,a=Object(i["a"])(e.getItems());try{for(a.s();!(r=a.n()).done;){var o=r.value;n(o)}}catch(s){a.e(s)}finally{a.f()}}else n(e)}},{key:"move",value:function(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof g["a"]))throw new p["a"]("writer-move-invalid-range",this);if(!e.isFlat)throw new p["a"]("writer-move-range-not-flat",this);var i=B["a"]._createAt(t,n);if(!i.isEqual(e.start)){if(this._addOperationForAffectedMarkers("move",e),!F(e.root,i.root))throw new p["a"]("writer-move-different-document",this);var r=e.root.document?e.root.document.version:null,a=new b["a"](e.start,e.end.offset-e.start.offset,i,r);this.batch.addOperation(a),this.model.applyOperation(a)}}},{key:"remove",value:function(e){this._assertWriterUsedCorrectly();var t,n=e instanceof g["a"]?e:g["a"]._createOn(e),r=n.getMinimalFlatRanges().reverse(),a=Object(i["a"])(r);try{for(a.s();!(t=a.n()).done;){var o=t.value;this._addOperationForAffectedMarkers("move",o),I(o.start,o.end.offset-o.start.offset,this.batch,this.model)}}catch(s){a.e(s)}finally{a.f()}}},{key:"merge",value:function(e){this._assertWriterUsedCorrectly();var t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof R["a"]))throw new p["a"]("writer-merge-no-element-before",this);if(!(n instanceof R["a"]))throw new p["a"]("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}},{key:"createPositionFromPath",value:function(e,t,n){return this.model.createPositionFromPath(e,t,n)}},{key:"createPositionAt",value:function(e,t){return this.model.createPositionAt(e,t)}},{key:"createPositionAfter",value:function(e){return this.model.createPositionAfter(e)}},{key:"createPositionBefore",value:function(e){return this.model.createPositionBefore(e)}},{key:"createRange",value:function(e,t){return this.model.createRange(e,t)}},{key:"createRangeIn",value:function(e){return this.model.createRangeIn(e)}},{key:"createRangeOn",value:function(e){return this.model.createRangeOn(e)}},{key:"createSelection",value:function(e,t,n){return this.model.createSelection(e,t,n)}},{key:"_mergeDetached",value:function(e){var t=e.nodeBefore,n=e.nodeAfter;this.move(g["a"]._createIn(n),B["a"]._createAt(t,"end")),this.remove(n)}},{key:"_merge",value:function(e){var t=B["a"]._createAt(e.nodeBefore,"end"),n=B["a"]._createAt(e.nodeAfter,0),i=e.root.document.graveyard,r=new B["a"](i,[0]),a=e.root.document.version,o=new O["a"](n,e.nodeAfter.maxOffset,t,r,a);this.batch.addOperation(o),this.model.applyOperation(o)}},{key:"rename",value:function(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof R["a"]))throw new p["a"]("writer-rename-not-element-instance",this);var n=e.root.document?e.root.document.version:null,i=new P["a"](B["a"]._createBefore(e),e.name,t,n);this.batch.addOperation(i),this.model.applyOperation(i)}},{key:"split",value:function(e,t){this._assertWriterUsedCorrectly();var n,i,r=e.parent;if(!r.parent)throw new p["a"]("writer-split-element-no-parent",this);if(t||(t=r.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new p["a"]("writer-split-invalid-limit-element",this);do{var a=r.root.document?r.root.document.version:null,o=r.maxOffset-e.offset,s=_["a"].getInsertionPosition(e),u=new _["a"](e,o,s,null,a);this.batch.addOperation(u),this.model.applyOperation(u),n||i||(n=r,i=e.parent.nextSibling),e=this.createPositionAfter(e.parent),r=e.parent}while(r!==t);return{position:e,range:new g["a"](B["a"]._createAt(n,"end"),B["a"]._createAt(i,0))}}},{key:"wrap",value:function(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new p["a"]("writer-wrap-range-not-flat",this);var n=t instanceof R["a"]?t:new R["a"](t);if(n.childCount>0)throw new p["a"]("writer-wrap-element-not-empty",this);if(null!==n.parent)throw new p["a"]("writer-wrap-element-attached",this);this.insert(n,e.start);var i=new g["a"](e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(i,B["a"]._createAt(n,0))}},{key:"unwrap",value:function(e){if(this._assertWriterUsedCorrectly(),null===e.parent)throw new p["a"]("writer-unwrap-element-no-parent",this);this.move(g["a"]._createIn(e),this.createPositionAfter(e)),this.remove(e)}},{key:"addMarker",value:function(e,t){if(this._assertWriterUsedCorrectly(),!t||"boolean"!=typeof t.usingOperation)throw new p["a"]("writer-addmarker-no-usingoperation",this);var n=t.usingOperation,i=t.range,r=void 0!==t.affectsData&&t.affectsData;if(this.model.markers.has(e))throw new p["a"]("writer-addmarker-marker-exists",this);if(!i)throw new p["a"]("writer-addmarker-no-range",this);return n?(C(this,e,null,i,r),this.model.markers.get(e)):this.model.markers._set(e,i,n,r)}},{key:"updateMarker",value:function(e,t){this._assertWriterUsedCorrectly();var n="string"==typeof e?e:e.name,i=this.model.markers.get(n);if(!i)throw new p["a"]("writer-updatemarker-marker-not-exists",this);if(t){var r="boolean"==typeof t.usingOperation,a="boolean"==typeof t.affectsData,o=a?t.affectsData:i.affectsData;if(!r&&!t.range&&!a)throw new p["a"]("writer-updatemarker-wrong-options",this);var s=i.getRange(),u=t.range?t.range:s;r&&t.usingOperation!==i.managedUsingOperations?t.usingOperation?C(this,n,null,u,o):(C(this,n,s,null,o),this.model.markers._set(n,u,void 0,o)):i.managedUsingOperations?C(this,n,s,u,o):this.model.markers._set(n,u,void 0,o)}else this.model.markers._refresh(i)}},{key:"removeMarker",value:function(e){this._assertWriterUsedCorrectly();var t="string"==typeof e?e:e.name;if(!this.model.markers.has(t))throw new p["a"]("writer-removemarker-no-marker",this);var n=this.model.markers.get(t);if(n.managedUsingOperations){var i=n.getRange();C(this,t,i,null,n.affectsData)}else this.model.markers._remove(t)}},{key:"setSelection",value:function(e,t,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(e,t,n)}},{key:"setSelectionFocus",value:function(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}},{key:"setSelectionAttribute",value:function(e,t){if(this._assertWriterUsedCorrectly(),"string"===typeof e)this._setSelectionAttribute(e,t);else{var n,r=Object(i["a"])(Object(N["a"])(e));try{for(r.s();!(n=r.n()).done;){var a=Object(s["a"])(n.value,2),o=a[0],u=a[1];this._setSelectionAttribute(o,u)}}catch(c){r.e(c)}finally{r.f()}}}},{key:"removeSelectionAttribute",value:function(e){if(this._assertWriterUsedCorrectly(),"string"===typeof e)this._removeSelectionAttribute(e);else{var t,n=Object(i["a"])(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._removeSelectionAttribute(r)}}catch(a){n.e(a)}finally{n.f()}}}},{key:"overrideSelectionGravity",value:function(){return this.model.document.selection._overrideGravity()}},{key:"restoreSelectionGravity",value:function(e){this.model.document.selection._restoreGravity(e)}},{key:"_setSelectionAttribute",value:function(e,t){var n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){var i=j["a"]._getStoreAttributeKey(e);this.setAttribute(i,t,n.anchor.parent)}n._setAttribute(e,t)}},{key:"_removeSelectionAttribute",value:function(e){var t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){var n=j["a"]._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}},{key:"_assertWriterUsedCorrectly",value:function(){if(this.model._currentWriter!==this)throw new p["a"]("writer-incorrect-use",this)}},{key:"_addOperationForAffectedMarkers",value:function(e,t){var n,r=Object(i["a"])(this.model.markers);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.managedUsingOperations){var o=a.getRange(),s=!1;if("move"===e)s=t.containsPosition(o.start)||t.start.isEqual(o.start)||t.containsPosition(o.end)||t.end.isEqual(o.end);else{var u=t.nodeBefore,c=t.nodeAfter,f=o.start.parent==u&&o.start.isAtEnd,l=o.end.parent==c&&0==o.end.offset,h=o.end.nodeAfter==c,d=o.start.nodeAfter==c;s=f||l||h||d}s&&this.updateMarker(a.name,{range:o})}}}catch(g){r.e(g)}finally{r.f()}}}]),e}();function T(e,t,n,r){var a,o,s,c,f=e.model,l=f.document,h=r.start,d=Object(i["a"])(r.getWalker({shallow:!0}));try{for(d.s();!(c=d.n()).done;){var v=c.value;s=v.item.getAttribute(t),a&&o!=s&&(o!=n&&p(),h=a),a=v.nextPosition,o=s}}catch(y){d.e(y)}finally{d.f()}function p(){var i=new g["a"](h,a),r=i.root.document?l.version:null,s=new u["a"](i,t,o,n,r);e.batch.addOperation(s),f.applyOperation(s)}a instanceof B["a"]&&a!=h&&o!=n&&p()}function E(e,t,n,i){var r,a,o=e.model,s=o.document,c=i.getAttribute(t);if(c!=n){var f=i.root===i;if(f){var l=i.document?s.version:null;a=new k["a"](i,t,c,n,l)}else{r=new g["a"](B["a"]._createBefore(i),e.createPositionAfter(i));var h=r.root.document?s.version:null;a=new u["a"](r,t,c,n,h)}e.batch.addOperation(a),o.applyOperation(a)}}function C(e,t,n,i,r){var a=e.model,o=a.document,s=new w["a"](t,n,i,a.markers,r,o.version);e.batch.addOperation(s),a.applyOperation(s)}function I(e,t,n,i){var r;if(e.root.document){var a=i.document,o=new B["a"](a.graveyard,[0]);r=new b["a"](e,t,o,a.version)}else r=new y(e,t);n.addOperation(r),i.applyOperation(r)}function F(e,t){return e===t||e instanceof x["a"]&&t instanceof x["a"]}var q=n("8ed3"),V=n("41db"),J=n("4343"),W=n("d4e1"),D=n("644e"),$=n("bdc57"),U=n("3f95"),L=(n("6062"),n("3ca3"),n("ddb0"),n("a630"),n("1276"),n("96f5"));
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function z(e,t,n,i){return e.change((function(r){var a;a=n?n instanceof $["a"]||n instanceof j["a"]?n:r.createSelection(n,i):e.document.selection,a.isCollapsed||e.deleteContent(a,{doNotAutoparagraph:!0});var o,s=new K(e,r,a.anchor);o=t.is("documentFragment")?t.getChildren():[t],s.handleNodes(o);var u=s.getSelectionRange();u&&(a instanceof j["a"]?r.setSelection(u):a.setTo(u));var c=s.getAffectedRange()||e.createRange(a.anchor);return s.destroy(),c}))}var K=function(){function e(t,n,i){Object(r["a"])(this,e),this.model=t,this.writer=n,this.position=i,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._documentFragment=n.createDocumentFragment(),this._documentFragmentPosition=n.createPositionAt(this._documentFragment,0),this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}return Object(a["a"])(e,[{key:"handleNodes",value:function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var i=n[t];this._handleNode(i)}this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}},{key:"_updateLastNodeFromAutoParagraph",value:function(e){var t=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(e);if(n.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new p["a"]("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}},{key:"getSelectionRange",value:function(){return this.nodeToSelect?g["a"]._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}},{key:"getAffectedRange",value:function(){return this._affectedStart?new g["a"](this._affectedStart,this._affectedEnd):null}},{key:"destroy",value:function(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}},{key:"_handleNode",value:function(e){if(this.schema.isObject(e))this._handleObject(e);else{var t=this._checkAndAutoParagraphToAllowedPosition(e);t||(t=this._checkAndSplitToAllowedPosition(e),t)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}}},{key:"_insertPartialFragment",value:function(){if(!this._documentFragment.isEmpty){var e=L["a"].fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}}},{key:"_handleObject",value:function(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}},{key:"_handleDisallowedNode",value:function(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}},{key:"_appendToFragment",value:function(e){if(!this.schema.checkChild(this.position,e))throw new p["a"]("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this.nodeToSelect=e:this.nodeToSelect=null,this._filterAttributesOf.push(e)}},{key:"_setAffectedBoundaries",value:function(e){this._affectedStart||(this._affectedStart=L["a"].fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=L["a"].fromPosition(e,"toNext"))}},{key:"_mergeOnLeft",value:function(){var e=this._firstNode;if(e instanceof R["a"]&&this._canMergeLeft(e)){var t=L["a"]._createBefore(e);t.stickiness="toNext";var n=L["a"].fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=L["a"]._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=L["a"]._createAt(t.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}}},{key:"_mergeOnRight",value:function(){var e=this._lastNode;if(e instanceof R["a"]&&this._canMergeRight(e)){var t=L["a"]._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new p["a"]("insertcontent-invalid-insertion-position",this);this.position=B["a"]._createAt(t.nodeBefore,"end");var n=L["a"].fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=L["a"]._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=L["a"]._createAt(t.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}}},{key:"_canMergeLeft",value:function(e){var t=e.previousSibling;return t instanceof R["a"]&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}},{key:"_canMergeRight",value:function(e){var t=e.nextSibling;return t instanceof R["a"]&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}},{key:"_tryAutoparagraphing",value:function(e){var t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}},{key:"_checkAndAutoParagraphToAllowedPosition",value:function(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();var t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}},{key:"_checkAndSplitToAllowedPosition",value:function(e){var t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;t!=this.position.parent&&this._insertPartialFragment();while(t!=this.position.parent)if(this.position.isAtStart){var n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===t&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{var i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}return!0}},{key:"_getAllowedIn",value:function(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}]),e}();n("c1f9");
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function Y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.isCollapsed){var i=t.getFirstRange();if("$graveyard"!=i.root.rootName){var r=e.schema;e.change((function(e){if(n.doNotResetEntireContent||!se(r,t)){var a=G(i),o=Object(s["a"])(a,2),u=o[0],c=o[1];u.isTouching(c)||e.remove(e.createRange(u,c)),n.leaveUnmerged||(Q(e,u,c),r.removeDisallowedAttributes(u.parent.getChildren(),e)),ue(e,t,u),!n.doNotAutoparagraph&&ie(r,u)&&ae(e,u,t),u.detach(),c.detach()}else oe(e,t,r)}))}}}function G(e){var t=e.root.document.model,n=e.start,i=e.end;if(t.hasContent(e,{ignoreMarkers:!0})){var r=H(i);if(r&&i.isTouching(t.createPositionAt(r,0))){var a=t.createSelection(e);t.modifySelection(a,{direction:"backward"});var o=a.getLastPosition(),s=t.createRange(o,i);t.hasContent(s,{ignoreMarkers:!0})||(i=o)}}return[L["a"].fromPosition(n,"toPrevious"),L["a"].fromPosition(i,"toNext")]}function H(e){var t,n=e.parent,r=n.root.document.model.schema,a=n.getAncestors({parentFirst:!0,includeSelf:!0}),o=Object(i["a"])(a);try{for(o.s();!(t=o.n()).done;){var s=t.value;if(r.isLimit(s))return null;if(r.isBlock(s))return s}}catch(u){o.e(u)}finally{o.f()}}function Q(e,t,n){var i=e.model;if(te(e.model.schema,t,n)){var r=ne(t,n),a=Object(s["a"])(r,2),o=a[0],u=a[1];o&&u&&(!i.hasContent(o,{ignoreMarkers:!0})&&i.hasContent(u,{ignoreMarkers:!0})?Z(e,t,n,o.parent):X(e,t,n,o.parent))}}function X(e,t,n,i){var r=t.parent,a=n.parent;if(r!=i&&a!=i){t=e.createPositionAfter(r),n=e.createPositionBefore(a),n.isEqual(t)||e.insert(a,t),e.merge(t);while(n.parent.isEmpty){var o=n.parent;n=e.createPositionBefore(o),e.remove(o)}te(e.model.schema,t,n)&&X(e,t,n,i)}}function Z(e,t,n,i){var r=t.parent,a=n.parent;if(r!=i&&a!=i){t=e.createPositionAfter(r),n=e.createPositionBefore(a),n.isEqual(t)||e.insert(r,n);while(t.parent.isEmpty){var o=t.parent;t=e.createPositionBefore(o),e.remove(o)}n=e.createPositionBefore(a),ee(e,n),te(e.model.schema,t,n)&&Z(e,t,n,i)}}function ee(e,t){var n=t.nodeBefore,i=t.nodeAfter;n.name!=i.name&&e.rename(n,i.name),e.clearAttributes(n),e.setAttributes(Object.fromEntries(i.getAttributes()),n),e.merge(t)}function te(e,t,n){var i=t.parent,r=n.parent;return i!=r&&(!e.isLimit(i)&&!e.isLimit(r)&&re(t,n,e))}function ne(e,t){var n=e.getAncestors(),i=t.getAncestors(),r=0;while(n[r]&&n[r]==i[r])r++;return[n[r],i[r]]}function ie(e,t){var n=e.checkChild(t,"$text"),i=e.checkChild(t,"paragraph");return!n&&i}function re(e,t,n){var r,a=new g["a"](e,t),o=Object(i["a"])(a.getWalker());try{for(o.s();!(r=o.n()).done;){var s=r.value;if(n.isLimit(s.item))return!1}}catch(u){o.e(u)}finally{o.f()}return!0}function ae(e,t,n){var i=e.createElement("paragraph");e.insert(i,t),ue(e,n,e.createPositionAt(i,0))}function oe(e,t){var n=e.model.schema.getLimitElement(t);e.remove(e.createRangeIn(n)),ae(e,e.createPositionAt(n,0),t)}function se(e,t){var n=e.getLimitElement(t);if(!t.containsEntireContent(n))return!1;var i=t.getFirstRange();return i.start.parent!=i.end.parent&&e.checkChild(n,"paragraph")}function ue(e,t,n){t instanceof j["a"]?e.setSelection(n):t.setTo(n)}var ce=n("53ca"),fe=n("82af"),le=n("6ce9"),he=' ,.?!:;"-()';function de(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.schema,a="backward"!=i.direction,o=i.unit?i.unit:"character",s=t.focus,u=new fe["a"]({boundaries:ye(s,a),singleCharacters:!0,direction:a?"forward":"backward"}),c={walker:u,schema:r,isForward:a,unit:o},f=function(){if(n.done)return{v:void 0};var i=ge(c,n.value);return i?(t instanceof j["a"]?e.change((function(e){e.setSelectionFocus(i)})):t.setFocus(i),{v:void 0}):void 0};while(n=u.next()){var l=f();if("object"===Object(ce["a"])(l))return l.v}}function ge(e,t){var n=e.isForward,i=e.walker,r=e.unit,a=e.schema,o=t.type,s=t.item,u=t.nextPosition;if("text"==o)return"word"===e.unit?pe(i,n):ve(i,r,n);if(o==(n?"elementStart":"elementEnd")){if(a.isSelectable(s))return B["a"]._createAt(s,n?"after":"before");if(a.checkChild(u,"$text"))return u}else{if(a.isLimit(s))return void i.skip((function(){return!0}));if(a.checkChild(u,"$text"))return u}}function ve(e,t){var n=e.position.textNode;if(n){var i=n.data,r=e.position.offset-n.startOffset;while(Object(le["b"])(i,r)||"character"==t&&Object(le["a"])(i,r))e.next(),r=e.position.offset-n.startOffset}return e.position}function pe(e,t){var n=e.position.textNode;if(n){var i=e.position.offset-n.startOffset;while(!me(n.data,i,t)&&!we(n,i,t)){e.next();var r=t?e.position.nodeAfter:e.position.nodeBefore;if(r&&r.is("$text")){var a=r.data.charAt(t?0:r.data.length-1);he.includes(a)||(e.next(),n=e.position.textNode)}i=e.position.offset-n.startOffset}}return e.position}function ye(e,t){var n=e.root,i=B["a"]._createAt(n,t?"end":0);return t?new g["a"](e,i):new g["a"](i,e)}function me(e,t,n){var i=t+(n?0:-1);return he.includes(e.charAt(i))}function we(e,t,n){return t===(n?e.endOffset:0)}n("159b"),n("4de4"),n("d81d");
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function be(e,t){return e.change((function(e){var n=e.createDocumentFragment(),r=t.getFirstRange();if(!r||r.isCollapsed)return n;var a,o=r.start.root,s=r.start.getCommonPath(r.end),u=o.getNodeByPath(s);a=r.start.parent==r.end.parent?r:e.createRange(e.createPositionAt(u,r.start.path[s.length]),e.createPositionAt(u,r.end.path[s.length]+1));var c,f=a.end.offset-a.start.offset,l=Object(i["a"])(a.getItems({shallow:!0}));try{for(l.s();!(c=l.n()).done;){var h=c.value;h.is("$textProxy")?e.appendText(h.data,h.getAttributes(),n):e.append(e.cloneElement(h,!0),n)}}catch(p){l.e(p)}finally{l.f()}if(a!=r){var d=r._getTransformedByMove(a.start,e.createPositionAt(n,0),f)[0],g=e.createRange(e.createPositionAt(n,0),d.start),v=e.createRange(d.end,e.createPositionAt(n,"end"));Pe(v,e),Pe(g,e)}return n}))}function Pe(e,t){var n=[];Array.from(e.getItems({direction:"backward"})).map((function(e){return t.createRangeOn(e)})).filter((function(t){var n=(t.start.isAfter(e.start)||t.start.isEqual(e.start))&&(t.end.isBefore(e.end)||t.end.isEqual(e.end));return n})).forEach((function(e){n.push(e.start.parent),t.remove(e)})),n.forEach((function(e){var n=e;while(n.parent&&n.isEmpty){var i=t.createRangeOn(n);n=n.parent,t.remove(i)}}))}var ke=n("2909");n("7db0"),n("fb6a");
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function _e(e){e.document.registerPostFixer((function(t){return Oe(t,e)}))}function Oe(e,t){var n,r=t.document.selection,a=t.schema,o=[],s=!1,u=Object(i["a"])(r.getRanges());try{for(u.s();!(n=u.n()).done;){var c=n.value,f=Ae(c,a);f&&!f.isEqual(c)?(o.push(f),s=!0):o.push(c)}}catch(l){u.e(l)}finally{u.f()}s&&e.setSelection(je(o),{backward:r.isBackward})}function Ae(e,t){return e.isCollapsed?Se(e,t):Re(e,t)}function Se(e,t){var n=e.start,i=t.getNearestSelectionRange(n);if(!i){var r=n.getAncestors().reverse().find((function(e){return t.isObject(e)}));return r?g["a"]._createOn(r):null}if(!i.isCollapsed)return i;var a=i.start;return n.isEqual(a)?null:new g["a"](a)}function Re(e,t){var n=e.start,i=e.end,r=t.checkChild(n,"$text"),a=t.checkChild(i,"$text"),o=t.getLimitElement(n),s=t.getLimitElement(i);if(o===s){if(r&&a)return null;if(Be(n,i,t)){var u=n.nodeAfter&&t.isSelectable(n.nodeAfter),c=u?null:t.getNearestSelectionRange(n,"forward"),f=i.nodeBefore&&t.isSelectable(i.nodeBefore),l=f?null:t.getNearestSelectionRange(i,"backward"),h=c?c.start:n,d=l?l.end:i;return new g["a"](h,d)}}var v=o&&!o.is("rootElement"),p=s&&!s.is("rootElement");if(v||p){var y=n.nodeAfter&&i.nodeBefore&&n.nodeAfter.parent===i.nodeBefore.parent,m=v&&(!y||!Ne(n.nodeAfter,t)),w=p&&(!y||!Ne(i.nodeBefore,t)),b=n,P=i;return m&&(b=B["a"]._createBefore(xe(o,t))),w&&(P=B["a"]._createAfter(xe(s,t))),new g["a"](b,P)}return null}function xe(e,t){var n=e,i=n;while(t.isLimit(i)&&i.parent)n=i,i=i.parent;return n}function Be(e,t,n){var i=e.nodeAfter&&!n.isLimit(e.nodeAfter)||n.checkChild(e,"$text"),r=t.nodeBefore&&!n.isLimit(t.nodeBefore)||n.checkChild(t,"$text");return i||r}function je(e){var t=Object(ke["a"])(e),n=new Set,r=1;while(r<t.length){var a,o=t[r],u=t.slice(0,r),c=Object(i["a"])(u.entries());try{for(c.s();!(a=c.n()).done;){var f=Object(s["a"])(a.value,2),l=f[0],h=f[1];if(!n.has(l))if(o.isEqual(h))n.add(l);else if(o.isIntersecting(h)){n.add(l),n.add(r);var d=o.getJoined(h);t.push(d)}}}catch(v){c.e(v)}finally{c.f()}r++}var g=t.filter((function(e,t){return!n.has(t)}));return g}function Ne(e,t){return e&&t.isSelectable(e)}var Me=n("bc54"),Te=function(){function e(){var t=this;Object(r["a"])(this,e),this.markers=new J["a"],this.document=new V["a"](this),this.schema=new q["b"],this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach((function(e){return t.decorate(e)})),this.on("applyOperation",(function(e,t){var n=t[0];n._validate()}),{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((function(e,t){if("$marker"===t.name)return!0})),_e(this),this.document.registerPostFixer(Me["a"])}return Object(a["a"])(e,[{key:"change",value:function(e){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new o["a"],callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){p["a"].rethrowUnexpectedError(t,this)}}},{key:"enqueueChange",value:function(e,t){try{"string"===typeof e?e=new o["a"](e):"function"==typeof e&&(t=e,e=new o["a"]),this._pendingChanges.push({batch:e,callback:t}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(n){p["a"].rethrowUnexpectedError(n,this)}}},{key:"applyOperation",value:function(e){e._execute()}},{key:"insertContent",value:function(e,t,n){return z(this,e,t,n)}},{key:"deleteContent",value:function(e,t){Y(this,e,t)}},{key:"modifySelection",value:function(e,t){de(this,e,t)}},{key:"getSelectedContent",value:function(e){return be(this,e)}},{key:"hasContent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e instanceof R["a"]?g["a"]._createIn(e):e;if(n.isCollapsed)return!1;var r=t.ignoreWhitespaces,a=void 0!==r&&r,o=t.ignoreMarkers,s=void 0!==o&&o;if(!s){var u,c=Object(i["a"])(this.markers.getMarkersIntersectingRange(n));try{for(c.s();!(u=c.n()).done;){var f=u.value;if(f.affectsData)return!0}}catch(v){c.e(v)}finally{c.f()}}var l,h=Object(i["a"])(n.getItems());try{for(h.s();!(l=h.n()).done;){var d=l.value;if(this.schema.isContent(d)){if(!d.is("$textProxy"))return!0;if(!a)return!0;if(-1!==d.data.search(/\S/))return!0}}}catch(v){h.e(v)}finally{h.f()}return!1}},{key:"createPositionFromPath",value:function(e,t,n){return new B["a"](e,t,n)}},{key:"createPositionAt",value:function(e,t){return B["a"]._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return B["a"]._createAfter(e)}},{key:"createPositionBefore",value:function(e){return B["a"]._createBefore(e)}},{key:"createRange",value:function(e,t){return new g["a"](e,t)}},{key:"createRangeIn",value:function(e){return g["a"]._createIn(e)}},{key:"createRangeOn",value:function(e){return g["a"]._createOn(e)}},{key:"createSelection",value:function(e,t,n){return new $["a"](e,t,n)}},{key:"createBatch",value:function(e){return new o["a"](e)}},{key:"createOperationFromJSON",value:function(e){return U["a"].fromJSON(e,this.document)}},{key:"destroy",value:function(){this.document.destroy(),this.stopListening()}},{key:"_runPendingChanges",value:function(){var e=[];this.fire("_beforeChanges");while(this._pendingChanges.length){var t=this._pendingChanges[0].batch;this._currentWriter=new M(this,t);var n=this._pendingChanges[0].callback(this._currentWriter);e.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),e}}]),e}();
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object(D["a"])(Te,W["a"])},f4bc:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("d4ec"),r=n("bee2"),a=n("45eb"),o=n("7e84"),s=n("262e"),u=n("2caf"),c=(n("b0c0"),n("bf19"),n("6c92")),f=n("ad6b"),l=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(e,r,a,o,s,u){var c;return Object(i["a"])(this,n),c=t.call(this,u),c.name=e,c.oldRange=r?r.clone():null,c.newRange=a?a.clone():null,c.affectsData=s,c._markers=o,c}return Object(r["a"])(n,[{key:"type",get:function(){return"marker"}},{key:"clone",value:function(){return new n(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}},{key:"_execute",value:function(){var e=this.newRange?"_set":"_remove";this._markers[e](this.name,this.newRange,!0,this.affectsData)}},{key:"toJSON",value:function(){var e=Object(a["a"])(Object(o["a"])(n.prototype),"toJSON",this).call(this);return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}}],[{key:"className",get:function(){return"MarkerOperation"}},{key:"fromJSON",value:function(e,t){return new n(e.name,e.oldRange?f["a"].fromJSON(e.oldRange,t):null,e.newRange?f["a"].fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}]),n}(c["a"])}}]);
//# sourceMappingURL=chunk-0859692b.381a90ee.js.map