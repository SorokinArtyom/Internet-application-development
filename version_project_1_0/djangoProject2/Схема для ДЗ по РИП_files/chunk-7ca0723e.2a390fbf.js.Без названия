(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ca0723e"],{"026f":function(t,e,a){},"60a9":function(t,e,a){t.exports=a.p+"static/img/undraw_elements_cipa.bae93ecb.svg"},b249:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-container",{staticClass:"ultrawide"},[t.showTeamPopup&&0==t.allowedTeams.length?s("b-modal",{ref:"teamSignUp",attrs:{size:"xl",centered:"","no-close-on-esc":"","hide-footer":"","hide-header":"","hide-header-close":""},on:{hidden:t.resetModal},model:{value:t.showTeamPopup,callback:function(e){t.showTeamPopup=e},expression:"showTeamPopup"}},[s("the-create-team",{on:{done:t.teamCreated}}),s("b-btn",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",title:t.$t("hide-this-popup"),variant:"link"},on:{click:t.workAlone}},[t._v(" "+t._s(t.$t("i-work-alone"))+" ")])],1):t._e(),t.showTeamPopup&&t.allowedTeams.length>0?s("b-modal",{ref:"selectTeam",attrs:{"hide-footer":"",title:t.$t("select-team"),size:"lg",id:"selectTeam"},model:{value:t.showJoinTeam,callback:function(e){t.showJoinTeam=e},expression:"showJoinTeam"}},[s("p",{staticClass:"muted"},[t._v(" "+t._s(t.$t("people-allow-you-to-connect"))+" ")]),s("b-list-group",t._l(t.allowedTeams,(function(e){return s("b-list-group-item",{key:e.id,staticClass:"flex-column align-items-start",attrs:{button:""}},[s("div",{staticClass:"d-flex w-100 justify-content-between"},[s("h5",[t._v(" "+t._s(e.name)+" ")]),s("b-btn",{attrs:{variant:"outline-primary"},on:{click:function(a){return t.JoinMe(e.teamId)}}},[t._v(" "+t._s(t.$t("join-team"))+" ")])],1),s("p",{staticClass:"mb-1"},[s("small",[s("b-badge",{attrs:{variant:"success"}},[t._v(t._s(e.countOfUsers)+" "+t._s(t.$t("users")))])],1),s("small",[t._v(" "+t._s(t.$t("owner"))+" "),s("b",[t._v(" "+t._s(e.admin)+" ")])])])])})),1),s("b-btn",{staticClass:"mt-3",attrs:{size:"lg",block:"",variant:"outline-dark",to:"/app/team"}},[t._v(" "+t._s(t.$t("or-create-you-own"))+" ")]),s("b-btn",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",title:t.$t("hide-this-popup"),variant:"link"},on:{click:t.workAlone}},[t._v(" "+t._s(t.$t("i-work-alone"))+" ")])],1):t._e(),s("div",{staticClass:"mt-5 pt-4"},[s("div",{attrs:{id:"allViews"}},[s("b-row",[s("b-col",{attrs:{cols:"11"}},[s("b-form-input",{staticClass:"mt-2 mb-2",attrs:{disabled:!t.showFTS,id:"v-step-5",type:"search",placeholder:this.$t("process-search")},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchByButton.apply(null,arguments)}},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}})],1),s("b-col",[s("b-button",{staticClass:"mt-2 mb-2",attrs:{disabled:!t.showFTS,block:"",variant:"outline-dark"},on:{click:t.searchByButton}},[s("font-awesome-icon",{attrs:{icon:"search"}}),t._v(" "+t._s(t.$t("search")))],1)],1)],1),s("b-row",[s("b-col",{attrs:{sm:"2",md:"2",lg:"2"}},[s("div",{staticClass:"fixedElement"},[s("b-btn",{staticClass:"mb-2",attrs:{to:"/app/diagram",variant:"link",size:"lg"}},[s("font-awesome-icon",{attrs:{icon:"plus"}}),t._v(" "+t._s(t.$t("new-process"))+" ")],1),s("b-list-group",[s("b-list-group-item",{attrs:{href:"#",active:"USER"==t.calculateCurrentStatus},on:{click:t.setUserTrue}},[s("font-awesome-icon",{attrs:{icon:"user"}}),t._v(" "+t._s(t.$t("My-diagrams")))],1),s("b-list-group-item",{attrs:{disabled:!t.inTeam,href:"#",active:"TEAM"==t.calculateCurrentStatus},on:{click:t.setTeamTrue}},[s("font-awesome-icon",{attrs:{icon:"users"}}),t._v(" "+t._s(t.$t("team-diagrams")))],1),s("b-list-group-item",{attrs:{href:"#",active:"DIRECT ACCESS"==t.calculateCurrentStatus},on:{click:t.setDirecTtAccessTrue}},[s("font-awesome-icon",{attrs:{icon:"share"}}),t._v(" "+t._s(t.$t("shared-with-me")))],1),s("b-list-group-item",{attrs:{href:"#",active:"EXPLORER"==t.calculateCurrentStatus},on:{click:t.setFolderTrue}},[s("svg",{attrs:{width:"20px",height:"20px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"}},[s("path",{attrs:{d:"M544 32h-112l-32-32H320c-17.62 0-32 14.38-32 32v160c0 17.62 14.38 32 32 32h224c17.62 0 32-14.38 32-32V64C576 46.38 561.6 32 544 32zM544 320h-112l-32-32H320c-17.62 0-32 14.38-32 32v160c0 17.62 14.38 32 32 32h224c17.62 0 32-14.38 32-32v-128C576 334.4 561.6 320 544 320zM64 16C64 7.125 56.88 0 48 0h-32C7.125 0 0 7.125 0 16V416c0 17.62 14.38 32 32 32h224v-64H64V160h192V96H64V16z"}})]),t._v(" "+t._s(t.$t("folders")))]),s("b-list-group-item",{staticClass:"top-border",attrs:{href:"#",active:"MAP"==t.calculateCurrentStatus},on:{click:function(e){t.viewType="MAP"}}},[s("font-awesome-icon",{attrs:{icon:"map-marked-alt"}}),t._v(" "+t._s(t.$t("Process-map")))],1),s("b-list-group-item",{attrs:{href:"#",active:"ASSIGNEE"==t.calculateCurrentStatus},on:{click:function(e){t.viewType="ASSIGNEE"}}},[s("font-awesome-icon",{attrs:{icon:"users"}}),t._v(" "+t._s(t.$t("assignee-map"))+" ")],1),s("b-list-group-item",{attrs:{active:"VERTEX"==t.calculateCurrentStatus},on:{click:function(e){t.viewType="VERTEX"}}},[s("font-awesome-icon",{attrs:{icon:"cubes"}}),t._v(" "+t._s(t.$t("vertex"))+" "),s("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottomleft",modifiers:{hover:!0,bottomleft:!0}}],attrs:{title:t.$t("you-can-vertex"),small:"",pill:"",variant:"success"}},[t._v("! ")])],1),s("b-list-group-item",{attrs:{disabled:"",active:"ARCH"==t.calculateCurrentStatus},on:{click:function(e){t.viewType="ARCH"}}},[s("font-awesome-icon",{attrs:{icon:"layer-group"}}),t._v(" "+t._s(t.$t("arch-map"))+" ")],1),s("b-list-group-item",[t.myTags.length>0?s("div",{staticClass:"myTags mt-1"},t._l(t.myTags,(function(e){return s("span",{key:e.id},[e.text==t.clickedSearchByTag?s("font-awesome-icon",{attrs:{icon:"times-circle"},on:{click:t.getDiagramsWithDelay}}):t._e(),s("b-badge",{staticClass:"mr-1",style:e.style,on:{click:function(a){return t.searchByTag(e.text)}}},[t._v(" "+t._s(e.text)+" ")])],1)})),0):t._e()])],1),s("em",[t._v(" "+t._s(t.countName(t.totalRecords)))])],1)]),s("b-col",{attrs:{sm:"10",md:"10",lg:"10"}},[s("b-row",[s("b-col",{attrs:{sm:"10",lg:"4"}}),s("b-col"),s("b-col",{attrs:{id:"disabled-wrapper-2"}},[s("span",{attrs:{tabindex:"0"}},[s("b-btn-group",{staticClass:"float-right"},[s("b-btn",{attrs:{pressed:"card"==t.viewType,variant:"light"},on:{click:function(e){return t.onFolderClick("card")}}},[s("svg",{attrs:{width:"24px",height:"24px",viewBox:"-32 0 512 512",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M64 96L200 96 200 232 64 232 64 96ZM248 96L384 96 384 232 248 232 248 96ZM64 280L200 280 200 416 64 416 64 280ZM248 280L384 280 384 416 248 416 248 280Z"}})])]),s("b-btn",{attrs:{pressed:"table"==t.viewType,variant:"light"},on:{click:function(e){return t.onFolderClick("table")}}},[s("font-awesome-icon",{attrs:{icon:"table"}})],1)],1)],1)])],1),"VERTEX"==t.viewType?s("div",[s("vertex")],1):t._e(),"ASSIGNEE"==t.viewType?s("div",[s("team-assignee")],1):t._e(),"MAP"==t.viewType?s("div",[s("links-map")],1):t._e(),"kanban"==t.viewType?s("div",[s("kanban",{key:t.kanbanKey,attrs:{incomingDiagram:t.rows,page:t.serverParams.page,perPage:t.serverParams.perPage,team:t.team}})],1):t._e(),"folders"==t.viewType?s("div",[s("TreeList")],1):t._e(),"ARCH"==t.viewType?s("div",[s("assets-map")],1):t._e(),"explorer"==t.viewType?s("div",[s("the-explorer",{staticClass:"mt-1"})],1):t._e(),"card"==t.viewType?s("div",[s("b-card-group",{key:t.cardStackKey,attrs:{columns:""}},[s("b-skeleton-wrapper",{attrs:{loading:!t.ready},scopedSlots:t._u([{key:"loading",fn:function(){return t._l(t.randomArray(),(function(t){return s("b-card",{key:t,staticClass:"mt-2",attrs:{"no-body":"","img-top":""}},[s("b-skeleton-img",{attrs:{"card-img":"top",aspect:"2.5:1"}}),s("b-card-body",[s("b-skeleton"),s("b-skeleton",{attrs:{width:"55%"}}),s("b-skeleton",{attrs:{width:"25%"}})],1)],1)}))},proxy:!0}],null,!1,1842402371)},t._l(t.rows,(function(e){return s("b-card",{key:e.id,staticClass:"mt-2",attrs:{"no-body":"",title:e.name,"img-top":""},on:{mouseover:function(a){return t.persistTagId(e)}}},[s("b-dropdown",{staticClass:"block2",attrs:{"no-caret":"",variant:"light",dropright:"",id:"dropdown-1"},scopedSlots:t._u([{key:"button-content",fn:function(){return[s("font-awesome-icon",{attrs:{icon:"bars"}})]},proxy:!0}],null,!0)},[s("b-dropdown-item",{on:{click:function(a){return t.downloadPNG(e.id,e.name)}}},[s("font-awesome-icon",{attrs:{icon:"download"}}),t._v(" "+t._s(t.$t("download-png")))],1),s("b-dropdown-item",{on:{click:function(a){return t.duplicate(e.id)}}},[s("font-awesome-icon",{attrs:{icon:"copy"}}),t._v(" "+t._s(t.$t("duplicate"))+" ")],1),s("b-dropdown-item",[s("share",{key:t.shareKey,attrs:{diagramId:e.id},on:{hidden:t.handleHiddenShare}})],1),s("b-dropdown-item",[s("versions",{attrs:{diagramId:e.id}})],1),s("b-dropdown-item",[s("span",{on:{click:function(a){return t.$bvModal.show("import"+e.id)}}},[s("font-awesome-icon",{attrs:{icon:"file-import"}}),t._v(" "+t._s(t.$t("upload-file-as-version")))],1),s("b-modal",{attrs:{id:"import"+e.id,"hide-footer":"",title:t.$t("upload-file-as-version")}},[s("massive-upload",{attrs:{diagramId:e.id},on:{uploadDone:function(a){return t.$bvModal.hide("import"+e.id)}}})],1)],1),s("b-dropdown-divider"),s("b-dropdown-item",{attrs:{variant:"danger"},on:{click:function(a){return t.remove(e.id,null)}}},[s("font-awesome-icon",{attrs:{click:"",icon:"trash"}}),t._v(" "+t._s(t.$t("comment.singlecomment.delete"))+" ")],1)],1),s("b-card-body",{attrs:{title:e.name}},[s("section",{staticClass:"pointer mb-2",on:{click:function(a){return t.goToDiagram(e.id)}}},[s("b-skeleton-wrapper",{attrs:{loading:t.showImgSkeleton(e.id)},scopedSlots:t._u([{key:"loading",fn:function(){return[s("b-skeleton-img",{attrs:{"card-img":"top",aspect:"2.5:1"}})]},proxy:!0}],null,!0)}),s("b-img-lazy",{directives:[{name:"show",rawName:"v-show",value:!t.showImgSkeleton(e.id),expression:"!showImgSkeleton(item.id)"}],staticClass:"rounded-0 mt-2 maxheigth internal-img-card",attrs:{"blank-src":"#ccc","blank-width":"500","blank-height":"500",onerror:"this.onerror=null;this.src='/api/v1/files/blank-diagram.png';",src:t.imgUrl(e.id)},nativeOn:{load:function(a){return t.imgLoad(e.id)}}})],1),s("small",[s("username",{attrs:{showAvatar:!0,username:e.updatedBy}}),t._v(" "+t._s(t.$t("updatedOn"))+" "+t._s(t._f("moment")(e.updatedOn,"from"))+", "+t._s(t._f("moment")(e.updatedOn,"lll"))+" ")],1),"Root folder"!=e.teamFolderName?s("br"):t._e(),"Root folder"!=e.teamFolderName?s("b-badge",{attrs:{variant:"light"}},[s("font-awesome-icon",{attrs:{icon:"folder"}}),t._v(" "+t._s(e.teamFolderName)+" ")],1):t._e(),e.secureCreateDate&&e.secureType?s("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("date-given-access-click-to-delete"),href:"#",to:"",variant:"dark"},on:{click:function(a){return t.deleteSecure(e.secureId)}}},[s("font-awesome-icon",{attrs:{icon:t.typeToIcon(e.secureType)}}),t._v(" "+t._s(t._f("moment")(e.secureCreateDate,"lll"))+" ")],1):t._e(),e.secureCreateDate?s("br"):t._e()],1),s("b-card-footer",{attrs:{"footer-bg-variant":"white"}},[s("b-row",[s("b-col",{attrs:{cols:"1"}},[s("font-awesome-icon",{staticClass:"mt-2",attrs:{icon:"tags"}})],1),s("b-col",{staticStyle:{"margin-left":"-15px"}},[s("vue-tags-input",{staticStyle:{"margin-top":"2px"},attrs:{placeholder:t.$t("add-tag"),"autocomplete-items":t.filteredItems,tags:e.tags},on:{focus:function(a){return t.persistTagId(e)},"tags-changed":t.changeTagOnDiagram},model:{value:t.tag,callback:function(e){t.tag=e},expression:"tag"}})],1)],1)],1)],1)})),1)],1)],1):t._e(),"table"==t.viewType?s("div",[s("b-skeleton-wrapper",{attrs:{loading:!t.ready},scopedSlots:t._u([{key:"loading",fn:function(){return[s("b-skeleton-table",{attrs:{rows:5,columns:6,"table-props":{hover:!0}}})]},proxy:!0}],null,!1,3145260401)}),t.ready?s("b-table",{attrs:{responsive:"","caption-top":"",selectable:"","select-mode":"multi","sort-compare":t.sortCompare,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-icon-left":"",small:"",hover:"",fields:t.columns,items:t.rows},on:{"row-selected":t.onRowSelected,"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"table-caption",fn:function(){return[s("b-btn-group",{attrs:{size:"sm"}},[s("b-btn",{staticClass:"ml-1",attrs:{disabled:t.selectedProcess.length<1,variant:"light"},on:{click:t.deleteMassiveDiagram}},[s("font-awesome-icon",{attrs:{icon:"trash"}}),t._v(" "+t._s(t.$t("delete"))+" "+t._s(t.selectedProcess.length)+" ")],1)],1)]},proxy:!0},{key:"cell(name)",fn:function(e){return[s("b-link",{attrs:{target:"_blank"},on:{click:function(a){return t.goToDiagram(e.item.id)}}},[t._v(" "+t._s(e.item.name)+" ")]),t._v(" "),s("br")]}},{key:"cell(teamFolderName)",fn:function(e){return["Root folder"!=e.item.teamFolderName?s("b-badge",{attrs:{variant:"light"}},[s("font-awesome-icon",{attrs:{icon:"folder"}}),t._v(" "+t._s(e.item.teamFolderName)+" ")],1):t._e()]}},{key:"cell(createdOn)",fn:function(e){return[t._v(" "+t._s(t._f("moment")(e.item.createdOn,"lll"))+" "),s("br"),s("small",[s("username",{attrs:{showAvatar:!1,username:e.item.authorUsername}})],1)]}},{key:"cell(updatedOn)",fn:function(e){return[t._v(" "+t._s(t._f("moment")(e.item.updatedOn,"lll"))+" "),s("br"),s("small",[s("username",{attrs:{showAvatar:!1,username:e.item.updatedBy}})],1)]}},{key:"cell(status)",fn:function(t){return[s("diagram-status",{staticClass:"mt-2",attrs:{needToGetStatus:!1,diagramId:t.item.id,currentStatus:t.item.status}})]}},{key:"cell(actions)",fn:function(e){return[s("b-dropdown",{staticClass:"mt-1",attrs:{"no-caret":"",variant:"link",dropright:"",id:"dropdown-1"},scopedSlots:t._u([{key:"button-content",fn:function(){return[s("font-awesome-icon",{attrs:{icon:"bars"}})]},proxy:!0}],null,!0)},[s("b-dropdown-item",{on:{click:function(a){return t.downloadPNG(e.item.id,e.item.name)}}},[s("font-awesome-icon",{attrs:{icon:"download"}}),t._v(" "+t._s(t.$t("download-png")))],1),s("b-dropdown-item",{on:{click:function(a){return t.duplicate(e.item.id)}}},[s("font-awesome-icon",{attrs:{icon:"copy"}}),t._v(" "+t._s(t.$t("duplicate"))+" ")],1),s("b-dropdown-item",[s("share",{key:t.shareKey,attrs:{diagramId:e.item.id},on:{hidden:t.handleHiddenShare}})],1),s("b-dropdown-item",[s("versions",{attrs:{diagramId:e.item.id}})],1),s("b-dropdown-item",[s("span",{on:{click:function(a){return t.$bvModal.show("import"+e.item.id)}}},[s("font-awesome-icon",{attrs:{icon:"file-import"}}),t._v(" "+t._s(t.$t("upload-file-as-version")))],1),s("b-modal",{attrs:{id:"import"+e.item.id,"hide-footer":"",title:t.$t("upload-file-as-version")}},[s("massive-upload",{attrs:{diagramId:e.item.id},on:{uploadDone:function(a){return t.$bvModal.hide("import"+e.item.id)}}})],1)],1),s("b-dropdown-divider"),s("b-dropdown-item",{attrs:{variant:"danger"},on:{click:function(a){return t.remove(e.item.id,null)}}},[s("font-awesome-icon",{attrs:{click:"",icon:"trash"}}),t._v(" "+t._s(t.$t("comment.singlecomment.delete"))+" ")],1)],1)]}}],null,!1,3090428255)}):t._e()],1):t._e(),t.ready?s("div",[t.totalRecords>t.rows.length&&t.showFTS?s("b-btn",{staticClass:"mb-5",attrs:{size:"sm",block:"",variant:"light"},on:{click:t.loadMore}},[t._v(" "+t._s(t.$t("load-more"))+" ")]):t._e()],1):t._e(),t.showEmptyState&&"explorer"!=t.viewType?s("div",{staticClass:"text-center mt-5",attrs:{id:"createNew"}},[s("h3",[t._v(" "+t._s(t.$t("empty")))]),s("img",{staticClass:" mt-5 img-min-height mx-auto img-fluid  d-block",attrs:{src:a("60a9")}}),s("b-btn-group",[s("b-btn",{staticClass:"mt-5",attrs:{id:"v-step-1",size:"lg",variant:"outline-primary",to:"/app/diagram/"}},[s("font-awesome-icon",{attrs:{icon:"plus"}}),t._v(" "+t._s(t.$t("create-process"))+" ")],1),s("b-btn",{staticClass:"mt-5",attrs:{size:"lg",variant:"outline-success",to:"/app/team/"}},[s("font-awesome-icon",{attrs:{icon:"user"}}),t._v(" "+t._s(t.$t("invite-team"))+" ")],1)],1)],1):t._e()],1)],1)],1)])],1)},n=[],r=(a("d3b7"),a("3ca3"),a("ddb0"),a("4de4"),a("159b"),a("ac1f"),a("5319"),a("c740"),a("a434"),a("e9c4"),a("7db0"),a("a630"),a("25f0"),a("a15b9"),a("d81d"),a("4e82"),a("b64b"),a("2b3d"),a("9861"),a("b0c0"),a("c21c")),i=a("c7a0"),o=a.n(i),c={components:{TheCreateTeam:function(){return a.e("chunk-ce11cb54").then(a.bind(null,"134e"))},Versions:function(){return a.e("chunk-2d0b2aa9").then(a.bind(null,"24a2"))},Username:function(){return a.e("chunk-2d0c8d6d").then(a.bind(null,"571f"))},DiagramStatus:function(){return a.e("chunk-5c8a677b").then(a.bind(null,"7d4a3"))},VueTagsInput:o.a,TeamAssignee:function(){return Promise.all([a.e("chunk-2d0cb76d"),a.e("chunk-a0ea07a4"),a.e("chunk-2d0f0046"),a.e("chunk-7be3f624"),a.e("chunk-3ef34584")]).then(a.bind(null,"24ab"))},LinksMap:function(){return Promise.all([a.e("chunk-a0ea07a4"),a.e("chunk-2d0f0046"),a.e("chunk-363e2411"),a.e("chunk-3ef34584")]).then(a.bind(null,"0237"))},MassiveUpload:function(){return a.e("chunk-4679bf2c").then(a.bind(null,"92a4"))},Share:function(){return Promise.all([a.e("chunk-2d0d3e18"),a.e("chunk-306115dd")]).then(a.bind(null,"5f3d"))},TreeList:function(){return Promise.all([a.e("chunk-f03599a4"),a.e("chunk-076bbd29")]).then(a.bind(null,"1b73"))},TheExplorer:function(){return Promise.all([a.e("chunk-f03599a4"),a.e("chunk-73e2f11e")]).then(a.bind(null,"c99e"))},Kanban:function(){return a.e("chunk-0ce02b85").then(a.bind(null,"1b10"))},AssetsMap:function(){return Promise.all([a.e("chunk-2d0cb76d"),a.e("chunk-a0ea07a4"),a.e("chunk-2d0f0046"),a.e("chunk-f9e3fc68")]).then(a.bind(null,"9b16"))},Vertex:function(){return Promise.all([a.e("chunk-2d0cb76d"),a.e("chunk-a0ea07a4"),a.e("chunk-c2adef54"),a.e("chunk-2d0d2bc3"),a.e("chunk-596cda0e")]).then(a.bind(null,"7ad5"))}},name:"TheDiagramList",data:function(){return{myTags:[],clickedSearchByTag:null,counter:0,modalShow:!0,showRecent:!0,diagramToChanngeTag:null,recentLoaded:!1,showComments:null,arrayToLoadImg:[],showMap:!1,query:"",firstLoadDone:!1,shareKey:0,recentWork:[],recentDiagrams:[],kanbanKey:0,showEmptyState:!1,allowedTeams:[],palette:["#FFFFFF","#FFFECD","#E7FCCB","#B5E3D7","#C7F4FF","#CCDBFF","#D4CFFF","#E9D6FF","#FFCFF9","#FFCCE2","#FFC2C2","#FFDCC2","#F0F0F0","#FFFDA0","#93E070","#6BC7AE","#A3EEFF","#93B4FF","#AEA3FF","#D1ABFF","#FFA1F2","#FFA4CC","#FF7575","#FFB884","#CFCFCF","#FFFC5A","#29BB33","#3FA88C","#5FE1FF","#6C98FF","#8270FF","#AD68FF","#FF5AEB","#FF69AA","#FF4242","#FF9E56","#A9A9A9","#DBCD63","#63CF6A","#5A9C8A","#66BBCF","#6E8BCF","#7C71CF","#996BCF","#CF63C1","#CF7DA1","#CF5353","#CF8F60","#696969","#BB9F29","#1B6B12","#0E7070","#2BA0BB","#315BBB","#4433BB","#6F2FBB","#BB29AA","#BB3C74","#BB1E1E","#BB6627"],viewType:"card",options:[{text:this.$t("cards"),value:"card",disabled:!1},{text:this.$t("table"),value:"table",disabled:!1},{text:this.$t("folders"),value:"folders",disabled:!1},{text:this.$t("explorer"),value:"explorer",disabled:!1},{text:this.$t("kanban"),value:"kanban",disabled:!1}],tags:[],tag:"",team:!1,sortBy:"updatedOn",preventCache:{cache:{ignoreCache:!0}},sortDesc:!0,selectedProcess:[],directAccess:!1,cardStackKey:1,showTeamPopup:!1,showShare:null,nameForSearch:null,needSignUpTeam:null,columns:[{label:this.$t("common.name"),key:"name",sortable:!0},{label:this.$t("folder"),key:"teamFolderName",sortable:!0},{label:this.$t("createdOn"),key:"createdOn",sortable:!0},{label:this.$t("updatedOn"),key:"updatedOn",sortable:!0},{label:this.$t("version"),key:"versionNumber",sortable:!0},{label:this.$t("status"),key:"status",sortable:!0},{key:"actions",label:""}],rows:[],isLoading:!1,totalRecords:0,ready:!1,page:0,serverParams:{columnFilters:{},sort:[{field:"updatedOn",type:"desc"}],page:1,perPage:30}}},created:function(){this.showPopUp(),this.inTeam||this.getAllowedTeams();var t=JSON.parse(localStorage.getItem("userSettings"));null!=t&&null!=t.viewType&&(this.viewType=t.viewType),null!=t&&null!=t.team&&(this.team=t.team)},computed:{calculateCurrentStatus:function(){return"VERTEX"==this.viewType?"VERTEX":"ARCH"==this.viewType?"ARCH":"ASSIGNEE"==this.viewType?"ASSIGNEE":"MAP"==this.viewType?"MAP":"explorer"==this.viewType?"EXPLORER":this.clickedSearchByTag?"TAG":this.team&&!this.directAccess?"TEAM":(this.team||this.directAccess)&&this.directAccess?"DIRECT ACCESS":"USER"},filteredItems:function(){var t=this;return this.myTags.filter((function(e){return-1!==e.text.toLowerCase().indexOf(t.tag.toLowerCase())}))},showJoinTeam:function(){return this.showTeamPopup&&this.allowedTeams.length>0},showFTS:function(){return"VERTEX"!=this.viewType&&"ARCH"!=this.viewType&&"folders"!=this.viewType&&"explorer"!=this.viewType&&"MAP"!=this.viewType&&"ASSIGNEE"!=this.viewType},userDomain:function(){var t=this.$store.getters.getUsername;return t.substring(t.lastIndexOf("@")+1)},inTeam:function(){return this.$store.getters.getInTeam},payedTeamPlan:function(){return this.$store.getters.getCurrentTeamPlan}},updated:function(){this.firstLoadDone=!0},mounted:function(){if(this.getMyTags(),this.$store.commit("setClearDiagram",!0),null==t&&this.inTeam){var t=JSON.parse(localStorage.getItem("userSettings"));this.team=!0}0==this.payedTeamPlan&&(this.team=!1,this.options[2].disabled=!0,this.options[3].disabled=!0,this.options[4].disabled=!0),this.getDiagrams(),null!==localStorage.getItem("showRecent")&&(this.showRecent="true"===localStorage.getItem("showRecent")),null!=localStorage.getItem("recentWork")&&(this.recentWork=JSON.parse(localStorage.getItem("recentWork")),localStorage.getItem("showRecent"))},watch:{showRecent:function(t,e){localStorage.setItem("showRecent",t)},query:function(t,e){0!=this.totalRecords&&""!=t&&null!=t||this.getDiagrams(!1)}},methods:{setMapTrue:function(){this.setMapTrue=!0,this.team=!1,this.directAccess=!1},tagFromQuery:function(){var t=this,e=null;this.$route.query.tag&&(e=this.$route.query.tag),null!=e&&this.myTags.forEach((function(a){if(a.text==e);t.searchByTag(e)}))},getMyTags:function(){var t=this;r["a"].get("/diagram/tag",this.preventCache).then((function(e){t.myTags=e.data,t.tagFromQuery()}))},getDiagramsWithDelay:function(){var t=this;this.$router.replace({query:null}),this.clickedSearchByTag=null,setTimeout((function(){t.getDiagrams()}),100)},searchByTag:function(t){var e=this;this.clickedSearchByTag=t,r["a"].get("/diagram/searchByTag?tag="+t,this.preventCache).then((function(t){e.rows=t.data,e.totalRecords=t.data.length,e.viewType="card"}))},persistTagId:function(t){this.diagramToChanngeTag=t.id},changeTagOnDiagram:function(t){var e=this,a=[];t.forEach((function(t){"color"in t||(t.color=e.palette[Math.floor(Math.random()*e.palette.length)],t.style="background-color: "+t.color),a.push(t)})),r["a"].post("/diagram/tag/"+this.diagramToChanngeTag,a).then((function(t){setTimeout((function(){e.getMyTags()}),500)}))},calculateDisableByPlan:function(t){return null==t||t.length>0||!this.payedTeamPlan||"explorer"==this.viewType||"folders"==this.viewType},searchByButton:function(){var t=this;this.team=!1,this.directAccess=!1,this.ready=!1,this.rows=[],r["a"].get("/diagram/fullTextNew?text="+this.query).then((function(e){t.rows=[],t.rows=e.data,t.selectedProcess=[],t.ready=!0,t.totalRecords=e.data.length,t.initiateSkeletonState(),t.kanbanKey=t.kanbanKey+1,t.totalRecords>0&&(t.showEmptyState=!1),0==t.totalRecords&&setTimeout((function(){t.showEmptyState=!0}),1e3)}))},workAlone:function(){var t=this;r["a"].post("/team/workAlone").then((function(e){t.$store.commit("setInTeam",!1),t.team=!1;try{t.$refs["selectTeam"].hide()}finally{t.$refs["teamSignUp"].hide()}}))},teamCreated:function(){this.needSignUpTeam=!1,this.$store.commit("setInTeam",!0);try{this.$refs["selectTeam"].hide()}finally{this.$refs["teamSignUp"].hide()}},showPopUp:function(){var t=this;r["a"].get("/team/showTeamPopup").then((function(e){t.showTeamPopup=e.data}))},getAllowedTeams:function(){var t=this;r["a"].get("/team/allowedTeams?domain="+this.userDomain).then((function(e){t.allowedTeams=e.data}))},JoinMe:function(t){var e=this;r["a"].post("/team/"+t+"/join").then((function(t){e.$store.commit("setInTeam",!0),e.team=!0,e.getDiagrams;try{e.$refs["selectTeam"].hide()}finally{e.$refs["teamSignUp"].hide()}}))},loadMore:function(){this.page=this.page+1,this.getDiagrams(!1,!0)},deleteMassiveDiagram:function(){var t=this,e=[];this.selectedProcess.forEach((function(t){e.push(t.id)})),confirm(this.$t("are-you-really-want-delete-selected-processes"))&&r["a"].delete("/diagram/delete",{data:e}).then((function(e){t.selectedProcess=[],t.getDiagrams()}))},onRowSelected:function(t){this.selectedProcess=t},deleteSecure:function(t){var e=this;confirm(this.$t("are-you-really-want-delete-access"))&&r["a"].delete("/diagram/secure/"+t).then((function(){e.getDiagrams()}))},getRecent:function(){var t=this;r["a"].post("/diagram/searchByList",{diagramIds:this.recentWork}).then((function(e){t.recentDiagrams=e.data,t.recentDiagrams.length>0&&(t.recentLoaded=!0)}))},typeToIcon:function(t){return"EDIT"==t?"edit":"VIEW"==t?"eye":void 0},addToRecentWork:function(t){-1===this.recentWork.findIndex((function(e){return e==t}))&&this.recentWork.push(t),this.recentWork.length>3&&this.recentWork.splice(0,1),localStorage.setItem("recentWork",JSON.stringify(this.recentWork))},setTeamTrue:function(){this.directAccess=!1,this.clickedSearchByTag=null,this.viewType="card",this.team=!0,this.getDiagrams()},setUserTrue:function(){this.clickedSearchByTag=null,this.directAccess=!1,this.viewType="card",this.team=!1,this.getDiagrams()},setFolderTrue:function(){this.clickedSearchByTag=null,this.directAccess=!1,this.viewType="explorer",this.team=!1,this.getDiagrams()},setDirecTtAccessTrue:function(){this.team=!1,this.directAccess=!this.directAccess,this.viewType="card",this.getDiagrams()},showImgSkeleton:function(t){try{return!this.arrayToLoadImg.find((function(e){return e.id===t})).load}catch(e){return!0}},imgLoad:function(t){try{this.arrayToLoadImg.find((function(e){return e.id===t})).load=!0}catch(e){this.arrayToLoadImg.push({id:t,load:!0})}},randomArray:function(){return Array.from({length:7*Math.random()})},sortCompare:function(t,e,a,s,n,r,i){return("updatedOn"==a||"createdOn"==a)&&Date.parse(t[a])-Date.parse(e[a])},toString:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return null===t||"undefined"===typeof t?"":t instanceof Object?Object.keys(t).sort().map((function(e){return toString(t[e])})).join(" "):String(t)})),onFolderClick:function(t){this.viewType=t,"folders"==t&&(this.showEmptyState=!1),"card"!=t&&"table"!=t||0!=this.totalRecords||(this.showEmptyState=!0),"folders"!=t&&"explorer"!=t||(this.team=!0),this.saveLocalStorage()},countName:function(t){return 0==this.team&&0==this.directAccess?t+" "+this.declOfNum(t,[this.$t("process"),this.$t("processa"),this.$t("processov")]):1==this.team&&0==this.directAccess?t+" "+this.declOfNum(t,[this.$t("process"),this.$t("processa"),this.$t("processov")])+" "+this.$t("team"):1==this.directAccess?t+" "+this.declOfNum(t,[this.$t("process"),this.$t("processa"),this.$t("processov")])+" "+this.$t("with-direct-access"):void 0},declOfNum:function(t,e){return e[t%10===1&&t%100!==11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2]},calculateStatusName:function(t){if(null==t||null==t.status||"NEW"==t.status){var e={color:"primary",text:this.$t("new")};return e}},saveLocalStorage:function(){var t={viewType:this.viewType,team:this.team};localStorage.setItem("userSettings",JSON.stringify(t))},duplicate:function(t){var e=this;r["a"].post("/diagram/duplicate/"+t).then((function(t){e.successInfo(e.$t("process-coped"),""),e.$router.push("/app/diagram/"+t.data.id)}))},goToDiagram:function(t){this.addToRecentWork(t),this.$router.push("/app/diagram/"+t)},setTeamAndDownload:function(){this.team=!0,this.directAccess=!1,this.getDiagrams()},setDirectAccessAndDownload:function(){this.team=!1,this.directAccess=!0,this.getDiagrams()},downloadPNG:function(t,e){Object(r["a"])({url:this.imgUrlButton(t),method:"GET",responseType:"blob"}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");s.href=a,null!=e&&(e.replace(/\W/g,""),s.setAttribute("download",e+".png")),null==e&&s.setAttribute("download",NaN),document.body.appendChild(s),s.click()}))},multiselected:function(t){var e={columnFilters:{name:t.name}};this.onColumnFilter(e)},handleHiddenShare:function(){this.shareKey=this.shareKey+1},nullNameAndGet:function(){this.nameForSearch=null,delete this.serverParams.columnFilters.name,this.getDiagrams()},setPerPage:function(t){this.serverParams.perPage=t;var e={currentPage:this.serverParams.page,currentPerPage:this.serverParams.perPage,total:Math.round(this.totalRecords/this.serverParams.perPage)};this.onPerPageChange(e)},initiateSkeletonState:function(){var t=this;this.arrayToLoadImg=[],this.cardStackKey=this.cardStackKey+1,this.rows.forEach((function(e){t.arrayToLoadImg.push({id:e.id,load:!1})}))},setOnPageChange:function(t){var e={currentPage:t,currentPerPage:this.serverParams.perPage,total:Math.round(this.totalRecords/this.serverParams.perPage),prevPage:t-1};this.onPerPageChange(e)},setSearch:function(t){var e={columnFilters:{name:t}};this.onColumnFilter(e)},imgUrl:function(t){var e="/api/v1/files/"+t+"_preview.png";return e},imgUrlButton:function(t){var e="files/"+t+".png";return e},resetModal:function(t){t.preventDefault()},favourite:function(t){var e=this;confirm(this.$t("are-you-really-want-delete-process-from-favorite"))&&r["a"].post("/diagram/"+t+"/favorite").then((function(){e.getDiagrams()}))},remove:function(t,e){var a=this;confirm(this.$t("are-you-really-want-delete-process"))&&r["a"].delete("/diagram/"+t).then((function(){a.successInfo(a.$t("process-deleted"),""),a.getDiagrams(),a.selectedProcess=[]}))},getDiagrams:function(t,e){var a=this;this.clickedSearchByTag=null,1!=t&&null!=t||(this.ready=!1),r["a"].post("/diagram/search?team="+this.team+"&directAccess="+this.directAccess+"&page="+this.page,this.serverParams).then((function(t){a.showEmptyState=!1,null!=e&&0!=e||(a.rows=t.data.returnDiagrams,a.initiateSkeletonState()),1==e&&t.data.returnDiagrams.forEach((function(t){a.rows.push(t),a.arrayToLoadImg.push({id:t.id,load:!1})})),a.totalRecords=t.data.totalElements,0==a.totalRecords&&(a.showEmptyState=!0),a.kanbanKey=a.kanbanKey+1,a.ready=!0}))},updateParams:function(t){this.serverParams=Object.assign({},this.serverParams,t),1==this.firstLoadDone&&this.getDiagrams(),this.counter=this.counter+1},onPageChange:function(t){this.updateParams({page:t.currentPage}),this.getDiagrams()},onSortChange:function(t){this.updateParams({sort:[{type:t[0].type,field:t[0].field}]}),this.getDiagrams()},onColumnFilter:function(t){this.updateParams(t),1==this.firstLoadDone&&this.getDiagrams()},onPerPageChange:function(t){this.updateParams({perPage:t.currentPerPage}),this.getDiagrams()}}},l=c,d=(a("c7f9"),a("2877")),u=Object(d["a"])(l,s,n,!1,null,null,null);e["default"]=u.exports},c7f9:function(t,e,a){"use strict";a("026f")}}]);
//# sourceMappingURL=chunk-7ca0723e.2a390fbf.js.map