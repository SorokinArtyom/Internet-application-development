(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c8a677b"],{"6b7f":function(t,a,s){},"7af8":function(t,a,s){"use strict";s("6b7f")},"7d4a3":function(t,a,s){"use strict";s.r(a);var n=function(){var t=this,a=t.$createElement,s=t._self._c||a;return t.diagramId&&t.currentStatus?s("div",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"changeStatus"+t.diagramId,expression:"'changeStatus'+diagramId"}]},["NEW"==t.status?s("b-badge",{attrs:{pill:"",variant:"secondary"}},[t._v(t._s(t.$t("new")))]):t._e(),"IN_PROGRESS"==t.status?s("b-badge",{attrs:{pill:"",variant:"primary"}},[t._v(t._s(t.$t("in-work")))]):t._e(),"APPROVAL"==t.status?s("b-badge",{attrs:{pill:"",variant:"warning"}},[t._v(t._s(t.$t("APPROVAL")))]):t._e(),"DONE"==t.status?s("b-badge",{attrs:{pill:"",variant:"success"}},[t._v(t._s(t.$t("done")))]):t._e(),s("b-modal",{ref:"changeStatus"+t.diagramId,attrs:{"ok-only":"","ok-title":t.$t("setup-status"),centered:"",id:"changeStatus"+t.diagramId,title:this.$t("change-status")},on:{ok:function(a){return t.handleOk(t.status)}},scopedSlots:t._u([{key:"modal-footer",fn:function(){},proxy:!0}],null,!1,3640834506)},[s("div",{staticClass:"text-left"},[s("div",{staticClass:"text-center"},[s("b-button-group",[s("b-button",{attrs:{pressed:"NEW"==t.status,variant:"secondary"},on:{click:function(a){t.status="NEW"}}},[t._v(t._s(t.$t("new")))]),s("b-button",{attrs:{pressed:"IN_PROGRESS"==t.status,variant:"primary"},on:{click:function(a){t.status="IN_PROGRESS"}}},[t._v(t._s(t.$t("in-work")))]),s("b-button",{attrs:{pressed:"APPROVAL"==t.status,variant:"warning"},on:{click:function(a){t.status="APPROVAL"}}},[t._v(t._s(t.$t("APPROVAL")))]),s("b-button",{attrs:{pressed:"DONE"==t.status,variant:"success"},on:{click:function(a){t.status="DONE"}}},[t._v(t._s(t.$t("done")))])],1)],1),"APPROVAL"==t.status?s("div",[s("approval",{attrs:{stacked:!0,diagramId:t.diagramId}})],1):t._e()])])],1):t._e()},e=[],i=(s("d3b7"),s("3ca3"),s("ddb0"),s("159b"),s("ac1f"),s("00b4"),s("c21c")),r={name:"DiagramStatus",components:{Approval:function(){return s.e("chunk-2d0ced6f").then(s.bind(null,"60ba"))}},props:{diagramId:{type:String},currentStatus:{type:String},needToGetStatus:{type:Boolean,default:!1}},data:function(){return{tag:"",incomingStatus:"",tags:[],separators:[";",","],savekeys:[13,",",";"],reg:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/,status:this.currentStatus}},beforeMount:function(){this.needToGetStatus&&this.getStatus(),null!=this.currentStatus&&(this.incomingStatus=this.currentStatus)},methods:{createApprovals:function(){var t=this;return new Promise((function(a,s){var n=[];t.tags.forEach((function(t){n.push(t.text)}));var e={diagramId:t.diagramId,users:n};i["a"].post("/approval",e).then((function(t){a(t)}))}))},handleOk:function(){this.changeStatus(this.status),this.$refs["changeStatus"+this.diagramId].hide()},hideModal:function(){this.status=this.incomingStatus,this.$refs["changeStatus"+this.diagramId].hide()},handleAdding:function(t){this.isEmailValid(t.tag.text)&&t.addTag()},isEmailValid:function(t){return""==t?"":!!this.reg.test(t)},changeStatus:function(t){var a=this;i["a"].post("/diagram/"+this.diagramId+"/changeStatus/"+t).then((function(s){a.status=t,"APPROVAL"!=t&&a.$refs["changeStatus"+a.diagramId].hide()})).catch((function(t){a.$bvToast.toast(t.response.data.details,{title:t.response.data.details,toaster:"b-toaster-bottom-center",variant:"warning",solid:!0})}))},getStatus:function(){var t=this;null!=this.diagramId&&i["a"].get("/diagram/"+this.diagramId+"/status").then((function(a){t.status=a.data}))}}},u=r,d=(s("7af8"),s("2877")),o=Object(d["a"])(u,n,e,!1,null,"2eca3a26",null);a["default"]=o.exports}}]);
//# sourceMappingURL=chunk-5c8a677b.786e7092.js.map