(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-191d2cae","chunk-2d0e8e4c","chunk-2fbbcdf5","chunk-a0ce77a4","chunk-2d0e8e4c"],{"0d3b":function(e,t,n){var i=n("d039"),r=n("b622"),a=n("c430"),s=r("iterator");e.exports=!i((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,i){t["delete"]("b"),n+=i+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},1390:function(e,t){var n=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],i=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function r(e,t,r,s){if(!(isNaN(s)||s<1)){var o,l,u,c,h,p,f,m,d,g,y,b,v,w,x,E,C,A,P,N,S,R,k,T;s|=0;var B=s+s+1,D=t-1,M=r-1,O=s+1,I=O*(O+1)/2,F=new a,L=F;for(u=1;u<B;u++)if(L=L.next=new a,u==O)var U=L;L.next=F;var V=null,$=null;f=p=0;var j=n[s],_=i[s];for(l=0;l<r;l++){for(E=C=A=P=m=d=g=y=0,b=O*(N=e[p]),v=O*(S=e[p+1]),w=O*(R=e[p+2]),x=O*(k=e[p+3]),m+=I*N,d+=I*S,g+=I*R,y+=I*k,L=F,u=0;u<O;u++)L.r=N,L.g=S,L.b=R,L.a=k,L=L.next;for(u=1;u<O;u++)c=p+((D<u?D:u)<<2),m+=(L.r=N=e[c])*(T=O-u),d+=(L.g=S=e[c+1])*T,g+=(L.b=R=e[c+2])*T,y+=(L.a=k=e[c+3])*T,E+=N,C+=S,A+=R,P+=k,L=L.next;for(V=F,$=U,o=0;o<t;o++)e[p+3]=k=y*j>>_,0!=k?(k=255/k,e[p]=(m*j>>_)*k,e[p+1]=(d*j>>_)*k,e[p+2]=(g*j>>_)*k):e[p]=e[p+1]=e[p+2]=0,m-=b,d-=v,g-=w,y-=x,b-=V.r,v-=V.g,w-=V.b,x-=V.a,c=f+((c=o+s+1)<D?c:D)<<2,E+=V.r=e[c],C+=V.g=e[c+1],A+=V.b=e[c+2],P+=V.a=e[c+3],m+=E,d+=C,g+=A,y+=P,V=V.next,b+=N=$.r,v+=S=$.g,w+=R=$.b,x+=k=$.a,E-=N,C-=S,A-=R,P-=k,$=$.next,p+=4;f+=t}for(o=0;o<t;o++){for(C=A=P=E=d=g=y=m=0,p=o<<2,b=O*(N=e[p]),v=O*(S=e[p+1]),w=O*(R=e[p+2]),x=O*(k=e[p+3]),m+=I*N,d+=I*S,g+=I*R,y+=I*k,L=F,u=0;u<O;u++)L.r=N,L.g=S,L.b=R,L.a=k,L=L.next;for(h=t,u=1;u<=s;u++)p=h+o<<2,m+=(L.r=N=e[p])*(T=O-u),d+=(L.g=S=e[p+1])*T,g+=(L.b=R=e[p+2])*T,y+=(L.a=k=e[p+3])*T,E+=N,C+=S,A+=R,P+=k,L=L.next,u<M&&(h+=t);for(p=o,V=F,$=U,l=0;l<r;l++)c=p<<2,e[c+3]=k=y*j>>_,k>0?(k=255/k,e[c]=(m*j>>_)*k,e[c+1]=(d*j>>_)*k,e[c+2]=(g*j>>_)*k):e[c]=e[c+1]=e[c+2]=0,m-=b,d-=v,g-=w,y-=x,b-=V.r,v-=V.g,w-=V.b,x-=V.a,c=o+((c=l+O)<M?c:M)*t<<2,m+=E+=V.r=e[c],d+=C+=V.g=e[c+1],g+=A+=V.b=e[c+2],y+=P+=V.a=e[c+3],V=V.next,b+=N=$.r,v+=S=$.g,w+=R=$.b,x+=k=$.a,E-=N,C-=S,A-=R,P-=k,$=$.next,p+=t}}}function a(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}e.exports=r},"1ef9":function(e,t,n){"use strict";var i=n("87f2"),r=n("8475"),a=n("42c7");function s(e,t){r["a"].call(this,e,t)}s.prototype=Object.create(r["a"].prototype),s.prototype.fromXML=function(e,t,n){Object(i["isString"])(t)||(n=t,t="bpmn:Definitions");var r=new a["a"](Object(i["assign"])({model:this,lax:!0},n)),s=r.handler(t);return r.fromXML(e,s)},s.prototype.toXML=function(e,t){var n=new a["b"](t);return new Promise((function(t,i){try{var r=n.toXML(e);return t({xml:r})}catch(a){return i(a)}}))};var o="BPMN20",l="http://www.omg.org/spec/BPMN/20100524/MODEL",u="bpmn",c=[],h=[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isAttr:!0,isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],p=[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],f={tagAlias:"lowerCase",typePrefix:"t"},m={name:o,uri:l,prefix:u,associations:c,types:h,enumerations:p,xml:f},d="BPMNDI",g="http://www.omg.org/spec/BPMN/20100524/DI",y="bpmndi",b=[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],v=[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],w=[],x={name:d,uri:g,prefix:y,types:b,enumerations:v,associations:w},E="DC",C="http://www.omg.org/spec/DD/20100524/DC",A="dc",P=[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],N=[],S={name:E,uri:C,prefix:A,types:P,associations:N},R="DI",k="http://www.omg.org/spec/DD/20100524/DI",T="di",B=[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],D=[],M={tagAlias:"lowerCase"},O={name:R,uri:k,prefix:T,types:B,associations:D,xml:M},I="bpmn.io colors for BPMN",F="http://bpmn.io/schema/bpmn/biocolor/1.0",L="bioc",U=[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],V=[],$=[],j={name:I,uri:F,prefix:L,types:U,enumerations:V,associations:$},_="BPMN in Color",z="http://www.omg.org/spec/BPMN/non-normative/color/1.0",q="color",W=[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],G=[],H=[],X={name:_,uri:z,prefix:q,types:W,enumerations:G,associations:H},K={bpmn:m,bpmndi:x,dc:S,di:O,bioc:j,color:X};function Y(e,t){var n=Object(i["assign"])({},K,e);return new s(n,t)}t["a"]=Y},2046:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("d3b7");var i=n("1ef9");function r(e){var t=new i["a"],n=0;return new Promise((function(i){var r=null;t.fromXML(e).then((function(e){r=e.rootElement,n=r.diagrams[0].plane.planeElement.length,i([r,n])}))}))}},"27f2":function(e,t,n){"use strict";n("f40d")},"29d8":function(e,t,n){function i(e){this.options=e||{locator:{}}}function r(e,t,n){if(!e){if(t instanceof a)return t;e=t}var i={},r=e instanceof Function;function s(t){var a=e[t];!a&&r&&(a=2==e.length?function(n){e(t,n)}:e),i[t]=a&&function(e){a("[xmldom "+t+"]\t"+e+o(n))}||function(){}}return n=n||{},s("warning"),s("error"),s("fatalError"),i}function a(){this.cdata=!1}function s(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function o(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function l(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function u(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}i.prototype.parseFromString=function(e,t){var n=this.options,i=new c,s=n.domBuilder||new a,o=n.errorHandler,l=n.locator,u=n.xmlns||{},h={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return l&&s.setDocumentLocator(l),i.errorHandler=r(o,s,l),i.domBuilder=n.domBuilder||s,/\/x?html?$/.test(t)&&(h.nbsp=" ",h.copy="©",u[""]="http://www.w3.org/1999/xhtml"),u.xml=u.xml||"http://www.w3.org/XML/1998/namespace",e?i.parse(e,u,h):i.errorHandler.error("invalid doc source"),s.doc},a.prototype={startDocument:function(){this.doc=(new h).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,i){var r=this.doc,a=r.createElementNS(e,n||t),o=i.length;u(this,a),this.currentElement=a,this.locator&&s(this.locator,a);for(var l=0;l<o;l++){e=i.getURI(l);var c=i.getValue(l),h=(n=i.getQName(l),r.createAttributeNS(e,n));this.locator&&s(i.getLocator(l),h),h.value=h.nodeValue=c,a.setAttributeNode(h)}},endElement:function(e,t,n){var i=this.currentElement;i.tagName;this.currentElement=i.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&s(this.locator,n),u(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=l.apply(this,arguments),e){if(this.cdata)var i=this.doc.createCDATASection(e);else i=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(e)&&this.doc.appendChild(i),this.locator&&s(this.locator,i)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=l.apply(this,arguments);var i=this.doc.createComment(e);this.locator&&s(this.locator,i),u(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(e,t,n);this.locator&&s(this.locator,r),u(this,r)}},warning:function(e){console.warn("[xmldom warning]\t"+e,o(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,o(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,o(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){a.prototype[e]=function(){return null}}));var c=n("d61d").XMLReader,h=t.DOMImplementation=n("749c").DOMImplementation;t.XMLSerializer=n("749c").XMLSerializer,t.DOMParser=i},"2b3d":function(e,t,n){"use strict";n("3ca3");var i,r=n("23e7"),a=n("83ab"),s=n("0d3b"),o=n("da84"),l=n("0366"),u=n("e330"),c=n("37e8"),h=n("6eeb"),p=n("19aa"),f=n("1a2d"),m=n("60da"),d=n("4df4"),g=n("4dae"),y=n("6547").codeAt,b=n("5fb2"),v=n("577e"),w=n("d44e"),x=n("9861"),E=n("69f3"),C=E.set,A=E.getterFor("URL"),P=x.URLSearchParams,N=x.getState,S=o.URL,R=o.TypeError,k=o.parseInt,T=Math.floor,B=Math.pow,D=u("".charAt),M=u(/./.exec),O=u([].join),I=u(1..toString),F=u([].pop),L=u([].push),U=u("".replace),V=u([].shift),$=u("".split),j=u("".slice),_=u("".toLowerCase),z=u([].unshift),q="Invalid authority",W="Invalid scheme",G="Invalid host",H="Invalid port",X=/[a-z]/i,K=/[\d+-.a-z]/i,Y=/\d/,Q=/^0x/i,J=/^[0-7]+$/,Z=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,ie=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,re=/[\t\n\r]/g,ae=function(e){var t,n,i,r,a,s,o,l=$(e,".");if(l.length&&""==l[l.length-1]&&l.length--,t=l.length,t>4)return e;for(n=[],i=0;i<t;i++){if(r=l[i],""==r)return e;if(a=10,r.length>1&&"0"==D(r,0)&&(a=M(Q,r)?16:8,r=j(r,8==a?1:2)),""===r)s=0;else{if(!M(10==a?Z:8==a?J:ee,r))return e;s=k(r,a)}L(n,s)}for(i=0;i<t;i++)if(s=n[i],i==t-1){if(s>=B(256,5-t))return null}else if(s>255)return null;for(o=F(n),i=0;i<n.length;i++)o+=n[i]*B(256,3-i);return o},se=function(e){var t,n,i,r,a,s,o,l=[0,0,0,0,0,0,0,0],u=0,c=null,h=0,p=function(){return D(e,h)};if(":"==p()){if(":"!=D(e,1))return;h+=2,u++,c=u}while(p()){if(8==u)return;if(":"!=p()){t=n=0;while(n<4&&M(ee,p()))t=16*t+k(p(),16),h++,n++;if("."==p()){if(0==n)return;if(h-=n,u>6)return;i=0;while(p()){if(r=null,i>0){if(!("."==p()&&i<4))return;h++}if(!M(Y,p()))return;while(M(Y,p())){if(a=k(p(),10),null===r)r=a;else{if(0==r)return;r=10*r+a}if(r>255)return;h++}l[u]=256*l[u]+r,i++,2!=i&&4!=i||u++}if(4!=i)return;break}if(":"==p()){if(h++,!p())return}else if(p())return;l[u++]=t}else{if(null!==c)return;h++,u++,c=u}}if(null!==c){s=u-c,u=7;while(0!=u&&s>0)o=l[u],l[u--]=l[c+s-1],l[c+--s]=o}else if(8!=u)return;return l},oe=function(e){for(var t=null,n=1,i=null,r=0,a=0;a<8;a++)0!==e[a]?(r>n&&(t=i,n=r),i=null,r=0):(null===i&&(i=a),++r);return r>n&&(t=i,n=r),t},le=function(e){var t,n,i,r;if("number"==typeof e){for(t=[],n=0;n<4;n++)z(t,e%256),e=T(e/256);return O(t,".")}if("object"==typeof e){for(t="",i=oe(e),n=0;n<8;n++)r&&0===e[n]||(r&&(r=!1),i===n?(t+=n?":":"::",r=!0):(t+=I(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},ue={},ce=m({},ue,{" ":1,'"':1,"<":1,">":1,"`":1}),he=m({},ce,{"#":1,"?":1,"{":1,"}":1}),pe=m({},he,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),fe=function(e,t){var n=y(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},me={ftp:21,file:null,http:80,https:443,ws:80,wss:443},de=function(e,t){var n;return 2==e.length&&M(X,D(e,0))&&(":"==(n=D(e,1))||!t&&"|"==n)},ge=function(e){var t;return e.length>1&&de(j(e,0,2))&&(2==e.length||"/"===(t=D(e,2))||"\\"===t||"?"===t||"#"===t)},ye=function(e){return"."===e||"%2e"===_(e)},be=function(e){return e=_(e),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},ve={},we={},xe={},Ee={},Ce={},Ae={},Pe={},Ne={},Se={},Re={},ke={},Te={},Be={},De={},Me={},Oe={},Ie={},Fe={},Le={},Ue={},Ve={},$e=function(e,t,n){var i,r,a,s=v(e);if(t){if(r=this.parse(s),r)throw R(r);this.searchParams=null}else{if(void 0!==n&&(i=new $e(n,!0)),r=this.parse(s,null,i),r)throw R(r);a=N(new P),a.bindURL(this),this.searchParams=a}};$e.prototype={type:"URL",parse:function(e,t,n){var r,a,s,o,l=this,u=t||ve,c=0,h="",p=!1,m=!1,y=!1;e=v(e),t||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,e=U(e,ie,"")),e=U(e,re,""),r=d(e);while(c<=r.length){switch(a=r[c],u){case ve:if(!a||!M(X,a)){if(t)return W;u=xe;continue}h+=_(a),u=we;break;case we:if(a&&(M(K,a)||"+"==a||"-"==a||"."==a))h+=_(a);else{if(":"!=a){if(t)return W;h="",u=xe,c=0;continue}if(t&&(l.isSpecial()!=f(me,h)||"file"==h&&(l.includesCredentials()||null!==l.port)||"file"==l.scheme&&!l.host))return;if(l.scheme=h,t)return void(l.isSpecial()&&me[l.scheme]==l.port&&(l.port=null));h="","file"==l.scheme?u=De:l.isSpecial()&&n&&n.scheme==l.scheme?u=Ee:l.isSpecial()?u=Ne:"/"==r[c+1]?(u=Ce,c++):(l.cannotBeABaseURL=!0,L(l.path,""),u=Le)}break;case xe:if(!n||n.cannotBeABaseURL&&"#"!=a)return W;if(n.cannotBeABaseURL&&"#"==a){l.scheme=n.scheme,l.path=g(n.path),l.query=n.query,l.fragment="",l.cannotBeABaseURL=!0,u=Ve;break}u="file"==n.scheme?De:Ae;continue;case Ee:if("/"!=a||"/"!=r[c+1]){u=Ae;continue}u=Se,c++;break;case Ce:if("/"==a){u=Re;break}u=Fe;continue;case Ae:if(l.scheme=n.scheme,a==i)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=g(n.path),l.query=n.query;else if("/"==a||"\\"==a&&l.isSpecial())u=Pe;else if("?"==a)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=g(n.path),l.query="",u=Ue;else{if("#"!=a){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=g(n.path),l.path.length--,u=Fe;continue}l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=g(n.path),l.query=n.query,l.fragment="",u=Ve}break;case Pe:if(!l.isSpecial()||"/"!=a&&"\\"!=a){if("/"!=a){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,u=Fe;continue}u=Re}else u=Se;break;case Ne:if(u=Se,"/"!=a||"/"!=D(h,c+1))continue;c++;break;case Se:if("/"!=a&&"\\"!=a){u=Re;continue}break;case Re:if("@"==a){p&&(h="%40"+h),p=!0,s=d(h);for(var b=0;b<s.length;b++){var w=s[b];if(":"!=w||y){var x=fe(w,pe);y?l.password+=x:l.username+=x}else y=!0}h=""}else if(a==i||"/"==a||"?"==a||"#"==a||"\\"==a&&l.isSpecial()){if(p&&""==h)return q;c-=d(h).length+1,h="",u=ke}else h+=a;break;case ke:case Te:if(t&&"file"==l.scheme){u=Oe;continue}if(":"!=a||m){if(a==i||"/"==a||"?"==a||"#"==a||"\\"==a&&l.isSpecial()){if(l.isSpecial()&&""==h)return G;if(t&&""==h&&(l.includesCredentials()||null!==l.port))return;if(o=l.parseHost(h),o)return o;if(h="",u=Ie,t)return;continue}"["==a?m=!0:"]"==a&&(m=!1),h+=a}else{if(""==h)return G;if(o=l.parseHost(h),o)return o;if(h="",u=Be,t==Te)return}break;case Be:if(!M(Y,a)){if(a==i||"/"==a||"?"==a||"#"==a||"\\"==a&&l.isSpecial()||t){if(""!=h){var E=k(h,10);if(E>65535)return H;l.port=l.isSpecial()&&E===me[l.scheme]?null:E,h=""}if(t)return;u=Ie;continue}return H}h+=a;break;case De:if(l.scheme="file","/"==a||"\\"==a)u=Me;else{if(!n||"file"!=n.scheme){u=Fe;continue}if(a==i)l.host=n.host,l.path=g(n.path),l.query=n.query;else if("?"==a)l.host=n.host,l.path=g(n.path),l.query="",u=Ue;else{if("#"!=a){ge(O(g(r,c),""))||(l.host=n.host,l.path=g(n.path),l.shortenPath()),u=Fe;continue}l.host=n.host,l.path=g(n.path),l.query=n.query,l.fragment="",u=Ve}}break;case Me:if("/"==a||"\\"==a){u=Oe;break}n&&"file"==n.scheme&&!ge(O(g(r,c),""))&&(de(n.path[0],!0)?L(l.path,n.path[0]):l.host=n.host),u=Fe;continue;case Oe:if(a==i||"/"==a||"\\"==a||"?"==a||"#"==a){if(!t&&de(h))u=Fe;else if(""==h){if(l.host="",t)return;u=Ie}else{if(o=l.parseHost(h),o)return o;if("localhost"==l.host&&(l.host=""),t)return;h="",u=Ie}continue}h+=a;break;case Ie:if(l.isSpecial()){if(u=Fe,"/"!=a&&"\\"!=a)continue}else if(t||"?"!=a)if(t||"#"!=a){if(a!=i&&(u=Fe,"/"!=a))continue}else l.fragment="",u=Ve;else l.query="",u=Ue;break;case Fe:if(a==i||"/"==a||"\\"==a&&l.isSpecial()||!t&&("?"==a||"#"==a)){if(be(h)?(l.shortenPath(),"/"==a||"\\"==a&&l.isSpecial()||L(l.path,"")):ye(h)?"/"==a||"\\"==a&&l.isSpecial()||L(l.path,""):("file"==l.scheme&&!l.path.length&&de(h)&&(l.host&&(l.host=""),h=D(h,0)+":"),L(l.path,h)),h="","file"==l.scheme&&(a==i||"?"==a||"#"==a))while(l.path.length>1&&""===l.path[0])V(l.path);"?"==a?(l.query="",u=Ue):"#"==a&&(l.fragment="",u=Ve)}else h+=fe(a,he);break;case Le:"?"==a?(l.query="",u=Ue):"#"==a?(l.fragment="",u=Ve):a!=i&&(l.path[0]+=fe(a,ue));break;case Ue:t||"#"!=a?a!=i&&("'"==a&&l.isSpecial()?l.query+="%27":l.query+="#"==a?"%23":fe(a,ue)):(l.fragment="",u=Ve);break;case Ve:a!=i&&(l.fragment+=fe(a,ce));break}c++}},parseHost:function(e){var t,n,i;if("["==D(e,0)){if("]"!=D(e,e.length-1))return G;if(t=se(j(e,1,-1)),!t)return G;this.host=t}else if(this.isSpecial()){if(e=b(e),M(te,e))return G;if(t=ae(e),null===t)return G;this.host=t}else{if(M(ne,e))return G;for(t="",n=d(e),i=0;i<n.length;i++)t+=fe(n[i],ue);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return f(me,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&de(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,i=e.password,r=e.host,a=e.port,s=e.path,o=e.query,l=e.fragment,u=t+":";return null!==r?(u+="//",e.includesCredentials()&&(u+=n+(i?":"+i:"")+"@"),u+=le(r),null!==a&&(u+=":"+a)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?s[0]:s.length?"/"+O(s,"/"):"",null!==o&&(u+="?"+o),null!==l&&(u+="#"+l),u},setHref:function(e){var t=this.parse(e);if(t)throw R(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new je(e.path[0]).origin}catch(n){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+le(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(v(e)+":",ve)},getUsername:function(){return this.username},setUsername:function(e){var t=d(v(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=fe(t[n],pe)}},getPassword:function(){return this.password},setPassword:function(e){var t=d(v(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=fe(t[n],pe)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?le(e):le(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,ke)},getHostname:function(){var e=this.host;return null===e?"":le(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Te)},getPort:function(){var e=this.port;return null===e?"":v(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=v(e),""==e?this.port=null:this.parse(e,Be))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+O(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Ie))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=v(e),""==e?this.query=null:("?"==D(e,0)&&(e=j(e,1)),this.query="",this.parse(e,Ue)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){e=v(e),""!=e?("#"==D(e,0)&&(e=j(e,1)),this.fragment="",this.parse(e,Ve)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var je=function(e){var t=p(this,_e),n=arguments.length>1?arguments[1]:void 0,i=C(t,new $e(e,!1,n));a||(t.href=i.serialize(),t.origin=i.getOrigin(),t.protocol=i.getProtocol(),t.username=i.getUsername(),t.password=i.getPassword(),t.host=i.getHost(),t.hostname=i.getHostname(),t.port=i.getPort(),t.pathname=i.getPathname(),t.search=i.getSearch(),t.searchParams=i.getSearchParams(),t.hash=i.getHash())},_e=je.prototype,ze=function(e,t){return{get:function(){return A(this)[e]()},set:t&&function(e){return A(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&c(_e,{href:ze("serialize","setHref"),origin:ze("getOrigin"),protocol:ze("getProtocol","setProtocol"),username:ze("getUsername","setUsername"),password:ze("getPassword","setPassword"),host:ze("getHost","setHost"),hostname:ze("getHostname","setHostname"),port:ze("getPort","setPort"),pathname:ze("getPathname","setPathname"),search:ze("getSearch","setSearch"),searchParams:ze("getSearchParams"),hash:ze("getHash","setHash")}),h(_e,"toJSON",(function(){return A(this).serialize()}),{enumerable:!0}),h(_e,"toString",(function(){return A(this).serialize()}),{enumerable:!0}),S){var qe=S.createObjectURL,We=S.revokeObjectURL;qe&&h(je,"createObjectURL",l(qe,S)),We&&h(je,"revokeObjectURL",l(We,S))}w(je,"URL"),r({global:!0,forced:!s,sham:!a},{URL:je})},"3e8f":function(e,t){},"42c7":function(e,t,n){"use strict";n.d(t,"a",(function(){return G})),n.d(t,"b",(function(){return we}));var i=n("87f2"),r=String.fromCharCode,a=Object.prototype.hasOwnProperty,s=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,o={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function l(e,t,n,i){return i?a.call(o,i)?o[i]:"&"+i+";":r(t||parseInt(n,16))}function u(e){return e.length>3&&-1!==e.indexOf("&")?e.replace(s,l):e}Object.keys(o).forEach((function(e){o[e.toUpperCase()]=o[e]}));var c="http://www.w3.org/2001/XMLSchema-instance",h="xsi",p="xsi:type",f="non-whitespace outside of root node";function m(e){return new Error(e)}function d(e){return"missing namespace for prefix <"+e+">"}function g(e){return{get:e,enumerable:!0}}function y(e){var t,n={};for(t in e)n[t]=e[t];return n}function b(e){return e+"$uri"}function v(e){var t,n,i={};for(t in e)n=e[t],i[n]=n,i[b(n)]=t;return i}function w(){return{line:0,column:0}}function x(e){throw e}function E(e){if(!this)return new E(e);var t,n,i,r,a,s,o,l,C,A=e&&e["proxy"],P=x,N=w,S=!1,R=!1,k=null,T=!1;function B(e){e instanceof Error||(e=m(e)),k=e,P(e,N)}function D(e){a&&(e instanceof Error||(e=m(e)),a(e,N))}function M(e){var a,c,h,m,w,x,E,P,k,M,O,I=R?[]:null,F=R?v(C):null,L=[],U=0,V=!1,$=!1,j=0,_=0,z="",q=0;function W(){if(null!==O)return O;var e,t,n,i,r,a,s,o,l,c,h,f=R&&F["xmlns"],m=R&&S?[]:null,g=q,v=z,w=v.length,x={},E={};e:for(;g<w;g++)if(l=!1,c=v.charCodeAt(g),!(32===c||c<14&&c>8)){for((c<65||c>122||c>90&&c<97)&&95!==c&&58!==c&&(D("illegal first char attribute name"),l=!0),h=g+1;h<w;h++)if(c=v.charCodeAt(h),!(c>96&&c<123||c>64&&c<91||c>47&&c<59||46===c||45===c||95===c)){if(32===c||c<14&&c>8){D("missing attribute value"),g=h;continue e}if(61===c)break;D("illegal attribute name char"),l=!0}if(o=v.substring(g,h),"xmlns:xmlns"===o&&(D("illegal declaration of xmlns"),l=!0),c=v.charCodeAt(h+1),34===c)h=v.indexOf('"',g=h+2),-1===h&&(h=v.indexOf("'",g),-1!==h&&(D("attribute value quote missmatch"),l=!0));else if(39===c)h=v.indexOf("'",g=h+2),-1===h&&(h=v.indexOf('"',g),-1!==h&&(D("attribute value quote missmatch"),l=!0));else for(D("missing attribute value quotes"),l=!0,h+=1;h<w;h++)if(c=v.charCodeAt(h+1),32===c||c<14&&c>8)break;for(-1===h&&(D("missing closing quotes"),h=w,l=!0),l||(a=v.substring(g,h)),g=h;h+1<w;h++){if(c=v.charCodeAt(h+1),32===c||c<14&&c>8)break;g===h&&(D("illegal character after attribute end"),l=!0)}if(g=h+1,!l)if(o in E)D("attribute <"+o+"> already defined");else if(E[o]=!0,R)if(S){if(r="xmlns"===o?"xmlns":120===o.charCodeAt(0)&&"xmlns:"===o.substr(0,6)?o.substr(6):null,null!==r){if(e=u(a),t=b(r),s=C[e],!s){if("xmlns"===r||t in F&&F[t]!==e)do{s="ns"+U++}while("undefined"!==typeof F[s]);else s=r;C[e]=s}F[r]!==s&&(i||(F=y(F),i=!0),F[r]=s,"xmlns"===r&&(F[b(s)]=e,f=s),F[t]=e),x[o]=a;continue}m.push(o,a)}else c=o.indexOf(":"),-1!==c?(n=F[o.substring(0,c)])?(o=f===n?o.substr(c+1):n+o.substr(c),o===p&&(c=a.indexOf(":"),-1!==c?(n=a.substring(0,c),n=F[n]||n,a=n+a.substring(c)):a=f+":"+a),x[o]=a):D(d(o.substring(0,c))):x[o]=a;else x[o]=a}if(S)for(g=0,w=m.length;g<w;g++){if(o=m[g++],a=m[g],c=o.indexOf(":"),-1!==c){if(!(n=F[o.substring(0,c)])){D(d(o.substring(0,c)));continue}o=f===n?o.substr(c+1):n+o.substr(c),o===p&&(c=a.indexOf(":"),-1!==c?(n=a.substring(0,c),n=F[n]||n,a=n+a.substring(c)):a=f+":"+a)}x[o]=a}return O=x}function G(){var t,n,i=/(\r\n|\r|\n)/g,r=0,a=0,s=0,o=_;while(j>=s){if(t=i.exec(e),!t)break;if(o=t[0].length+t.index,o>j)break;r+=1,s=o}return-1==j?(a=o,n=e.substring(_)):0===_?n=e.substring(_,j):(a=j-s,n=-1==_?e.substring(j):e.substring(j,_+1)),{data:n,line:r,column:a}}N=G,A&&(M=Object.create({},{name:g((function(){return P})),originalName:g((function(){return k})),attrs:g(W),ns:g((function(){return F}))}));while(-1!==_){if(j=60===e.charCodeAt(_)?_:e.indexOf("<",_),-1===j)return L.length?B("unexpected end of file"):0===_?B("missing start tag"):void(_<e.length&&e.substring(_).trim()&&D(f));if(_!==j)if(L.length){if(t&&(t(e.substring(_,j),u,N),T))return}else if(e.substring(_,j).trim()&&(D(f),T))return;if(w=e.charCodeAt(j+1),33===w){if(m=e.charCodeAt(j+2),91===m&&"CDATA["===e.substr(j+3,6)){if(_=e.indexOf("]]>",j),-1===_)return B("unclosed cdata");if(r&&(r(e.substring(j+9,_),N),T))return;_+=3;continue}if(45===m&&45===e.charCodeAt(j+3)){if(_=e.indexOf("--\x3e",j),-1===_)return B("unclosed comment");if(s&&(s(e.substring(j+4,_),u,N),T))return;_+=3;continue}}if(63!==w){for(c=j+1;;c++){if(x=e.charCodeAt(c),isNaN(x))return _=-1,B("unclosed tag");if(34===x)m=e.indexOf('"',c+1),c=-1!==m?m:c;else if(39===x)m=e.indexOf("'",c+1),c=-1!==m?m:c;else if(62===x){_=c;break}}if(33!==w){if(O={},47===w){if(V=!1,$=!0,!L.length)return B("missing open tag");if(c=P=L.pop(),m=j+2+c.length,e.substring(j+2,m)!==c)return B("closing tag mismatch");for(;m<_;m++)if(w=e.charCodeAt(m),!(32===w||w>8&&w<14))return B("close tag")}else{if(47===e.charCodeAt(_-1)?(c=P=e.substring(j+1,_-1),V=!0,$=!0):(c=P=e.substring(j+1,_),V=!0,$=!1),!(w>96&&w<123||w>64&&w<91||95===w||58===w))return B("illegal first char nodeName");for(m=1,h=c.length;m<h;m++)if(w=c.charCodeAt(m),!(w>96&&w<123||w>64&&w<91||w>47&&w<59||45===w||95===w||46==w)){if(32===w||w<14&&w>8){P=c.substring(0,m),O=null;break}return B("invalid nodeName")}$||L.push(P)}if(R){if(a=F,V&&($||I.push(a),null===O&&(S=-1!==c.indexOf("xmlns",m))&&(q=m,z=c,W(),S=!1)),k=P,w=P.indexOf(":"),-1!==w){if(E=F[P.substring(0,w)],!E)return B("missing namespace on <"+k+">");P=P.substr(w+1)}else E=F["xmlns"];E&&(P=E+":"+P)}if(V&&(q=m,z=c,n&&(A?n(M,u,$,N):n(P,W,u,$,N),T)))return;if($){if(i&&(i(A?M:P,u,V,N),T))return;R&&(F=V?a:I.pop())}_+=1}else{if(l&&(l(e.substring(j,_+1),u,N),T))return;_+=1}}else{if(_=e.indexOf("?>",j),-1===_)return B("unclosed question");if(o&&(o(e.substring(j,_+2),N),T))return;_+=2}}}this["on"]=function(e,u){if("function"!==typeof u)throw m("required args <name, cb>");switch(e){case"openTag":n=u;break;case"text":t=u;break;case"closeTag":i=u;break;case"error":P=u;break;case"warn":a=u;break;case"cdata":r=u;break;case"attention":l=u;break;case"question":o=u;break;case"comment":s=u;break;default:throw m("unsupported event: "+e)}return this},this["ns"]=function(e){if("undefined"===typeof e&&(e={}),"object"!==typeof e)throw m("required args <nsMap={}>");var t,n={};for(t in e)n[t]=e[t];return n[c]=h,R=!0,C=n,this},this["parse"]=function(e){if("string"!==typeof e)throw m("required args <xml=string>");return k=null,M(e),N=w,T=!1,k},this["stop"]=function(){T=!0}}var C=n("8475");function A(e){return e.xml&&"lowerCase"===e.xml.tagAlias}var P={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},N="xsi:type";function S(e){return e.xml&&e.xml.serialize}function R(e){return S(e)===N}function k(e){return"property"===S(e)}function T(e){return e.charAt(0).toUpperCase()+e.slice(1)}function B(e,t){return A(t)?e.prefix+":"+T(e.localName):e.name}function D(e,t){var n=e.name,i=e.localName,r=t.xml&&t.xml.typePrefix;return r&&0===i.indexOf(r)?e.prefix+":"+i.slice(r.length):n}function M(e,t){var n=Object(C["d"])(e),i=t.getPackage(n.prefix);return D(n,i)}function O(e){return new Error(e)}function I(e){return e.$descriptor}function F(e){Object(i["assign"])(this,e),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(e){this.references.push(e)},this.addElement=function(e){if(!e)throw O("expected element");var t,n=this.elementsById,i=I(e),r=i.idProperty;if(r&&(t=e.get(r.name),t)){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(t))throw new Error("illegal ID <"+t+">");if(n[t])throw O("duplicate ID <"+t+">");n[t]=e}},this.addWarning=function(e){this.warnings.push(e)}}function L(){}function U(){}function V(){}function $(e,t){this.property=e,this.context=t}function j(e,t){this.element=t,this.propertyDesc=e}function _(){}function z(e,t,n){this.model=e,this.type=e.getType(t),this.context=n}function q(e,t,n){z.call(this,e,t,n)}function W(e,t,n){this.model=e,this.context=n}function G(e){e instanceof C["a"]&&(e={model:e}),Object(i["assign"])(this,{lax:!1},e)}function H(){var e=[];return Object.defineProperty(e,"peek",{value:function(){return this[this.length-1]}}),e}L.prototype.handleEnd=function(){},L.prototype.handleText=function(){},L.prototype.handleNode=function(){},U.prototype=Object.create(L.prototype),U.prototype.handleNode=function(){return this},V.prototype=Object.create(L.prototype),V.prototype.handleText=function(e){this.body=(this.body||"")+e},$.prototype=Object.create(V.prototype),$.prototype.handleNode=function(e){if(this.element)throw O("expected no sub nodes");return this.element=this.createReference(e),this},$.prototype.handleEnd=function(){this.element.id=this.body},$.prototype.createReference=function(e){return{property:this.property.ns.name,id:""}},j.prototype=Object.create(V.prototype),j.prototype.handleEnd=function(){var e=this.body||"",t=this.element,n=this.propertyDesc;e=Object(C["b"])(n.type,e),n.isMany?t.get(n.name).push(e):t.set(n.name,e)},_.prototype=Object.create(V.prototype),_.prototype.handleNode=function(e){var t=this,n=this.element;return n?t=this.handleChild(e):(n=this.element=this.createElement(e),this.context.addElement(n)),t},z.prototype=Object.create(_.prototype),z.prototype.addReference=function(e){this.context.addReference(e)},z.prototype.handleText=function(e){var t=this.element,n=I(t),i=n.bodyProperty;if(!i)throw O("unexpected body text <"+e+">");V.prototype.handleText.call(this,e)},z.prototype.handleEnd=function(){var e=this.body,t=this.element,n=I(t),i=n.bodyProperty;i&&void 0!==e&&(e=Object(C["b"])(i.type,e),t.set(i.name,e))},z.prototype.createElement=function(e){var t,n=e.attributes,r=this.type,a=I(r),s=this.context,o=new r({}),l=this.model;return Object(i["forEach"])(n,(function(e,n){var r,u=a.propertiesByName[n];u&&u.isReference?u.isMany?(r=e.split(" "),Object(i["forEach"])(r,(function(e){s.addReference({element:o,property:u.ns.name,id:e})}))):s.addReference({element:o,property:u.ns.name,id:e}):(u?e=Object(C["b"])(u.type,e):"xmlns"!==n&&(t=Object(C["d"])(n,a.ns.prefix),l.getPackage(t.prefix)&&s.addWarning({message:"unknown attribute <"+n+">",element:o,property:n,value:e})),o.set(n,e))})),o},z.prototype.getPropertyForNode=function(e){var t,n,r=e.name,a=Object(C["d"])(r),s=this.type,o=this.model,l=I(s),u=a.name,c=l.propertiesByName[u];if(c&&!c.isAttr)return R(c)&&(t=e.attributes[N],t)?(t=M(t,o),n=o.getType(t),Object(i["assign"])({},c,{effectiveType:I(n).name})):c;var h=o.getPackage(a.prefix);if(h){if(t=B(a,h),n=o.getType(t),c=Object(i["find"])(l.properties,(function(e){return!e.isVirtual&&!e.isReference&&!e.isAttribute&&n.hasType(e.type)})),c)return Object(i["assign"])({},c,{effectiveType:I(n).name})}else if(c=Object(i["find"])(l.properties,(function(e){return!e.isReference&&!e.isAttribute&&"Element"===e.type})),c)return c;throw O("unrecognized element <"+a.name+">")},z.prototype.toString=function(){return"ElementDescriptor["+I(this.type).name+"]"},z.prototype.valueHandler=function(e,t){return new j(e,t)},z.prototype.referenceHandler=function(e){return new $(e,this.context)},z.prototype.handler=function(e){return"Element"===e?new W(this.model,e,this.context):new z(this.model,e,this.context)},z.prototype.handleChild=function(e){var t,n,r,a;if(t=this.getPropertyForNode(e),r=this.element,n=t.effectiveType||t.type,Object(C["c"])(n))return this.valueHandler(t,r);a=t.isReference?this.referenceHandler(t).handleNode(e):this.handler(n).handleNode(e);var s=a.element;return void 0!==s&&(t.isMany?r.get(t.name).push(s):r.set(t.name,s),t.isReference?(Object(i["assign"])(s,{element:r}),this.context.addReference(s)):s.$parent=r),a},q.prototype=Object.create(z.prototype),q.prototype.createElement=function(e){var t=e.name,n=Object(C["d"])(t),i=this.model,r=this.type,a=i.getPackage(n.prefix),s=a&&B(n,a)||t;if(!r.hasType(s))throw O("unexpected element <"+e.originalName+">");return z.prototype.createElement.call(this,e)},W.prototype=Object.create(_.prototype),W.prototype.createElement=function(e){var t=e.name,n=Object(C["d"])(t),i=n.prefix,r=e.ns[i+"$uri"],a=e.attributes;return this.model.createAny(t,r,a)},W.prototype.handleChild=function(e){var t,n=new W(this.model,"Element",this.context).handleNode(e),i=this.element,r=n.element;return void 0!==r&&(t=i.$children=i.$children||[],t.push(r),r.$parent=i),n},W.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},G.prototype.fromXML=function(e,t,n){var r=t.rootHandler;t instanceof z?(r=t,t={}):"string"===typeof t?(r=this.handler(t),t={}):"string"===typeof r&&(r=this.handler(r));var a=this.model,s=this.lax,o=new F(Object(i["assign"])({},t,{rootHandler:r})),l=new E({proxy:!0}),u=H();function c(e,t,n){var i=t(),r=i.line,a=i.column,s=i.data;"<"===s.charAt(0)&&-1!==s.indexOf(" ")&&(s=s.slice(0,s.indexOf(" "))+">");var l="unparsable content "+(s?s+" ":"")+"detected\n\tline: "+r+"\n\tcolumn: "+a+"\n\tnested error: "+e.message;if(n)return o.addWarning({message:l,error:e}),!0;throw O(l)}function h(e,t){return c(e,t,!0)}function p(){var e,t,n=o.elementsById,i=o.references;for(e=0;t=i[e];e++){var r=t.element,a=n[t.id],s=I(r).propertiesByName[t.property];if(a||o.addWarning({message:"unresolved reference <"+t.id+">",element:t.element,property:t.property,value:t.id}),s.isMany){var l=r.get(s.name),u=l.indexOf(t);-1===u&&(u=l.length),a?l[u]=a:l.splice(u,1)}else r.set(s.name,a)}}function f(){u.pop().handleEnd()}r.context=o,u.push(r);var m=/^<\?xml /i,d=/ encoding="([^"]+)"/i,g=/^utf-8$/i;function y(e){if(m.test(e)){var t=d.exec(e),n=t&&t[1];n&&!g.test(n)&&o.addWarning({message:"unsupported document encoding <"+n+">, falling back to UTF-8"})}}function b(e,t){var n=u.peek();try{u.push(n.handleNode(e))}catch(i){c(i,t,s)&&u.push(new U)}}function v(e,t){try{u.peek().handleText(e)}catch(n){h(n,t)}}function w(e,t){e.trim()&&v(e,t)}var x=a.getPackages().reduce((function(e,t){return e[t.uri]=t.prefix,e}),{"http://www.w3.org/XML/1998/namespace":"xml"});return l.ns(x).on("openTag",(function(e,t,n,i){var r=e.attrs||{},a=Object.keys(r).reduce((function(e,n){var i=t(r[n]);return e[n]=i,e}),{}),s={name:e.name,originalName:e.originalName,attributes:a,ns:e.ns};b(s,i)})).on("question",y).on("closeTag",f).on("cdata",v).on("text",(function(e,t,n){w(t(e),n)})).on("error",c).on("warn",h),new Promise((function(t,n){var i;try{l.parse(e),p()}catch(h){i=h}var a=r.element;i||a||(i=O("failed to parse document as <"+r.type.$descriptor.name+">"));var s=o.warnings,u=o.references,c=o.elementsById;return i?(i.warnings=s,n(i)):t({rootElement:a,elementsById:c,references:u,warnings:s})}))},G.prototype.handler=function(e){return new q(this.model,e)};var X='<?xml version="1.0" encoding="UTF-8"?>\n',K=/<|>|'|"|&|\n\r|\n/g,Y=/<|>|&/g;function Q(e){var t={},n={},i={},r=[],a=[];this.byUri=function(t){return n[t]||e&&e.byUri(t)},this.add=function(e,t){n[e.uri]=e,t?r.push(e):a.push(e),this.mapPrefix(e.prefix,e.uri)},this.uriByPrefix=function(e){return t[e||"xmlns"]},this.mapPrefix=function(e,n){t[e||"xmlns"]=n},this.getNSKey=function(e){return void 0!==e.prefix?e.uri+"|"+e.prefix:e.uri},this.logUsed=function(t){var n=t.uri,r=this.getNSKey(t);i[r]=this.byUri(n),e&&e.logUsed(t)},this.getUsed=function(e){function t(e){var t=n.getNSKey(e);return i[t]}var n=this,s=[].concat(r,a);return s.filter(t)}}function J(e){return e.charAt(0).toLowerCase()+e.slice(1)}function Z(e,t){return A(t)?J(e):e}function ee(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function te(e){return Object(i["isString"])(e)?e:(e.prefix?e.prefix+":":"")+e.localName}function ne(e){return e.getUsed().filter((function(e){return"xml"!==e.prefix})).map((function(e){var t="xmlns"+(e.prefix?":"+e.prefix:"");return{name:t,value:e.uri}}))}function ie(e,t){return t.isGeneric?Object(i["assign"])({localName:t.ns.localName},e):Object(i["assign"])({localName:Z(t.ns.localName,t.$pkg)},e)}function re(e,t){return Object(i["assign"])({localName:t.ns.localName},e)}function ae(e){var t=e.$descriptor;return Object(i["filter"])(t.properties,(function(t){var n=t.name;if(t.isVirtual)return!1;if(!Object(i["has"])(e,n))return!1;var r=e[n];return r!==t.default&&(null!==r&&(!t.isMany||r.length))}))}var se={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},oe={"<":"lt",">":"gt","&":"amp"};function le(e,t,n){return e=Object(i["isString"])(e)?e:""+e,e.replace(t,(function(e){return"&"+n[e]+";"}))}function ue(e){return le(e,K,se)}function ce(e){return le(e,Y,oe)}function he(e){return Object(i["filter"])(e,(function(e){return e.isAttr}))}function pe(e){return Object(i["filter"])(e,(function(e){return!e.isAttr}))}function fe(e){this.tagName=e}function me(){}function de(e){this.tagName=e}function ge(e,t){this.body=[],this.attrs=[],this.parent=e,this.propertyDescriptor=t}function ye(e,t){ge.call(this,e,t)}function be(){this.value="",this.write=function(e){this.value+=e}}function ve(e,t){var n=[""];this.append=function(t){return e.write(t),this},this.appendNewLine=function(){return t&&e.write("\n"),this},this.appendIndent=function(){return t&&e.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}function we(e){function t(t,n){var i=n||new be,r=new ve(i,e.format);if(e.preamble&&r.append(X),(new ge).build(t).serializeTo(r),!n)return i.value}return e=Object(i["assign"])({format:!1,preamble:!0},e||{}),{toXML:t}}fe.prototype.build=function(e){return this.element=e,this},fe.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},me.prototype.serializeValue=me.prototype.serializeTo=function(e){e.append(this.escape?ce(this.value):this.value)},me.prototype.build=function(e,t){return this.value=t,"String"===e.type&&-1!==t.search(Y)&&(this.escape=!0),this},ee(de,me),de.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"),this.serializeValue(e),e.append("</"+this.tagName+">").appendNewLine()},ge.prototype.build=function(e){this.element=e;var t,n,i=e.$descriptor,r=this.propertyDescriptor,a=i.isGeneric;return t=a?this.parseGeneric(e):this.parseNsAttributes(e),this.ns=r?this.nsPropertyTagName(r):this.nsTagName(i),this.tagName=this.addTagName(this.ns),a||(n=ae(e),this.parseAttributes(he(n)),this.parseContainments(pe(n))),this.parseGenericAttributes(e,t),this},ge.prototype.nsTagName=function(e){var t=this.logNamespaceUsed(e.ns);return ie(t,e)},ge.prototype.nsPropertyTagName=function(e){var t=this.logNamespaceUsed(e.ns);return re(t,e)},ge.prototype.isLocalNs=function(e){return e.uri===this.ns.uri},ge.prototype.nsAttributeName=function(e){var t;if(t=Object(i["isString"])(e)?Object(C["d"])(e):e.ns,e.inherited)return{localName:t.localName};var n=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(n),this.isLocalNs(n)?{localName:t.localName}:Object(i["assign"])({localName:t.localName},n)},ge.prototype.parseGeneric=function(e){var t=this,n=this.body,r=[];return Object(i["forEach"])(e,(function(a,s){var o;"$body"===s?n.push((new me).build({type:"String"},a)):"$children"===s?Object(i["forEach"])(a,(function(e){n.push(new ge(t).build(e))})):0!==s.indexOf("$")&&(o=t.parseNsAttribute(e,s,a),o&&r.push({name:s,value:a}))})),r},ge.prototype.parseNsAttribute=function(e,t,n){var i,r=e.$model,a=Object(C["d"])(t);if("xmlns"===a.prefix&&(i={prefix:a.localName,uri:n}),a.prefix||"xmlns"!==a.localName||(i={uri:n}),!i)return{name:t,value:n};if(r&&r.getPackage(n))this.logNamespace(i,!0,!0);else{var s=this.logNamespaceUsed(i,!0);this.getNamespaces().logUsed(s)}},ge.prototype.parseNsAttributes=function(e,t){var n=this,r=e.$attrs,a=[];return Object(i["forEach"])(r,(function(t,i){var r=n.parseNsAttribute(e,i,t);r&&a.push(r)})),a},ge.prototype.parseGenericAttributes=function(e,t){var n=this;Object(i["forEach"])(t,(function(t){if(t.name!==N)try{n.addAttribute(n.nsAttributeName(t.name),t.value)}catch(i){console.warn("missing namespace information for ",t.name,"=",t.value,"on",e,i)}}))},ge.prototype.parseContainments=function(e){var t=this,n=this.body,r=this.element;Object(i["forEach"])(e,(function(e){var a=r.get(e.name),s=e.isReference,o=e.isMany;if(o||(a=[a]),e.isBody)n.push((new me).build(e,a[0]));else if(Object(C["c"])(e.type))Object(i["forEach"])(a,(function(i){n.push(new de(t.addTagName(t.nsPropertyTagName(e))).build(e,i))}));else if(s)Object(i["forEach"])(a,(function(i){n.push(new fe(t.addTagName(t.nsPropertyTagName(e))).build(i))}));else{var l=R(e),u=k(e);Object(i["forEach"])(a,(function(i){var r;r=l?new ye(t,e):u?new ge(t,e):new ge(t),n.push(r.build(i))}))}}))},ge.prototype.getNamespaces=function(e){var t,n=this.namespaces,i=this.parent;return n||(t=i&&i.getNamespaces(),e||!t?this.namespaces=n=new Q(t):n=t),n},ge.prototype.logNamespace=function(e,t,n){var i=this.getNamespaces(n),r=e.uri,a=e.prefix,s=i.byUri(r);return s&&!n||i.add(e,t),i.mapPrefix(a,r),e},ge.prototype.logNamespaceUsed=function(e,t){var n,i,r,a=this.element,s=a.$model,o=this.getNamespaces(t),l=e.prefix,u=e.uri;if(!l&&!u)return{localName:e.localName};if(r=P[l]||s&&(s.getPackage(l)||{}).uri,u=u||r||o.uriByPrefix(l),!u)throw new Error("no namespace uri given for prefix <"+l+">");if(e=o.byUri(u),!e){n=l,i=1;while(o.uriByPrefix(n))n=l+"_"+i++;e=this.logNamespace({prefix:n,uri:u},r===u)}return l&&o.mapPrefix(l,u),e},ge.prototype.parseAttributes=function(e){var t=this,n=this.element;Object(i["forEach"])(e,(function(e){var r=n.get(e.name);if(e.isReference)if(e.isMany){var a=[];Object(i["forEach"])(r,(function(e){a.push(e.id)})),r=a.join(" ")}else r=r.id;t.addAttribute(t.nsAttributeName(e),r)}))},ge.prototype.addTagName=function(e){var t=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(t),te(e)},ge.prototype.addAttribute=function(e,t){var n=this.attrs;Object(i["isString"])(t)&&(t=ue(t)),n.push({name:e,value:t})},ge.prototype.serializeAttributes=function(e){var t=this.attrs,n=this.namespaces;n&&(t=ne(n).concat(t)),Object(i["forEach"])(t,(function(t){e.append(" ").append(te(t.name)).append('="').append(t.value).append('"')}))},ge.prototype.serializeTo=function(e){var t=this.body[0],n=t&&t.constructor!==me;e.appendIndent().append("<"+this.tagName),this.serializeAttributes(e),e.append(t?">":" />"),t&&(n&&e.appendNewLine().indent(),Object(i["forEach"])(this.body,(function(t){t.serializeTo(e)})),n&&e.unindent().appendIndent(),e.append("</"+this.tagName+">")),e.appendNewLine()},ee(ye,ge),ye.prototype.parseNsAttributes=function(e){var t=ge.prototype.parseNsAttributes.call(this,e),n=e.$descriptor;if(n.name===this.propertyDescriptor.type)return t;var i=this.typeNs=this.nsTagName(n);this.getNamespaces().logUsed(this.typeNs);var r=e.$model.getPackage(i.uri),a=r.xml&&r.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(N),(i.prefix?i.prefix+":":"")+a+n.ns.localName),t},ye.prototype.isLocalNs=function(e){return e.uri===(this.typeNs||this.ns).uri}},"493a":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("d3b7"),n("159b");var i=[],r=[],a=[],s=0,o=0,l=0;function u(e,t){if(i=[],r=[],a=[],s=0,o=0,l=0,o=t,e)return e.forEach((function(e){s+=1,e.lintElements.forEach((function(e){"info"==e.type&&a.push(e),"warning"==e.type&&r.push(e),"error"==e.type&&i.push(e)}))})),c(),l}function c(){if(0==s&&(l=10),0!=s){var e=6,t=3,n=1;l=e+t+n,i.length>0&&(l-=o/20*6*(i.length/o)*e),r.length>0&&(l-=r.length/o*6*t),a.length>0&&(l-=a.length/o*6*n),l=Math.ceil(10*l)/10,l<0&&(l=0)}}},"542a":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isHasPermissionToLoad?n("div",[n("div",{staticClass:"secondNavBar"},[n("h5",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.right",value:e.diagramWithOutBody.name,expression:"diagramWithOutBody.name",modifiers:{right:!0}}],staticClass:"h4-spec exactFit",on:{click:function(t){e.showModalCreate=!0}}},[e._v(" "+e._s(e.diagramName)+" ")]),n("small",[null!=e.diagramFromStore.teamFolderId?n("span",[n("b",[n("font-awesome-icon",{attrs:{icon:"folder"}}),e._v(" "+e._s(e.diagramFromStore.teamFolderName)+" ")],1)]):e._e(),n("username",{attrs:{showAvatar:!1,username:e.diagramWithOutBody.updateBy}}),e._v(" "+e._s(e._f("moment")(e.updateDate,"from"))+" ")],1),n("b-row",[n("b-col",{attrs:{"align-self":"start"}},[n("b-nav",{attrs:{align:"left"}},[n("b-button-group",{attrs:{size:"sm"}},[e.isAuthenticated?n("b-btn",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{id:"v-step-11",title:e.buttonName,variant:"light"},on:{click:function(t){e.showModalCreate=!e.showModalCreate}}},[n("font-awesome-icon",{attrs:{icon:"save"}})],1):e._e(),n("b-btn",{attrs:{id:"v-step-10",size:"sm",variant:"light"},on:{click:function(t){e.showModalSave=!e.showModalSave}}},[n("font-awesome-icon",{attrs:{icon:"download"}})],1),e.diagramIdFromURL?n("b-btn",{attrs:{id:"v-step-12",variant:"light",size:"sm"}},[e.isIdInURL?n("share",{key:e.shareKey,attrs:{showText:!1,diagramId:e.diagramIdFromURL},on:{hidden:e.handleHiddenShare}}):e._e()],1):e._e(),e.diagramIdFromURL?n("b-btn",{attrs:{variant:"light",size:"sm"},on:{click:function(t){e.showSideBarDescription=!e.showSideBarDescription}}},[n("font-awesome-icon",{attrs:{icon:"pencil-alt"}})],1):e._e(),e.isAuthenticated&&e.diagramFromStore&&"BPMN"==e.diagramFromStore.type?n("b-btn",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{target:"_blank",to:"/app/bpm/"+e.diagramIdFromURL,title:e.$t("reglament-view"),variant:"light"}},[n("font-awesome-icon",{attrs:{icon:"file"}})],1):e._e(),e.diagramIdFromURL&&e.isAuthenticated&&e.currentDiagramWithOutBody.authorUsername==e.myUserName?n("b-btn",{attrs:{variant:"danger",size:"sm"},on:{click:e.deleteDiagram}},[n("font-awesome-icon",{attrs:{icon:"trash"}})],1):e._e(),e.enterpriseEnabled&&e.isAuthenticated?n("b-btn",{attrs:{variant:"dark"}},[n("deploy-diagram",{attrs:{diagramId:e.diagramIdFromURL}})],1):e._e(),"kotov@bpmn2.ru"==e.myUserName||"m4utka@gmail.com"==e.myUserName?n("b-btn",{attrs:{variant:"secondary"}},[n("create-template")],1):e._e()],1),e.isAuthenticated?n("diagram-status",{staticStyle:{"margin-left":"5px"},attrs:{needToGetStatus:!1,diagramId:e.diagramIdFromURL,currentStatus:e.currentStatus}}):e._e()],1)],1)],1)],1),n("canvas",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"canvas1",width:"200px",height:"200px"}}),n("b-modal",{attrs:{"no-fade":"","hide-footer":"","ok-title":e.buttonName,"cancel-title":e.$t("cancel"),centered:"",id:"modal-1",title:e.$t("save-process")},on:{ok:e.handleOk},model:{value:e.showModalCreate,callback:function(t){e.showModalCreate=t},expression:"showModalCreate"}},[n("b-form",[n("b-form-group",{attrs:{id:"input-group-1",label:e.$t("name"),"label-for":"input-1"}},[n("b-form-input",{attrs:{id:"input1",required:"",autofocus:""},model:{value:e.diagramWithOutBody.name,callback:function(t){e.$set(e.diagramWithOutBody,"name",t)},expression:"diagramWithOutBody.name"}})],1),e.isAuthenticated?n("b-form-group",{attrs:{id:"input-group-5",label:this.$t("version-comment"),"label-for":"input-1"}},[n("b-form-input",{attrs:{id:"input15"},model:{value:e.diagramWithOutBody.comment,callback:function(t){e.$set(e.diagramWithOutBody,"comment",t)},expression:"diagramWithOutBody.comment"}})],1):e._e(),e.isAuthenticated&&e.isInTeam?n("b-form-group",{attrs:{id:"textarea","label-for":"myFolderSelect"}},[n("label",{attrs:{for:"myFolderSelect"}},[e._v(" "+e._s(e.$t("folder-name"))+" ")]),n("b-row",[n("b-col",{attrs:{cols:"11"}},[n("v-select",{attrs:{id:"myFolderSelect",label:"text",options:e.myFolders},model:{value:e.mySelectedFolder,callback:function(t){e.mySelectedFolder=t},expression:"mySelectedFolder"}})],1),n("b-btn",{attrs:{variant:"light",size:"sm"},on:{click:function(t){e.createFolderModal=!e.createFolderModal}}},[n("font-awesome-icon",{attrs:{icon:"plus"}})],1),n("b-modal",{attrs:{id:"createFolderModalId",title:this.$t("create-folder"),centered:""},on:{ok:e.createNewFolder},model:{value:e.createFolderModal,callback:function(t){e.createFolderModal=t},expression:"createFolderModal"}},[n("b-form-group",{attrs:{id:"input-group-111",label:this.$t("folder-name"),"label-for":"input111"}},[n("b-form-input",{attrs:{id:"input111",required:"",autofocus:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createNewFolder.apply(null,arguments)}},model:{value:e.newFolderName,callback:function(t){e.newFolderName=t},expression:"newFolderName"}})],1)],1),e.buttonSaveAllow?e._e():n("small",{staticClass:"ml-3",staticStyle:{color:"#df382c"}},[n("b",[e._v(" *"+e._s(e.$t("folder-reqiured-on-save"))+" ")])])],1)],1):e._e(),n("vue-tags-input",{staticClass:"mt-2",attrs:{tags:e.currentTags,placeholder:e.$t("add-tag"),"autocomplete-items":e.filteredItems},on:{"tags-changed":e.changeTagOnDiagram},model:{value:e.tag,callback:function(t){e.tag=t},expression:"tag"}}),n("div",{attrs:{id:"tooltip-target-1"}},[n("b-form-checkbox",{attrs:{disabled:!e.isInTeam,name:"check-button",switch:""},model:{value:e.diagramWithOutBody.public,callback:function(t){e.$set(e.diagramWithOutBody,"public",t)},expression:"diagramWithOutBody.public"}},[e._v(e._s(e.$t("available-for-team")))])],1),e.isInTeam?e._e():n("b-tooltip",{attrs:{target:"tooltip-target-1",triggers:"hover"}},[e._v(" "+e._s(e.$t("create-team-to-share-process"))+" ")]),e.countOfElements>0?n("div",{staticClass:"mt-2",attrs:{id:"score"}},[n("b-alert",{staticClass:"text-center",attrs:{show:"",variant:e.calculateProgressStyle()}},[n("h4",{staticClass:"alert-heading"},[e._v(e._s(e.score)+" / 10 ")]),n("small",[e._v(" "+e._s(e.$t("process-quality-rating"))+" "),n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{id:"scor"}},[n("font-awesome-icon",{attrs:{icon:"question-circle"}}),n("b-tooltip",{attrs:{target:"scor"}},[e._v(e._s(e.$t("what-is-score"))+" "),n("a",{attrs:{target:"_",href:"https://bpmn2.freshdesk.com/support/solutions/articles/63000119440-diagram-quality-check"}},[e._v(" "+e._s(e.$t("how-improve")))])])],1)]),0==e.countOfElements?n("b-progress",{staticClass:"mt-2",attrs:{height:"1.5rem",variant:"success",value:10,max:10}}):e._e(),e.countOfElements>0?n("b-progress",{staticClass:"mt-2",attrs:{height:"1.5rem",max:e.countOfElements,"show-value":""}},[n("b-progress-bar",{attrs:{value:e.countOfElements-e.errors.length-e.warnings.length-e.infos.length,variant:"success"}}),n("b-progress-bar",{attrs:{value:e.warnings.length,variant:"warning"}}),n("b-progress-bar",{attrs:{value:e.errors.length,variant:"danger"}}),n("b-progress-bar",{attrs:{value:e.infos.length,variant:"primary"}})],1):e._e()],1),null!=e.score?n("b-alert",{staticClass:"text-center",attrs:{variant:"success",show:e.score<5}},[n("p",[e._v(" "+e._s(e.$t("whant-try-another-diagram-type"))+" ")]),n("hr"),n("router-link",{attrs:{to:"/app/draw/",target:"_blank"}},[e._v(" "+e._s(e.$t("may-be-thay-fit-more"))+" ")])],1):e._e()],1):e._e()],1),n("div",{staticClass:"wrapper text-right"},[n("b-btn-group",[n("b-btn",{attrs:{variant:"light"},on:{click:function(t){e.showModalCreate=!e.showModalCreate}}},[e._v(" "+e._s(e.$t("cancel"))+" ")]),n("b-btn",{attrs:{disabled:!e.buttonSaveAllow,variant:"success"},on:{click:e.handleOk}},[e._v(" "+e._s(e.buttonName)+" ")])],1)],1)],1),n("b-modal",{attrs:{"no-fade":"","hide-footer":"",centered:"",id:"modal-2",title:this.$t("download-process")},on:{ok:e.handleOk},model:{value:e.showModalSave,callback:function(t){e.showModalSave=t},expression:"showModalSave"}},[n("div",{staticClass:"text-center"},[n("b-btn-group",{staticClass:"text-center"},[n("b-btn",{attrs:{size:"lg",variant:"outline-primary"}},[n("a",{attrs:{download:e.buildFileName(e.diagramWithOutBody.name,"jpg")},on:{click:function(t){return e.download_img(t)}}},[e._v(e._s(e.$t("download-jped")))])]),n("b-btn",{attrs:{size:"lg",variant:"outline-warning"},on:{click:e.downloadSvg}},[e._v(" "+e._s(e.$t("download-svg")))]),n("b-btn",{attrs:{size:"lg",variant:"outline-dark"},on:{click:function(t){return e.savePNG(e.diagramWithOutBody.name)}}},[e._v(" "+e._s(e.$t("download-png")))]),n("b-btn",{attrs:{size:"lg",variant:"outline-secondary"},on:{click:e.downloadXml}},[e._v(" "+e._s(e.$t("download-bpmn")))])],1),n("hr"),n("template-generate",{attrs:{diagramBody:e.diagramBody,diagramId:e.diagramIdFromURL}})],1)]),n("b-sidebar",{attrs:{right:"",width:"50em",title:e.$t("process-description"),shadow:""},scopedSlots:e._u([{key:"footer",fn:function(t){return[e.isAuthenticated?n("b-btn",{attrs:{block:"",variant:"success"},on:{click:e.saveDescription}},[e._v(" "+e._s(e.$t("save-description"))+" ")]):e._e()]}}],null,!1,356549965),model:{value:e.showSideBarDescription,callback:function(t){e.showSideBarDescription=t},expression:"showSideBarDescription"}},[n("div",{staticClass:"p-3"},[n("ckeditor",{attrs:{id:"editor",editor:e.editor},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1)]),null!=e.diagramFromStore&&"APPROVAL"==e.diagramFromStore.status&&e.isAuthenticated?n("b-sidebar",{attrs:{right:"",width:"30em",title:e.$t("approvals"),shadow:"",visible:"APPROVAL"==e.diagramFromStore.status&&e.isAuthenticated}},[n("div",{staticClass:"p-3"},[e.isAuthenticated&&e.diagramFromStore&&"BPMN"==e.diagramFromStore.type?n("b-btn",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{target:"_blank",to:"/app/bpm/"+e.diagramIdFromURL,block:"",title:e.$t("reglament-view"),variant:"light"}},[n("font-awesome-icon",{attrs:{icon:"file"}}),e._v(" "+e._s(e.$t("look-as-reglament"))+" ")],1):e._e(),n("hr"),e.diagramIdFromURL?n("approval",{attrs:{stacked:!0,diagramId:e.diagramIdFromURL}}):e._e()],1)]):e._e()],1):e._e()},r=[],a=(n("b0c0"),n("d3b7"),n("3ca3"),n("ddb0"),n("7db0"),n("4de4"),n("a4d3"),n("e01a"),n("159b"),n("ac1f"),n("5319"),n("2b3d"),n("9861"),n("a15b9"),n("466d"),n("cb29"),n("81cc")),s=n("493a"),o=n("2046"),l=n("bbc8"),u=n("c7a0"),c=n.n(u),h=n("4a7a"),p=n.n(h),f=n("c21c"),m=(n("6dfc"),n("7f72")),d={title:function(e){return"".concat(e.currentDiagramWithOutBody.name)},name:"TheDiagramMenu",components:{Share:function(){return n.e("chunk-2d0d3e18").then(n.bind(null,"5f3d"))},vSelect:p.a,VueTagsInput:c.a,Approval:function(){return n.e("chunk-2d0ced6f").then(n.bind(null,"60ba"))},Username:function(){return n.e("chunk-2d0c8d6d").then(n.bind(null,"571f"))},DiagramStatus:function(){return n.e("chunk-5c8a677b").then(n.bind(null,"7d4a3"))},DeployDiagram:function(){return n.e("chunk-2d0ced53").then(n.bind(null,"60ad"))},CreateTemplate:function(){return n.e("chunk-2d21e3d7").then(n.bind(null,"d55e"))},TemplateGenerate:function(){return n.e("chunk-747054c2").then(n.bind(null,"2f9a4"))}},data:function(){return{description:"",newFolderName:"",editor:l["a"],myTags:[],showSideBarDescription:!1,settings:[],currentTags:[],tag:"",palette:["#FFFFFF","#FFFECD","#E7FCCB","#B5E3D7","#C7F4FF","#CCDBFF","#D4CFFF","#E9D6FF","#FFCFF9","#FFCCE2","#FFC2C2","#FFDCC2","#F0F0F0","#FFFDA0","#93E070","#6BC7AE","#A3EEFF","#93B4FF","#AEA3FF","#D1ABFF","#FFA1F2","#FFA4CC","#FF7575","#FFB884","#CFCFCF","#FFFC5A","#29BB33","#3FA88C","#5FE1FF","#6C98FF","#8270FF","#AD68FF","#FF5AEB","#FF69AA","#FF4242","#FF9E56","#A9A9A9","#DBCD63","#63CF6A","#5A9C8A","#66BBCF","#6E8BCF","#7C71CF","#996BCF","#CF63C1","#CF7DA1","#CF5353","#CF8F60","#696969","#BB9F29","#1B6B12","#0E7070","#2BA0BB","#315BBB","#4433BB","#6F2FBB","#BB29AA","#BB3C74","#BB1E1E","#BB6627"],tagsToNewDiagram:[],options:{log:!1,ignoreMouse:!0},countOfElementsWithError:null,myFolders:[],mySelectedFolder:{text:null,id:null},score:null,window:{width:0,height:0},createFolderModal:!1,diagramWithOutBody:{id:null,name:null,description:null,public:!0,createdOn:null,updatedOn:null,comment:null,favored:!1,authorUsername:null,you:!1},showModalCreate:!1,errors:[],camundaErrors:[],warnings:[],infos:[],countOfElements:null,showModalSave:!1,shareKey:0,smallScreen:!1}},watch:{showSideBarDescription:function(e){e&&this.getDescription()},currentDiagramWithOutBody:function(){this.diagramWithOutBody=this.currentDiagramWithOutBody,this.$route.query&&null!=this.$route.query.random&&(this.diagramWithOutBody.updateBy=null)},window:{handler:function(e){this.$store.commit("setWindow",e),e.width<900?this.smallScreen=!0:this.smallScreen=!1},deep:!0},autoCreateDiagram:function(e,t){1==e&&(this.autoCreateDiagramIfAuth(),clearInterval(this.$interval),this.$store.commit("setAutoCreate",!1))},showModalCreate:function(e){1==e&&(this.getMySettings(),this.score=null,this.errors=[],this.camundaErrors=[],this.warnings=[],this.infos=[],this.getMyTags(),this.countOfElements=null,null!=this.diagramType&&"BPMN"!=this.diagramType&&""!=this.diagramType||this.checkDiagram(),null!=this.diagramFromStore.teamFolderId&&null!=this.diagramFromStore.teamFolderName&&this.isAuthenticated&&(this.mySelectedFolder.id=this.diagramFromStore.teamFolderId,this.mySelectedFolder.text=this.diagramFromStore.teamFolderName),null!=this.diagramFromStore.tags&&(this.currentTags=this.diagramFromStore.tags),this.getMyFolders())}},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize()},computed:{enterpriseEnabled:function(){return this.$store.getters.getEnterpriseEnabled},buttonSaveAllow:function(){return 1!=this.folderRequired||null!=this.mySelectedFolder&&null!=this.mySelectedFolder.id},folderRequired:function(){return this.settings.length>0&&"true"===this.settings.find((function(e){return"folderRequried"===e.setting})).value},filteredItems:function(){var e=this;return this.myTags.filter((function(t){return-1!==t.text.toLowerCase().indexOf(e.tag.toLowerCase())}))},isHasPermissionToLoad:function(){return this.$store.getters.getLoadPermission},diagramName:function(){var e="Draft";return this.diagramWithOutBody.name&&(e=this.diagramWithOutBody.name,this.diagramWithOutBody.name.length>40&&(e=e.substring(0,40)+"...")),e},myUserName:function(){return this.$store.getters.getUsername},currentStatus:function(){return this.$store.getters.getStatus},isHasPermissionToEdit:function(){return this.$store.getters.getEditPermission},diagramType:function(){return this.$store.getters.getDiagramType},isAuthenticated:function(){return this.$store.getters.isAuthenticated},isInTeam:function(){return this.$store.getters.getInTeam},autoCreateDiagram:function(){return this.$store.getters.getAutoCreate},diagramFromStore:function(){return this.$store.getters.getDiagram},isIdInURL:function(){return null!=this.$route.params&&null!=this.$route.params.diagramid},diagramUrl:function(){return null==this.id?null:this.$route.path+"/"+this.id},diagramIdFromURL:function(){return 1==this.isIdInURL?this.$route.params.diagramid:null},buttonName:function(){var e=!1;return null!=this.$route.params&&null!=this.$route.params.diagramid&&(e=!0),e||this.isAuthenticated?e&&this.isAuthenticated&&this.isHasPermissionToEdit?this.$t("save-as-version"):e&&this.isAuthenticated&&!this.isHasPermissionToEdit?this.$t("make-copy"):this.$t("common.save"):this.$t("save-and-share")},updateDate:function(){return this.diagramWithOutBody.updatedOn?this.diagramWithOutBody.updatedOn:!this.diagramWithOutBody.updatedOn&&this.diagramWithOutBody.createdOn?this.diagramWithOutBody.createdOn:Date.now()},currentDiagramWithOutBody:function(){return this.$store.getters.getCurrentDiagramWithoutBody},diagramInSVG:function(){return this.$store.getters.getDiagramInSVG},diagramBody:function(){return this.$store.getters.getCurrentDiagramBody}},methods:{getDescription:function(){var e=this,t={cache:{ignoreCache:!0}};f["a"].get("/diagram/description/"+this.diagramIdFromURL,t).then((function(t){null!=t.data.description&&(e.description=t.data.description)}))},saveDescription:function(){var e=this,t={description:this.description};f["a"].post("/diagram/description/"+this.diagramIdFromURL,t).then((function(t){e.$bvToast.toast(e.$t("ok"),{toaster:"b-toaster-bottom-center",title:e.$t("updated"),variant:"success",solid:!0})}))},getMySettings:function(){var e=this;this.isInTeam&&f["a"].get("/team/settings").then((function(t){e.settings=t.data}))},changeTagOnDiagram:function(e){var t=this,n=[];e.forEach((function(e){"color"in e||(e.color=t.palette[Math.floor(Math.random()*t.palette.length)],e.style="background-color: "+e.color),n.push(e)})),this.tagsToNewDiagram=n},getMyTags:function(){var e=this;f["a"].get("/diagram/tag").then((function(t){e.myTags=t.data}))},calculateProgressStyle:function(){return this.score<3?"danger":this.score<8?"warning":this.score>=8?"success":void 0},checkDiagram:function(){var e=this,t=this.diagramBody,n={lintResult:null,countOfElements:0};o["a"](t).then((function(t){var i=a["a"](t[0]);n.lintResult=i,n.countOfElements=t[1],e.countOfElements=n.countOfElements,e.countOfElementsWithError=n.lintResult.length+1,e.infos=[],e.warnings=[],e.errors=[],n.lintResult.forEach((function(t){t.lintElements.forEach((function(t){"info"==t.type&&e.infos.push(t),"warning"==t.type&&e.warnings.push(t),"error"==t.type&&e.errors.push(t)}))})),e.score=s["a"](n.lintResult,n.countOfElements)}))},getMyFolders:function(){var e=this,t={cache:{ignoreCache:!0}};f["a"].get("/folder/only",t).then((function(t){e.myFolders=t.data}))},deleteDiagram:function(){var e=this,t=this.diagramIdFromURL;confirm(this.$t("are-you-really-want-delete-process"))&&f["a"].delete("/diagram/"+t).then((function(){e.$router.push("/app/home")}))},handleHiddenShare:function(){this.shareKey=this.shareKey+1},buildFileName:function(e,t){return null!=e?(e.replace(/\W/g,""),e+"."+t):null==e?"diagram."+t:void 0},autoCreateDiagramIfAuth:function(){var e=this;if(this.isAuthenticated&&null==this.diagramIdFromURL){var t=this.$store.getters.getCurrentDiagram;null!=this.getDiagramType&&""!=this.getDiagramType&&(t.type=this.getDiagramType),t.name="Draft",t.description="Created automatically";var n="/diagram";f["a"].post(n,t).then((function(t){e.id=t.data.id,e.createdOn=t.data.createdOn,e.public=t.data.public,e.folderId=e.mySelectedFolder.id,e.diagramWithOutBody.you=!0,e.diagramWithOutBody.id=t.data.id,e.successToastAutoSave();e.$router.push("/app/diagram/"+t.data.id)})).catch((function(){e.dangerToast()}))}},createNewFolder:function(){var e=this,t={name:this.newFolderName};f["a"].post("/folder",t).then((function(t){e.mySelectedFolder.id=t.data.id,e.mySelectedFolder.text=t.data.text,e.getMyFolders(),e.$root.$emit("bv::hide::modal","createFolderModalId","#btnShow")}))},commitCheckDiagram:function(){this.$store.commit("setCheckDiagram",!0)},handleResize:function(){this.window.width=window.innerWidth,this.window.height=window.innerHeight},commitClearOverlay:function(){this.$store.commit("setClearOverlay",!0)},canvas:function(){var e=document.getElementById("canvas1");m(e,this.diagramInSVG,this.options)},downloadXml:function(){var e=this.diagramBody,t="application/bpmn20-xml",n=this.buildFileName(this.diagramWithOutBody.name,"bpmn");this.downloadString(e,t,n)},downloadSvg:function(){var e=this.diagramInSVG,t="application/svg",n=this.buildFileName(this.diagramWithOutBody.name,"svg");this.downloadString(e,t,n)},downloadString:function(e,t,n){var i=new Blob([e],{type:t}),r=document.createElement("a");r.download=n,r.href=URL.createObjectURL(i),r.dataset.downloadurl=[t,r.download,r.href].join(":"),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout((function(){URL.revokeObjectURL(r.href)}),1500)},download_img:function(e){this.canvas();var t=e.currentTarget,n=document.getElementById("canvas1"),i=n.toDataURL("image/jpg");t.href=i},duplicate:function(e){var t=this;f["a"].post("/diagram/duplicate/"+e).then((function(e){t.successInfo(t.$t("process-coped"),""),t.$router.push("/app/diagram/"+e.data.id)}))},handleOk:function(){this.diagramIdFromURL&&this.isAuthenticated&&!this.isHasPermissionToEdit&&this.duplicate(this.diagramIdFromURL),this.createDiagram(),this.showModalCreate=!this.showModalCreate},createDiagram:function(){var e=this;this.isAuthenticated||(this.$store.commit("clearDiagram",null),this.diagramWithOutBody=this.currentDiagramWithOutBody),this.$store.commit("setDiagramWithOutBody",this.diagramWithOutBody);var t="/diagram",n=this.$store.getters.getCurrentDiagram;null!=this.mySelectedFolder&&null!=this.mySelectedFolder.id&&(n.folderId=this.mySelectedFolder.id),null!=this.tagsToNewDiagram&&this.tagsToNewDiagram.length>0&&(n.tags=this.tagsToNewDiagram),null!=this.diagramWithOutBody.id&&this.isHasPermissionToEdit&&(t=t+"/"+this.diagramWithOutBody.id,null!=this.score&&(n.quality=this.score)),f["a"].post(t,n).then((function(t){e.id=t.data.id,e.createdOn=t.data.createdOn,e.public=t.data.public,e.diagramWithOutBody.you=!0,e.diagramWithOutBody.id=t.data.id,e.isAuthenticated?e.successToast():e.successToastAndRegister(),e.$router.push("/app/diagram/"+t.data.id)})).catch((function(){e.dangerToast()}))},successToast:function(){this.$bvToast.toast(this.$t("great"),{title:this.$t("you-process-upload-successfully"),toaster:"b-toaster-bottom-center",variant:"success",solid:!0})},successToastAutoSave:function(){this.$bvToast.toast(this.$t("now-all-changes-save-automaticly"),{title:this.$t("we-save-your-process"),toaster:"b-toaster-bottom-center",variant:"success",solid:!0})},successToastAndRegister:function(){this.$bvToast.toast(this.$t("sign-up-and-save-process"),{title:this.$t("your-process-uploaded"),variant:"success",toaster:"b-toaster-bottom-center",href:"/app/signup",solid:!0})},dangerToast:function(){this.$bvToast.toast(this.$t("server-error"),{title:this.$t("server-error"),toaster:"b-toaster-bottom-center",variant:"danger",solid:!0})},savePNG:function(){var e=this,t=this.diagramInSVG,n=this.buildFileName(this.diagramWithOutBody.name,"png"),i=window.URL||window.webkitURL||window;if(!i)throw new Error("(browser doesnt support this)");var r=t.match(/height=\"(\d+)/m),a=r&&r[1]?parseInt(r[1],10):200,s=t.match(/width=\"(\d+)/m),o=s&&s[1]?parseInt(s[1],10):200,l=e.margin||0,u=e.fill||"#ffffff";t.match(/xmlns=\"/im)||(t=t.replace("<svg ",'<svg xmlns="http://www.w3.org/2000/svg" '));var c=document.createElement("canvas");c.width=o+2*l,c.height=a+2*l;var h=c.getContext("2d");t=new Blob([t],{type:"image/svg+xml;charset=utf-8"});var p=i.createObjectURL(t),f=new Image;f.onload=function(){if(h.drawImage(this,l,l),u){var e=document.createElement("canvas");e.width=c.width,e.height=c.height;var t=e.getContext("2d");t.save(),t.fillStyle=u,t.fillRect(0,0,c.width,c.height),t.strokeRect(0,0,c.width,c.height),t.restore(),t.drawImage(c,0,0),c=e}i.revokeObjectURL(p);var r=n,a=document.createElement("a");a.download=r,a.innerHTML="Get BPMN PNG",a.href=c.toDataURL(),a.onclick=function(e){document.body.removeChild(e.target)},a.style.visibility="hidden",document.body.appendChild(a),a.click()},f.src=p}},mounted:function(){var e=this;this.diagramWithOutBody=this.currentDiagramWithOutBody,this.$route.query&&null!=this.$route.query.random&&(this.diagramWithOutBody.updateBy=null),this.$interval=setInterval((function(){e.$title=e.diagramWithOutBody.name}),2e3)},beforeDestroy:function(){clearInterval(this.$interval)}},g=d,y=(n("27f2"),n("2877")),b=Object(y["a"])(g,i,r,!1,null,"3705d736",null);t["default"]=b.exports},"5fb2":function(e,t,n){"use strict";var i=n("da84"),r=n("e330"),a=2147483647,s=36,o=1,l=26,u=38,c=700,h=72,p=128,f="-",m=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,g="Overflow: input needs wider integers to process",y=s-o,b=i.RangeError,v=r(d.exec),w=Math.floor,x=String.fromCharCode,E=r("".charCodeAt),C=r([].join),A=r([].push),P=r("".replace),N=r("".split),S=r("".toLowerCase),R=function(e){var t=[],n=0,i=e.length;while(n<i){var r=E(e,n++);if(r>=55296&&r<=56319&&n<i){var a=E(e,n++);56320==(64512&a)?A(t,((1023&r)<<10)+(1023&a)+65536):(A(t,r),n--)}else A(t,r)}return t},k=function(e){return e+22+75*(e<26)},T=function(e,t,n){var i=0;e=n?w(e/c):e>>1,e+=w(e/t);while(e>y*l>>1)e=w(e/y),i+=s;return w(i+(y+1)*e/(e+u))},B=function(e){var t=[];e=R(e);var n,i,r=e.length,u=p,c=0,m=h;for(n=0;n<e.length;n++)i=e[n],i<128&&A(t,x(i));var d=t.length,y=d;d&&A(t,f);while(y<r){var v=a;for(n=0;n<e.length;n++)i=e[n],i>=u&&i<v&&(v=i);var E=y+1;if(v-u>w((a-c)/E))throw b(g);for(c+=(v-u)*E,u=v,n=0;n<e.length;n++){if(i=e[n],i<u&&++c>a)throw b(g);if(i==u){var P=c,N=s;while(1){var S=N<=m?o:N>=m+l?l:N-m;if(P<S)break;var B=P-S,D=s-S;A(t,x(k(S+B%D))),P=w(B/D),N+=s}A(t,x(k(P))),m=T(c,E,y==d),c=0,y++}}c++,u++}return C(t,"")};e.exports=function(e){var t,n,i=[],r=N(P(S(e),d,"."),".");for(t=0;t<r.length;t++)n=r[t],A(i,v(m,n)?"xn--"+B(n):n);return C(i,".")}},"6dfc":function(e,t,n){},"749c":function(e,t){function n(e,t){for(var n in e)t[n]=e[n]}function i(e,t){var i=e.prototype;if(Object.create){var r=Object.create(t.prototype);i.__proto__=r}if(!(i instanceof t)){function a(){}a.prototype=t.prototype,a=new a,n(i,a),e.prototype=i=a}i.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),i.constructor=e)}var r="http://www.w3.org/1999/xhtml",a={},s=a.ELEMENT_NODE=1,o=a.ATTRIBUTE_NODE=2,l=a.TEXT_NODE=3,u=a.CDATA_SECTION_NODE=4,c=a.ENTITY_REFERENCE_NODE=5,h=a.ENTITY_NODE=6,p=a.PROCESSING_INSTRUCTION_NODE=7,f=a.COMMENT_NODE=8,m=a.DOCUMENT_NODE=9,d=a.DOCUMENT_TYPE_NODE=10,g=a.DOCUMENT_FRAGMENT_NODE=11,y=a.NOTATION_NODE=12,b={},v={},w=(b.INDEX_SIZE_ERR=(v[1]="Index size error",1),b.DOMSTRING_SIZE_ERR=(v[2]="DOMString size error",2),b.HIERARCHY_REQUEST_ERR=(v[3]="Hierarchy request error",3)),x=(b.WRONG_DOCUMENT_ERR=(v[4]="Wrong document",4),b.INVALID_CHARACTER_ERR=(v[5]="Invalid character",5),b.NO_DATA_ALLOWED_ERR=(v[6]="No data allowed",6),b.NO_MODIFICATION_ALLOWED_ERR=(v[7]="No modification allowed",7),b.NOT_FOUND_ERR=(v[8]="Not found",8)),E=(b.NOT_SUPPORTED_ERR=(v[9]="Not supported",9),b.INUSE_ATTRIBUTE_ERR=(v[10]="Attribute in use",10));b.INVALID_STATE_ERR=(v[11]="Invalid state",11),b.SYNTAX_ERR=(v[12]="Syntax error",12),b.INVALID_MODIFICATION_ERR=(v[13]="Invalid modification",13),b.NAMESPACE_ERR=(v[14]="Invalid namespace",14),b.INVALID_ACCESS_ERR=(v[15]="Invalid access",15);function C(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,v[e]),this.message=v[e],Error.captureStackTrace&&Error.captureStackTrace(this,C);return n.code=e,t&&(this.message=this.message+": "+t),n}function A(){}function P(e,t){this._node=e,this._refresh=t,N(this)}function N(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var i=e._refresh(e._node);se(e,"length",i.length),n(i,e),e._inc=t}}function S(){}function R(e,t){var n=e.length;while(n--)if(e[n]===t)return n}function k(e,t,n,i){if(i?t[R(t,i)]=n:t[t.length++]=n,e){n.ownerElement=e;var r=e.ownerDocument;r&&(i&&L(r,e,i),F(r,e,n))}}function T(e,t,n){var i=R(t,n);if(!(i>=0))throw C(x,new Error(e.tagName+"@"+n));var r=t.length-1;while(i<r)t[i]=t[++i];if(t.length=r,e){var a=e.ownerDocument;a&&(L(a,e,n),n.ownerElement=null)}}function B(e){if(this._features={},e)for(var t in e)this._features=e[t]}function D(){}function M(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function O(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(O(e,t))return!0}while(e=e.nextSibling)}function I(){}function F(e,t,n){e&&e._inc++;var i=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==i&&(t._nsMap[n.prefix?n.localName:""]=n.value)}function L(e,t,n,i){e&&e._inc++;var r=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==r&&delete t._nsMap[n.prefix?n.localName:""]}function U(e,t,n){if(e&&e._inc){e._inc++;var i=t.childNodes;if(n)i[i.length++]=n;else{var r=t.firstChild,a=0;while(r)i[a++]=r,r=r.nextSibling;i.length=a}}}function V(e,t){var n=t.previousSibling,i=t.nextSibling;return n?n.nextSibling=i:e.firstChild=i,i?i.previousSibling=n:e.lastChild=n,U(e.ownerDocument,e),t}function $(e,t,n){var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===g){var r=t.firstChild;if(null==r)return t;var a=t.lastChild}else r=a=t;var s=n?n.previousSibling:e.lastChild;r.previousSibling=s,a.nextSibling=n,s?s.nextSibling=r:e.firstChild=r,null==n?e.lastChild=a:n.previousSibling=a;do{r.parentNode=e}while(r!==a&&(r=r.nextSibling));return U(e.ownerDocument||e,e),t.nodeType==g&&(t.firstChild=t.lastChild=null),t}function j(e,t){var n=t.parentNode;if(n){var i=e.lastChild;n.removeChild(t);i=e.lastChild}i=e.lastChild;return t.parentNode=e,t.previousSibling=i,t.nextSibling=null,i?i.nextSibling=t:e.firstChild=t,e.lastChild=t,U(e.ownerDocument,e,t),t}function _(){this._nsMap={}}function z(){}function q(){}function W(){}function G(){}function H(){}function X(){}function K(){}function Y(){}function Q(){}function J(){}function Z(){}function ee(){}function te(e,t){var n=[],i=9==this.nodeType?this.documentElement:this,r=i.prefix,a=i.namespaceURI;if(a&&null==r){r=i.lookupPrefix(a);if(null==r)var s=[{namespace:a,prefix:null}]}return ie(this,n,e,t,s),n.join("")}function ne(e,t,n){var i=e.prefix||"",r=e.namespaceURI;if(!i&&!r)return!1;if("xml"===i&&"http://www.w3.org/XML/1998/namespace"===r||"http://www.w3.org/2000/xmlns/"==r)return!1;var a=n.length;while(a--){var s=n[a];if(s.prefix==i)return s.namespace!=r}return!0}function ie(e,t,n,i,a){if(i){if(e=i(e),!e)return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case s:a||(a=[]);a.length;var h=e.attributes,y=h.length,b=e.firstChild,v=e.tagName;n=r===e.namespaceURI||n,t.push("<",v);for(var w=0;w<y;w++){var x=h.item(w);"xmlns"==x.prefix?a.push({prefix:x.localName,namespace:x.value}):"xmlns"==x.nodeName&&a.push({prefix:"",namespace:x.value})}for(w=0;w<y;w++){x=h.item(w);if(ne(x,n,a)){var E=x.prefix||"",C=x.namespaceURI,A=E?" xmlns:"+E:" xmlns";t.push(A,'="',C,'"'),a.push({prefix:E,namespace:C})}ie(x,t,n,i,a)}if(ne(e,n,a)){E=e.prefix||"",C=e.namespaceURI,A=E?" xmlns:"+E:" xmlns";t.push(A,'="',C,'"'),a.push({prefix:E,namespace:C})}if(b||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(v)){if(t.push(">"),n&&/^script$/i.test(v))while(b)b.data?t.push(b.data):ie(b,t,n,i,a),b=b.nextSibling;else while(b)ie(b,t,n,i,a),b=b.nextSibling;t.push("</",v,">")}else t.push("/>");return;case m:case g:b=e.firstChild;while(b)ie(b,t,n,i,a),b=b.nextSibling;return;case o:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,M),'"');case l:return t.push(e.data.replace(/[<&]/g,M));case u:return t.push("<![CDATA[",e.data,"]]>");case f:return t.push("\x3c!--",e.data,"--\x3e");case d:var P=e.publicId,N=e.systemId;if(t.push("<!DOCTYPE ",e.name),P)t.push(' PUBLIC "',P),N&&"."!=N&&t.push('" "',N),t.push('">');else if(N&&"."!=N)t.push(' SYSTEM "',N,'">');else{var S=e.internalSubset;S&&t.push(" [",S,"]"),t.push(">")}return;case p:return t.push("<?",e.target," ",e.data,"?>");case c:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function re(e,t,n){var i;switch(t.nodeType){case s:i=t.cloneNode(!1),i.ownerDocument=e;case g:break;case o:n=!0;break}if(i||(i=t.cloneNode(!1)),i.ownerDocument=e,i.parentNode=null,n){var r=t.firstChild;while(r)i.appendChild(re(e,r,n)),r=r.nextSibling}return i}function ae(e,t,n){var i=new t.constructor;for(var r in t){var a=t[r];"object"!=typeof a&&a!=i[r]&&(i[r]=a)}switch(t.childNodes&&(i.childNodes=new A),i.ownerDocument=e,i.nodeType){case s:var l=t.attributes,u=i.attributes=new S,c=l.length;u._ownerElement=i;for(var h=0;h<c;h++)i.setAttributeNode(ae(e,l.item(h),!0));break;case o:n=!0}if(n){var p=t.firstChild;while(p)i.appendChild(ae(e,p,n)),p=p.nextSibling}return i}function se(e,t,n){e[t]=n}C.prototype=Error.prototype,n(b,C),A.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],i=0;i<this.length;i++)ie(this[i],n,e,t);return n.join("")}},P.prototype.item=function(e){return N(this),this[e]},i(P,A),S.prototype={length:0,item:A.prototype.item,getNamedItem:function(e){var t=this.length;while(t--){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new C(E);var n=this.getNamedItem(e.nodeName);return k(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new C(E);return t=this.getNamedItemNS(e.namespaceURI,e.localName),k(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return T(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return T(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){var n=this.length;while(n--){var i=this[n];if(i.localName==t&&i.namespaceURI==e)return i}return null}},B.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var i=new I;if(i.implementation=this,i.childNodes=new A,i.doctype=n,n&&i.appendChild(n),t){var r=i.createElementNS(e,t);i.appendChild(r)}return i},createDocumentType:function(e,t,n){var i=new X;return i.name=e,i.nodeName=e,i.publicId=t,i.systemId=n,i}},D.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return $(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return V(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return ae(this.ownerDocument||this,this,e)},normalize:function(){var e=this.firstChild;while(e){var t=e.nextSibling;t&&t.nodeType==l&&e.nodeType==l?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){var t=this;while(t){var n=t._nsMap;if(n)for(var i in n)if(n[i]==e)return i;t=t.nodeType==o?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){var t=this;while(t){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==o?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return null==t}},n(a,D),n(a,D.prototype),I.prototype={nodeName:"#document",nodeType:m,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==g){var n=e.firstChild;while(n){var i=n.nextSibling;this.insertBefore(n,t),n=i}return e}return null==this.documentElement&&e.nodeType==s&&(this.documentElement=e),$(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),V(this,e)},importNode:function(e,t){return re(this,e,t)},getElementById:function(e){var t=null;return O(this.documentElement,(function(n){if(n.nodeType==s&&n.getAttribute("id")==e)return t=n,!0})),t},createElement:function(e){var t=new _;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new A;var n=t.attributes=new S;return n._ownerElement=t,t},createDocumentFragment:function(){var e=new J;return e.ownerDocument=this,e.childNodes=new A,e},createTextNode:function(e){var t=new W;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new G;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new H;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new Z;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new z;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new Q;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new _,i=t.split(":"),r=n.attributes=new S;return n.childNodes=new A,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,r._ownerElement=n,n},createAttributeNS:function(e,t){var n=new z,i=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,n}},i(I,D),_.prototype={nodeType:s,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===g?this.insertBefore(e,null):j(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var i=this.ownerDocument.createAttributeNS(e,t);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new P(this,(function(t){var n=[];return O(t,(function(i){i===t||i.nodeType!=s||"*"!==e&&i.tagName!=e||n.push(i)})),n}))},getElementsByTagNameNS:function(e,t){return new P(this,(function(n){var i=[];return O(n,(function(r){r===n||r.nodeType!==s||"*"!==e&&r.namespaceURI!==e||"*"!==t&&r.localName!=t||i.push(r)})),i}))}},I.prototype.getElementsByTagName=_.prototype.getElementsByTagName,I.prototype.getElementsByTagNameNS=_.prototype.getElementsByTagNameNS,i(_,D),z.prototype.nodeType=o,i(z,D),q.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(v[w])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){var i=this.data.substring(0,e),r=this.data.substring(e+t);n=i+n+r,this.nodeValue=this.data=n,this.length=n.length}},i(q,D),W.prototype={nodeName:"#text",nodeType:l,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},i(W,q),G.prototype={nodeName:"#comment",nodeType:f},i(G,q),H.prototype={nodeName:"#cdata-section",nodeType:u},i(H,q),X.prototype.nodeType=d,i(X,D),K.prototype.nodeType=y,i(K,D),Y.prototype.nodeType=h,i(Y,D),Q.prototype.nodeType=c,i(Q,D),J.prototype.nodeName="#document-fragment",J.prototype.nodeType=g,i(J,D),Z.prototype.nodeType=p,i(Z,D),ee.prototype.serializeToString=function(e,t,n){return te.call(e,t,n)},D.prototype.toString=te;try{if(Object.defineProperty){function oe(e){switch(e.nodeType){case s:case g:var t=[];e=e.firstChild;while(e)7!==e.nodeType&&8!==e.nodeType&&t.push(oe(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(P.prototype,"length",{get:function(){return N(this),this.$$length}}),Object.defineProperty(D.prototype,"textContent",{get:function(){return oe(this)},set:function(e){switch(this.nodeType){case s:case g:while(this.firstChild)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),se=function(e,t,n){e["$$"+t]=n}}}catch(le){}t.DOMImplementation=B,t.XMLSerializer=ee},"7f72":function(e,t,n){"use strict";var i=n("ddf8"),r=n("1390");n("29d8");function a(e,t,n){if(null!=e||null!=t||null!=n){"string"==typeof e&&(e=document.getElementById(e)),null!=e.svg&&e.svg.stop();var i=l(n||{});1==e.childNodes.length&&"OBJECT"==e.childNodes[0].nodeName||(e.svg=i);var r=e.getContext("2d");"undefined"!=typeof t.documentElement?i.loadXmlDoc(r,t):"<"==t.substr(0,1)?i.loadXml(r,t):i.load(r,t)}else for(var s=document.querySelectorAll("svg"),o=0;o<s.length;o++){var u=s[o],c=document.createElement("canvas");c.width=u.clientWidth,c.height=u.clientHeight,u.parentNode.insertBefore(c,u),u.parentNode.removeChild(u);var h=document.createElement("div");h.appendChild(u),a(c,h.innerHTML)}}function s(){var e;return"undefined"!=typeof Element.prototype.matches?e=function(e,t){return e.matches(t)}:"undefined"!=typeof Element.prototype.webkitMatchesSelector?e=function(e,t){return e.webkitMatchesSelector(t)}:"undefined"!=typeof Element.prototype.mozMatchesSelector?e=function(e,t){return e.mozMatchesSelector(t)}:"undefined"!=typeof Element.prototype.msMatchesSelector?e=function(e,t){return e.msMatchesSelector(t)}:"undefined"!=typeof Element.prototype.oMatchesSelector?e=function(e,t){return e.oMatchesSelector(t)}:("function"!=typeof jQuery&&"function"!=typeof Zepto||(e=function(e,t){return $(e).is(t)}),"undefined"==typeof e&&(e=Sizzle.matchesSelector)),e}function o(e){var t=[0,0,0],n=/(\[[^\]]+\])/g,i=/(#[^\s\+>~\.\[:]+)/g,r=/(\.[^\s\+>~\.\[:]+)/g,a=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,s=/(:[\w-]+\([^\)]*\))/gi,o=/(:[^\s\+>~\.\[:]+)/g,l=/([^\s\+>~\.\[:]+)/g,u=function(n,i){var r=e.match(n);null!=r&&(t[i]+=r.length,e=e.replace(n," "))};return e=e.replace(/:not\(([^\)]*)\)/g,"     $1 "),e=e.replace(/{[^]*/gm," "),u(n,1),u(i,0),u(r,1),u(a,2),u(s,1),u(o,1),e=e.replace(/[\*\s\+>~]/g," "),e=e.replace(/[#\.]/g," "),u(l,2),t.join("")}function l(e){var t={opts:e},n=s();"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(e,t,n,i,r,s){var o={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:t,offsetY:n,scaleWidth:i,scaleHeight:r};for(var l in s)s.hasOwnProperty(l)&&(o[l]=s[l]);a(this.canvas,e,o)}),t.FRAMERATE=30,t.MAX_VIRTUAL_PIXELS=3e4,t.log=function(e){},1==t.opts.log&&"undefined"!=typeof console&&(t.log=function(e){console.log(e)}),t.init=function(e){var n=0;t.UniqueId=function(){return n++,"canvg"+n},t.Definitions={},t.Styles={},t.StylesSpecificity={},t.Animations=[],t.Images=[],t.ctx=e,t.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(e,t){this.viewPorts.push({width:e,height:t})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(e){return null!=e&&"number"==typeof e?e:"x"==e?this.width():"y"==e?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},t.init(),t.ImagesLoaded=function(){for(var e=0;e<t.Images.length;e++)if(!t.Images[e].loaded)return!1;return!0},t.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},t.compressSpaces=function(e){return e.replace(/[\s\r\t\n]+/gm," ")},t.ajax=function(e){var t;return t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),t?(t.open("GET",e,!1),t.send(null),t.responseText):null},t.parseXml=function(e){if("undefined"!=typeof Windows&&"undefined"!=typeof Windows.Data&&"undefined"!=typeof Windows.Data.Xml){var t=new Windows.Data.Xml.Dom.XmlDocument,n=new Windows.Data.Xml.Dom.XmlLoadSettings;return n.prohibitDtd=!1,t.loadXml(e,n),t}if(window.DOMParser){var i=new DOMParser;return i.parseFromString(e,"text/xml")}e=e.replace(/<!DOCTYPE svg[^>]*>/,"");t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t},t.Property=function(e,t){this.name=e,this.value=t},t.Property.prototype.getValue=function(){return this.value},t.Property.prototype.hasValue=function(){return null!=this.value&&""!=this.value},t.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var e=parseFloat(this.value);return(this.value+"").match(/%$/)&&(e/=100),e},t.Property.prototype.valueOrDefault=function(e){return this.hasValue()?this.value:e},t.Property.prototype.numValueOrDefault=function(e){return this.hasValue()?this.numValue():e},t.Property.prototype.addOpacity=function(e){var n=this.value;if(null!=e.value&&""!=e.value&&"string"==typeof this.value){var r=new i(this.value);r.ok&&(n="rgba("+r.r+", "+r.g+", "+r.b+", "+e.numValue()+")")}return new t.Property(this.name,n)},t.Property.prototype.getDefinition=function(){var e=this.value.match(/#([^\)'"]+)/);return e&&(e=e[1]),e||(e=this.value),t.Definitions[e]},t.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},t.Property.prototype.getFillStyleDefinition=function(e,n){var i=this.getDefinition();if(null!=i&&i.createGradient)return i.createGradient(t.ctx,e,n);if(null!=i&&i.createPattern){if(i.getHrefAttribute().hasValue()){var r=i.attribute("patternTransform");i=i.getHrefAttribute().getDefinition(),r.hasValue()&&(i.attribute("patternTransform",!0).value=r.value)}return i.createPattern(t.ctx,e)}return null},t.Property.prototype.getDPI=function(e){return 96},t.Property.prototype.getEM=function(e){var n=12,i=new t.Property("fontSize",t.Font.Parse(t.ctx.font).fontSize);return i.hasValue()&&(n=i.toPixels(e)),n},t.Property.prototype.getUnits=function(){var e=this.value+"";return e.replace(/[0-9\.\-]/g,"")},t.Property.prototype.toPixels=function(e,n){if(!this.hasValue())return 0;var i=this.value+"";if(i.match(/em$/))return this.numValue()*this.getEM(e);if(i.match(/ex$/))return this.numValue()*this.getEM(e)/2;if(i.match(/px$/))return this.numValue();if(i.match(/pt$/))return this.numValue()*this.getDPI(e)*(1/72);if(i.match(/pc$/))return 15*this.numValue();if(i.match(/cm$/))return this.numValue()*this.getDPI(e)/2.54;if(i.match(/mm$/))return this.numValue()*this.getDPI(e)/25.4;if(i.match(/in$/))return this.numValue()*this.getDPI(e);if(i.match(/%$/))return this.numValue()*t.ViewPort.ComputeSize(e);var r=this.numValue();return n&&r<1?r*t.ViewPort.ComputeSize(e):r},t.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/s$/)?1e3*this.numValue():(e.match(/ms$/),this.numValue())},t.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/deg$/)?this.numValue()*(Math.PI/180):e.match(/grad$/)?this.numValue()*(Math.PI/200):e.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)};var l={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};return t.Property.prototype.toTextBaseline=function(){return this.hasValue()?l[this.value]:null},t.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(e,n,i,r,a,s){var o=null!=s?this.Parse(s):this.CreateFont("","","","","",t.ctx.font);return{fontFamily:a||o.fontFamily,fontSize:r||o.fontSize,fontStyle:e||o.fontStyle,fontWeight:i||o.fontWeight,fontVariant:n||o.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var e=this;this.Parse=function(n){for(var i={},r=t.trim(t.compressSpaces(n||"")).split(" "),a={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},s="",o=0;o<r.length;o++)a.fontStyle||-1==e.Styles.indexOf(r[o])?a.fontVariant||-1==e.Variants.indexOf(r[o])?a.fontWeight||-1==e.Weights.indexOf(r[o])?a.fontSize?"inherit"!=r[o]&&(s+=r[o]):("inherit"!=r[o]&&(i.fontSize=r[o].split("/")[0]),a.fontStyle=a.fontVariant=a.fontWeight=a.fontSize=!0):("inherit"!=r[o]&&(i.fontWeight=r[o]),a.fontStyle=a.fontVariant=a.fontWeight=!0):("inherit"!=r[o]&&(i.fontVariant=r[o]),a.fontStyle=a.fontVariant=!0):("inherit"!=r[o]&&(i.fontStyle=r[o]),a.fontStyle=!0);return""!=s&&(i.fontFamily=s),i}},t.ToNumberArray=function(e){for(var n=t.trim(t.compressSpaces((e||"").replace(/,/g," "))).split(" "),i=0;i<n.length;i++)n[i]=parseFloat(n[i]);return n},t.Point=function(e,t){this.x=e,this.y=t},t.Point.prototype.angleTo=function(e){return Math.atan2(e.y-this.y,e.x-this.x)},t.Point.prototype.applyTransform=function(e){var t=this.x*e[0]+this.y*e[2]+e[4],n=this.x*e[1]+this.y*e[3]+e[5];this.x=t,this.y=n},t.CreatePoint=function(e){var n=t.ToNumberArray(e);return new t.Point(n[0],n[1])},t.CreatePath=function(e){for(var n=t.ToNumberArray(e),i=[],r=0;r<n.length;r+=2)i.push(new t.Point(n[r],n[r+1]));return i},t.BoundingBox=function(e,t,n,i){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(e,t){null!=e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),null!=t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},this.addX=function(e){this.addPoint(e,null)},this.addY=function(e){this.addPoint(null,e)},this.addBoundingBox=function(e){this.addPoint(e.x1,e.y1),this.addPoint(e.x2,e.y2)},this.addQuadraticCurve=function(e,t,n,i,r,a){var s=e+2/3*(n-e),o=t+2/3*(i-t),l=s+1/3*(r-e),u=o+1/3*(a-t);this.addBezierCurve(e,t,s,l,o,u,r,a)},this.addBezierCurve=function(e,t,n,i,r,a,s,o){var l=[e,t],u=[n,i],c=[r,a],h=[s,o];this.addPoint(l[0],l[1]),this.addPoint(h[0],h[1]);for(var p=0;p<=1;p++){var f=function(e){return Math.pow(1-e,3)*l[p]+3*Math.pow(1-e,2)*e*u[p]+3*(1-e)*Math.pow(e,2)*c[p]+Math.pow(e,3)*h[p]},m=6*l[p]-12*u[p]+6*c[p],d=-3*l[p]+9*u[p]-9*c[p]+3*h[p],g=3*u[p]-3*l[p];if(0!=d){var y=Math.pow(m,2)-4*g*d;if(!(y<0)){var b=(-m+Math.sqrt(y))/(2*d);0<b&&b<1&&(0==p&&this.addX(f(b)),1==p&&this.addY(f(b)));var v=(-m-Math.sqrt(y))/(2*d);0<v&&v<1&&(0==p&&this.addX(f(v)),1==p&&this.addY(f(v)))}}else{if(0==m)continue;var w=-g/m;0<w&&w<1&&(0==p&&this.addX(f(w)),1==p&&this.addY(f(w)))}}},this.isPointInBox=function(e,t){return this.x1<=e&&e<=this.x2&&this.y1<=t&&t<=this.y2},this.addPoint(e,t),this.addPoint(n,i)},t.Transform=function(e){var n=this;this.Type={},this.Type.translate=function(e){this.p=t.CreatePoint(e),this.apply=function(e){e.translate(this.p.x||0,this.p.y||0)},this.unapply=function(e){e.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(e){e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(e){var n=t.ToNumberArray(e);this.angle=new t.Property("angle",n[0]),this.cx=n[1]||0,this.cy=n[2]||0,this.apply=function(e){e.translate(this.cx,this.cy),e.rotate(this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.unapply=function(e){e.translate(this.cx,this.cy),e.rotate(-1*this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.applyToPoint=function(e){var t=this.angle.toRadians();e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),e.applyTransform([Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0]),e.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(e){this.p=t.CreatePoint(e),this.apply=function(e){e.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(e){e.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(e){e.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(e){this.m=t.ToNumberArray(e),this.apply=function(e){e.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.unapply=function(e){var t=this.m[0],n=this.m[2],i=this.m[4],r=this.m[1],a=this.m[3],s=this.m[5],o=0,l=0,u=1,c=1/(t*(a*u-s*l)-n*(r*u-s*o)+i*(r*l-a*o));e.transform(c*(a*u-s*l),c*(s*o-r*u),c*(i*l-n*u),c*(t*u-i*o),c*(n*s-i*a),c*(i*r-t*s))},this.applyToPoint=function(e){e.applyTransform(this.m)}},this.Type.SkewBase=function(e){this.base=n.Type.matrix,this.base(e),this.angle=new t.Property("angle",e)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(e){this.base=n.Type.SkewBase,this.base(e),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(e){this.base=n.Type.SkewBase,this.base(e),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].apply(e)},this.unapply=function(e){for(var t=this.transforms.length-1;t>=0;t--)this.transforms[t].unapply(e)},this.applyToPoint=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].applyToPoint(e)};for(var i=t.trim(t.compressSpaces(e)).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),r=0;r<i.length;r++){var a=t.trim(i[r].split("(")[0]),s=i[r].split("(")[1].replace(")",""),o=this.Type[a];if("undefined"!=typeof o){var l=new o(s);l.type=a,this.transforms.push(l)}}},t.AspectRatio=function(e,n,i,r,a,s,o,l,u,c){n=t.compressSpaces(n),n=n.replace(/^defer\s/,"");var h=n.split(" ")[0]||"xMidYMid",p=n.split(" ")[1]||"meet",f=i/r,m=a/s,d=Math.min(f,m),g=Math.max(f,m);"meet"==p&&(r*=d,s*=d),"slice"==p&&(r*=g,s*=g),u=new t.Property("refX",u),c=new t.Property("refY",c),u.hasValue()&&c.hasValue()?e.translate(-d*u.toPixels("x"),-d*c.toPixels("y")):(h.match(/^xMid/)&&("meet"==p&&d==m||"slice"==p&&g==m)&&e.translate(i/2-r/2,0),h.match(/YMid$/)&&("meet"==p&&d==f||"slice"==p&&g==f)&&e.translate(0,a/2-s/2),h.match(/^xMax/)&&("meet"==p&&d==m||"slice"==p&&g==m)&&e.translate(i-r,0),h.match(/YMax$/)&&("meet"==p&&d==f||"slice"==p&&g==f)&&e.translate(0,a-s)),"none"==h?e.scale(f,m):"meet"==p?e.scale(d,d):"slice"==p&&e.scale(g,g),e.translate(null==o?0:-o,null==l?0:-l)},t.Element={},t.EmptyProperty=new t.Property("EMPTY",""),t.Element.ElementBase=function(e){if(this.attributes={},this.styles={},this.stylesSpecificity={},this.children=[],this.attribute=function(e,n){var i=this.attributes[e];return null!=i?i:(1==n&&(i=new t.Property(e,""),this.attributes[e]=i),i||t.EmptyProperty)},this.getHrefAttribute=function(){for(var e in this.attributes)if("href"==e||e.match(/:href$/))return this.attributes[e];return t.EmptyProperty},this.style=function(e,n,i){var r=this.styles[e];if(null!=r)return r;var a=this.attribute(e);if(null!=a&&a.hasValue())return this.styles[e]=a,a;if(1!=i){var s=this.parent;if(null!=s){var o=s.style(e);if(null!=o&&o.hasValue())return o}}return 1==n&&(r=new t.Property(e,""),this.styles[e]=r),r||t.EmptyProperty},this.render=function(e){if("none"!=this.style("display").value&&"hidden"!=this.style("visibility").value){if(e.save(),this.style("mask").hasValue()){var t=this.style("mask").getDefinition();null!=t&&t.apply(e,this)}else if(this.style("filter").hasValue()){var n=this.style("filter").getDefinition();null!=n&&n.apply(e,this)}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}},this.setContext=function(e){},this.clearContext=function(e){},this.renderChildren=function(e){for(var t=0;t<this.children.length;t++)this.children[t].render(e)},this.addChild=function(e,n){var i=e;n&&(i=t.CreateElement(e)),i.parent=this,"title"!=i.type&&this.children.push(i)},this.addStylesFromStyleDefinition=function(){for(var i in t.Styles)if("@"!=i[0]&&n(e,i)){var r=t.Styles[i],a=t.StylesSpecificity[i];if(null!=r)for(var s in r){var o=this.stylesSpecificity[s];"undefined"==typeof o&&(o="000"),a>o&&(this.styles[s]=r[s],this.stylesSpecificity[s]=a)}}},null!=e&&1==e.nodeType){for(var i=0;i<e.attributes.length;i++){var r=e.attributes[i];this.attributes[r.nodeName]=new t.Property(r.nodeName,r.value)}if(this.addStylesFromStyleDefinition(),this.attribute("style").hasValue()){var a=this.attribute("style").value.split(";");for(i=0;i<a.length;i++)if(""!=t.trim(a[i])){var s=a[i].split(":"),o=t.trim(s[0]),l=t.trim(s[1]);this.styles[o]=new t.Property(o,l)}}this.attribute("id").hasValue()&&null==t.Definitions[this.attribute("id").value]&&(t.Definitions[this.attribute("id").value]=this);for(i=0;i<e.childNodes.length;i++){var u=e.childNodes[i];if(1==u.nodeType&&this.addChild(u,!0),this.captureTextNodes&&(3==u.nodeType||4==u.nodeType)){var c=u.value||u.text||u.textContent||"";""!=t.compressSpaces(c)&&this.addChild(new t.Element.tspan(u),!1)}}}},t.Element.RenderedElementBase=function(e){this.base=t.Element.ElementBase,this.base(e),this.setContext=function(e){if(this.style("fill").isUrlDefinition()){var n=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));null!=n&&(e.fillStyle=n)}else if(this.style("fill").hasValue()){var i=this.style("fill");"currentColor"==i.value&&(i.value=this.style("color").value),"inherit"!=i.value&&(e.fillStyle="none"==i.value?"rgba(0,0,0,0)":i.value)}if(this.style("fill-opacity").hasValue()){i=new t.Property("fill",e.fillStyle);i=i.addOpacity(this.style("fill-opacity")),e.fillStyle=i.value}if(this.style("stroke").isUrlDefinition()){n=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity"));null!=n&&(e.strokeStyle=n)}else if(this.style("stroke").hasValue()){var r=this.style("stroke");"currentColor"==r.value&&(r.value=this.style("color").value),"inherit"!=r.value&&(e.strokeStyle="none"==r.value?"rgba(0,0,0,0)":r.value)}if(this.style("stroke-opacity").hasValue()){r=new t.Property("stroke",e.strokeStyle);r=r.addOpacity(this.style("stroke-opacity")),e.strokeStyle=r.value}if(this.style("stroke-width").hasValue()){var a=this.style("stroke-width").toPixels();e.lineWidth=0==a?.001:a}if(this.style("stroke-linecap").hasValue()&&(e.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(e.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(e.miterLimit=this.style("stroke-miterlimit").value),this.style("stroke-dasharray").hasValue()&&"none"!=this.style("stroke-dasharray").value){var s=t.ToNumberArray(this.style("stroke-dasharray").value);"undefined"!=typeof e.setLineDash?e.setLineDash(s):"undefined"!=typeof e.webkitLineDash?e.webkitLineDash=s:"undefined"==typeof e.mozDash||1==s.length&&0==s[0]||(e.mozDash=s);var o=this.style("stroke-dashoffset").numValueOrDefault(1);"undefined"!=typeof e.lineDashOffset?e.lineDashOffset=o:"undefined"!=typeof e.webkitLineDashOffset?e.webkitLineDashOffset=o:"undefined"!=typeof e.mozDashOffset&&(e.mozDashOffset=o)}if("undefined"!=typeof e.font&&(e.font=t.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.style("transform",!1,!0).hasValue()){var l=new t.Transform(this.style("transform",!1,!0).value);l.apply(e)}if(this.style("clip-path",!1,!0).hasValue()){var u=this.style("clip-path",!1,!0).getDefinition();null!=u&&u.apply(e)}this.style("opacity").hasValue()&&(e.globalAlpha=this.style("opacity").numValue())}},t.Element.RenderedElementBase.prototype=new t.Element.ElementBase,t.Element.PathElementBase=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.path=function(e){return null!=e&&e.beginPath(),new t.BoundingBox},this.renderChildren=function(e){this.path(e),t.Mouse.checkPath(this,e),""!=e.fillStyle&&("inherit"!=this.style("fill-rule").valueOrDefault("inherit")?e.fill(this.style("fill-rule").value):e.fill()),""!=e.strokeStyle&&e.stroke();var n=this.getMarkers();if(null!=n){if(this.style("marker-start").isUrlDefinition()){var i=this.style("marker-start").getDefinition();i.render(e,n[0][0],n[0][1])}if(this.style("marker-mid").isUrlDefinition()){i=this.style("marker-mid").getDefinition();for(var r=1;r<n.length-1;r++)i.render(e,n[r][0],n[r][1])}if(this.style("marker-end").isUrlDefinition()){i=this.style("marker-end").getDefinition();i.render(e,n[n.length-1][0],n[n.length-1][1])}}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},t.Element.PathElementBase.prototype=new t.Element.RenderedElementBase,t.Element.svg=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.baseClearContext=this.clearContext,this.clearContext=function(e){this.baseClearContext(e),t.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,"undefined"!=typeof e.font&&"undefined"!=typeof window.getComputedStyle&&(e.font=window.getComputedStyle(e.canvas).getPropertyValue("font")),this.baseSetContext(e),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),e.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var n=t.ViewPort.width(),i=t.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),"undefined"==typeof this.root){n=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y");var r=0,a=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(r=-this.attribute("refX").toPixels("x"),a=-this.attribute("refY").toPixels("y")),"visible"!=this.attribute("overflow").valueOrDefault("hidden")&&(e.beginPath(),e.moveTo(r,a),e.lineTo(n,a),e.lineTo(n,i),e.lineTo(r,i),e.closePath(),e.clip())}if(t.ViewPort.SetCurrent(n,i),this.attribute("viewBox").hasValue()){var s=t.ToNumberArray(this.attribute("viewBox").value),o=s[0],l=s[1];n=s[2],i=s[3],t.AspectRatio(e,this.attribute("preserveAspectRatio").value,t.ViewPort.width(),n,t.ViewPort.height(),i,o,l,this.attribute("refX").value,this.attribute("refY").value),t.ViewPort.RemoveCurrent(),t.ViewPort.SetCurrent(s[2],s[3])}}},t.Element.svg.prototype=new t.Element.RenderedElementBase,t.Element.rect=function(e){this.base=t.Element.PathElementBase,this.base(e),this.path=function(e){var n=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y"),s=this.attribute("rx").toPixels("x"),o=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(o=s),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(s=o),s=Math.min(s,r/2),o=Math.min(o,a/2),null!=e&&(e.beginPath(),e.moveTo(n+s,i),e.lineTo(n+r-s,i),e.quadraticCurveTo(n+r,i,n+r,i+o),e.lineTo(n+r,i+a-o),e.quadraticCurveTo(n+r,i+a,n+r-s,i+a),e.lineTo(n+s,i+a),e.quadraticCurveTo(n,i+a,n,i+a-o),e.lineTo(n,i+o),e.quadraticCurveTo(n,i,n+s,i),e.closePath()),new t.BoundingBox(n,i,n+r,i+a)}},t.Element.rect.prototype=new t.Element.PathElementBase,t.Element.circle=function(e){this.base=t.Element.PathElementBase,this.base(e),this.path=function(e){var n=this.attribute("cx").toPixels("x"),i=this.attribute("cy").toPixels("y"),r=this.attribute("r").toPixels();return null!=e&&(e.beginPath(),e.arc(n,i,r,0,2*Math.PI,!0),e.closePath()),new t.BoundingBox(n-r,i-r,n+r,i+r)}},t.Element.circle.prototype=new t.Element.PathElementBase,t.Element.ellipse=function(e){this.base=t.Element.PathElementBase,this.base(e),this.path=function(e){var n=(Math.sqrt(2)-1)/3*4,i=this.attribute("rx").toPixels("x"),r=this.attribute("ry").toPixels("y"),a=this.attribute("cx").toPixels("x"),s=this.attribute("cy").toPixels("y");return null!=e&&(e.beginPath(),e.moveTo(a,s-r),e.bezierCurveTo(a+n*i,s-r,a+i,s-n*r,a+i,s),e.bezierCurveTo(a+i,s+n*r,a+n*i,s+r,a,s+r),e.bezierCurveTo(a-n*i,s+r,a-i,s+n*r,a-i,s),e.bezierCurveTo(a-i,s-n*r,a-n*i,s-r,a,s-r),e.closePath()),new t.BoundingBox(a-i,s-r,a+i,s+r)}},t.Element.ellipse.prototype=new t.Element.PathElementBase,t.Element.line=function(e){this.base=t.Element.PathElementBase,this.base(e),this.getPoints=function(){return[new t.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new t.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(e){var n=this.getPoints();return null!=e&&(e.beginPath(),e.moveTo(n[0].x,n[0].y),e.lineTo(n[1].x,n[1].y)),new t.BoundingBox(n[0].x,n[0].y,n[1].x,n[1].y)},this.getMarkers=function(){var e=this.getPoints(),t=e[0].angleTo(e[1]);return[[e[0],t],[e[1],t]]}},t.Element.line.prototype=new t.Element.PathElementBase,t.Element.polyline=function(e){this.base=t.Element.PathElementBase,this.base(e),this.points=t.CreatePath(this.attribute("points").value),this.path=function(e){var n=new t.BoundingBox(this.points[0].x,this.points[0].y);null!=e&&(e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y));for(var i=1;i<this.points.length;i++)n.addPoint(this.points[i].x,this.points[i].y),null!=e&&e.lineTo(this.points[i].x,this.points[i].y);return n},this.getMarkers=function(){for(var e=[],t=0;t<this.points.length-1;t++)e.push([this.points[t],this.points[t].angleTo(this.points[t+1])]);return e.length>0&&e.push([this.points[this.points.length-1],e[e.length-1][1]]),e}},t.Element.polyline.prototype=new t.Element.PathElementBase,t.Element.polygon=function(e){this.base=t.Element.polyline,this.base(e),this.basePath=this.path,this.path=function(e){var t=this.basePath(e);return null!=e&&(e.lineTo(this.points[0].x,this.points[0].y),e.closePath()),t}},t.Element.polygon.prototype=new t.Element.polyline,t.Element.path=function(e){this.base=t.Element.PathElementBase,this.base(e);var n=this.attribute("d").value;n=n.replace(/,/gm," ");for(var i=0;i<2;i++)n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");n=n.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([0-9])([+\-])/gm,"$1 $2");for(i=0;i<2;i++)n=n.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");n=n.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),n=t.compressSpaces(n),n=t.trim(n),this.PathParser=new function(e){this.tokens=e.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new t.Point(0,0),this.control=new t.Point(0,0),this.current=new t.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return!!this.isEnd()||null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var e=new t.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(e)},this.getAsControlPoint=function(){var e=this.getPoint();return this.control=e,e},this.getAsCurrentPoint=function(){var e=this.getPoint();return this.current=e,e},this.getReflectedControlPoint=function(){if("c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase())return this.current;var e=new t.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return e},this.makeAbsolute=function(e){return this.isRelativeCommand()&&(e.x+=this.current.x,e.y+=this.current.y),e},this.addMarker=function(e,t,n){null!=n&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(n)),this.addMarkerAngle(e,null==t?null:t.angleTo(e))},this.addMarkerAngle=function(e,t){this.points.push(e),this.angles.push(t)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var e=0;e<this.angles.length;e++)if(null==this.angles[e])for(var t=e+1;t<this.angles.length;t++)if(null!=this.angles[t]){this.angles[e]=this.angles[t];break}return this.angles}}(n),this.path=function(e){var n=this.PathParser;n.reset();var i=new t.BoundingBox;null!=e&&e.beginPath();while(!n.isEnd())switch(n.nextCommand(),n.command){case"M":case"m":var r=n.getAsCurrentPoint();n.addMarker(r),i.addPoint(r.x,r.y),null!=e&&e.moveTo(r.x,r.y),n.start=n.current;while(!n.isCommandOrEnd()){r=n.getAsCurrentPoint();n.addMarker(r,n.start),i.addPoint(r.x,r.y),null!=e&&e.lineTo(r.x,r.y)}break;case"L":case"l":while(!n.isCommandOrEnd()){var a=n.current;r=n.getAsCurrentPoint();n.addMarker(r,a),i.addPoint(r.x,r.y),null!=e&&e.lineTo(r.x,r.y)}break;case"H":case"h":while(!n.isCommandOrEnd()){var s=new t.Point((n.isRelativeCommand()?n.current.x:0)+n.getScalar(),n.current.y);n.addMarker(s,n.current),n.current=s,i.addPoint(n.current.x,n.current.y),null!=e&&e.lineTo(n.current.x,n.current.y)}break;case"V":case"v":while(!n.isCommandOrEnd()){s=new t.Point(n.current.x,(n.isRelativeCommand()?n.current.y:0)+n.getScalar());n.addMarker(s,n.current),n.current=s,i.addPoint(n.current.x,n.current.y),null!=e&&e.lineTo(n.current.x,n.current.y)}break;case"C":case"c":while(!n.isCommandOrEnd()){var o=n.current,l=n.getPoint(),u=n.getAsControlPoint(),c=n.getAsCurrentPoint();n.addMarker(c,u,l),i.addBezierCurve(o.x,o.y,l.x,l.y,u.x,u.y,c.x,c.y),null!=e&&e.bezierCurveTo(l.x,l.y,u.x,u.y,c.x,c.y)}break;case"S":case"s":while(!n.isCommandOrEnd()){o=n.current,l=n.getReflectedControlPoint(),u=n.getAsControlPoint(),c=n.getAsCurrentPoint();n.addMarker(c,u,l),i.addBezierCurve(o.x,o.y,l.x,l.y,u.x,u.y,c.x,c.y),null!=e&&e.bezierCurveTo(l.x,l.y,u.x,u.y,c.x,c.y)}break;case"Q":case"q":while(!n.isCommandOrEnd()){o=n.current,u=n.getAsControlPoint(),c=n.getAsCurrentPoint();n.addMarker(c,u,u),i.addQuadraticCurve(o.x,o.y,u.x,u.y,c.x,c.y),null!=e&&e.quadraticCurveTo(u.x,u.y,c.x,c.y)}break;case"T":case"t":while(!n.isCommandOrEnd()){o=n.current,u=n.getReflectedControlPoint();n.control=u;c=n.getAsCurrentPoint();n.addMarker(c,u,u),i.addQuadraticCurve(o.x,o.y,u.x,u.y,c.x,c.y),null!=e&&e.quadraticCurveTo(u.x,u.y,c.x,c.y)}break;case"A":case"a":while(!n.isCommandOrEnd()){o=n.current;var h=n.getScalar(),p=n.getScalar(),f=n.getScalar()*(Math.PI/180),m=n.getScalar(),d=n.getScalar(),g=(c=n.getAsCurrentPoint(),new t.Point(Math.cos(f)*(o.x-c.x)/2+Math.sin(f)*(o.y-c.y)/2,-Math.sin(f)*(o.x-c.x)/2+Math.cos(f)*(o.y-c.y)/2)),y=Math.pow(g.x,2)/Math.pow(h,2)+Math.pow(g.y,2)/Math.pow(p,2);y>1&&(h*=Math.sqrt(y),p*=Math.sqrt(y));var b=(m==d?-1:1)*Math.sqrt((Math.pow(h,2)*Math.pow(p,2)-Math.pow(h,2)*Math.pow(g.y,2)-Math.pow(p,2)*Math.pow(g.x,2))/(Math.pow(h,2)*Math.pow(g.y,2)+Math.pow(p,2)*Math.pow(g.x,2)));isNaN(b)&&(b=0);var v=new t.Point(b*h*g.y/p,b*-p*g.x/h),w=new t.Point((o.x+c.x)/2+Math.cos(f)*v.x-Math.sin(f)*v.y,(o.y+c.y)/2+Math.sin(f)*v.x+Math.cos(f)*v.y),x=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},E=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(x(e)*x(t))},C=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(E(e,t))},A=C([1,0],[(g.x-v.x)/h,(g.y-v.y)/p]),P=[(g.x-v.x)/h,(g.y-v.y)/p],N=[(-g.x-v.x)/h,(-g.y-v.y)/p],S=C(P,N);E(P,N)<=-1&&(S=Math.PI),E(P,N)>=1&&(S=0);var R=1-d?1:-1,k=A+R*(S/2),T=new t.Point(w.x+h*Math.cos(k),w.y+p*Math.sin(k));if(n.addMarkerAngle(T,k-R*Math.PI/2),n.addMarkerAngle(c,k-R*Math.PI),i.addPoint(c.x,c.y),null!=e){E=h>p?h:p;var B=h>p?1:h/p,D=h>p?p/h:1;e.translate(w.x,w.y),e.rotate(f),e.scale(B,D),e.arc(0,0,E,A,A+S,1-d),e.scale(1/B,1/D),e.rotate(-f),e.translate(-w.x,-w.y)}}break;case"Z":case"z":null!=e&&e.closePath(),n.current=n.start}return i},this.getMarkers=function(){for(var e=this.PathParser.getMarkerPoints(),t=this.PathParser.getMarkerAngles(),n=[],i=0;i<e.length;i++)n.push([e[i],t[i]]);return n}},t.Element.path.prototype=new t.Element.PathElementBase,t.Element.pattern=function(e){this.base=t.Element.ElementBase,this.base(e),this.createPattern=function(e,n){var i=this.attribute("width").toPixels("x",!0),r=this.attribute("height").toPixels("y",!0),a=new t.Element.svg;a.attributes["viewBox"]=new t.Property("viewBox",this.attribute("viewBox").value),a.attributes["width"]=new t.Property("width",i+"px"),a.attributes["height"]=new t.Property("height",r+"px"),a.attributes["transform"]=new t.Property("transform",this.attribute("patternTransform").value),a.children=this.children;var s=document.createElement("canvas");s.width=i,s.height=r;var o=s.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&o.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var l=-1;l<=1;l++)for(var u=-1;u<=1;u++)o.save(),a.attributes["x"]=new t.Property("x",l*s.width),a.attributes["y"]=new t.Property("y",u*s.height),a.render(o),o.restore();var c=e.createPattern(s,"repeat");return c}},t.Element.pattern.prototype=new t.Element.ElementBase,t.Element.marker=function(e){this.base=t.Element.ElementBase,this.base(e),this.baseRender=this.render,this.render=function(e,n,i){e.translate(n.x,n.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(i),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(e.lineWidth,e.lineWidth),e.save();var r=new t.Element.svg;r.attributes["viewBox"]=new t.Property("viewBox",this.attribute("viewBox").value),r.attributes["refX"]=new t.Property("refX",this.attribute("refX").value),r.attributes["refY"]=new t.Property("refY",this.attribute("refY").value),r.attributes["width"]=new t.Property("width",this.attribute("markerWidth").value),r.attributes["height"]=new t.Property("height",this.attribute("markerHeight").value),r.attributes["fill"]=new t.Property("fill",this.attribute("fill").valueOrDefault("black")),r.attributes["stroke"]=new t.Property("stroke",this.attribute("stroke").valueOrDefault("none")),r.children=this.children,r.render(e),e.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(1/e.lineWidth,1/e.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(-i),e.translate(-n.x,-n.y)}},t.Element.marker.prototype=new t.Element.ElementBase,t.Element.defs=function(e){this.base=t.Element.ElementBase,this.base(e),this.render=function(e){}},t.Element.defs.prototype=new t.Element.ElementBase,t.Element.GradientBase=function(e){this.base=t.Element.ElementBase,this.base(e),this.stops=[];for(var n=0;n<this.children.length;n++){var i=this.children[n];"stop"==i.type&&this.stops.push(i)}this.getGradient=function(){},this.gradientUnits=function(){return this.attribute("gradientUnits").valueOrDefault("objectBoundingBox")},this.attributesToInherit=["gradientUnits"],this.inheritStopContainer=function(e){for(var t=0;t<this.attributesToInherit.length;t++){var n=this.attributesToInherit[t];!this.attribute(n).hasValue()&&e.attribute(n).hasValue()&&(this.attribute(n,!0).value=e.attribute(n).value)}},this.createGradient=function(e,n,i){var r=this;this.getHrefAttribute().hasValue()&&(r=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(r));var a=function(e){if(i.hasValue()){var n=new t.Property("color",e);return n.addOpacity(i).value}return e},s=this.getGradient(e,n);if(null==s)return a(r.stops[r.stops.length-1].color);for(var o=0;o<r.stops.length;o++)s.addColorStop(r.stops[o].offset,a(r.stops[o].color));if(this.attribute("gradientTransform").hasValue()){var l=t.ViewPort.viewPorts[0],u=new t.Element.rect;u.attributes["x"]=new t.Property("x",-t.MAX_VIRTUAL_PIXELS/3),u.attributes["y"]=new t.Property("y",-t.MAX_VIRTUAL_PIXELS/3),u.attributes["width"]=new t.Property("width",t.MAX_VIRTUAL_PIXELS),u.attributes["height"]=new t.Property("height",t.MAX_VIRTUAL_PIXELS);var c=new t.Element.g;c.attributes["transform"]=new t.Property("transform",this.attribute("gradientTransform").value),c.children=[u];var h=new t.Element.svg;h.attributes["x"]=new t.Property("x",0),h.attributes["y"]=new t.Property("y",0),h.attributes["width"]=new t.Property("width",l.width),h.attributes["height"]=new t.Property("height",l.height),h.children=[c];var p=document.createElement("canvas");p.width=l.width,p.height=l.height;var f=p.getContext("2d");return f.fillStyle=s,h.render(f),f.createPattern(p,"no-repeat")}return s}},t.Element.GradientBase.prototype=new t.Element.ElementBase,t.Element.linearGradient=function(e){this.base=t.Element.GradientBase,this.base(e),this.attributesToInherit.push("x1"),this.attributesToInherit.push("y1"),this.attributesToInherit.push("x2"),this.attributesToInherit.push("y2"),this.getGradient=function(e,t){var n="objectBoundingBox"==this.gradientUnits()?t.getBoundingBox():null;this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var i="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),r="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),a="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),s="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return i==a&&r==s?null:e.createLinearGradient(i,r,a,s)}},t.Element.linearGradient.prototype=new t.Element.GradientBase,t.Element.radialGradient=function(e){this.base=t.Element.GradientBase,this.base(e),this.attributesToInherit.push("cx"),this.attributesToInherit.push("cy"),this.attributesToInherit.push("r"),this.attributesToInherit.push("fx"),this.attributesToInherit.push("fy"),this.getGradient=function(e,t){var n=t.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var i="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),r="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),a=i,s=r;this.attribute("fx").hasValue()&&(a="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(s="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var o="objectBoundingBox"==this.gradientUnits()?(n.width()+n.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return e.createRadialGradient(a,s,0,i,r,o)}},t.Element.radialGradient.prototype=new t.Element.GradientBase,t.Element.stop=function(e){this.base=t.Element.ElementBase,this.base(e),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),this.offset>1&&(this.offset=1);var n=this.style("stop-color",!0);""==n.value&&(n.value="#000"),this.style("stop-opacity").hasValue()&&(n=n.addOpacity(this.style("stop-opacity"))),this.color=n.value},t.Element.stop.prototype=new t.Element.ElementBase,t.Element.AnimateBase=function(e){this.base=t.Element.ElementBase,this.base(e),t.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var e=this.attribute("attributeType").value,t=this.attribute("attributeName").value;return"CSS"==e?this.parent.style(t,!0):this.parent.attribute(t,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(e){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"==this.attribute("repeatCount").value||"indefinite"==this.attribute("repeatDur").value)this.duration=0;else if("freeze"!=this.attribute("fill").valueOrDefault("remove")||this.frozen){if("remove"==this.attribute("fill").valueOrDefault("remove")&&!this.removed)return this.removed=!0,this.getProperty().value=this.parent.animationFrozen?this.parent.animationFrozenValue:this.initialValue,!0}else this.frozen=!0,this.parent.animationFrozen=!0,this.parent.animationFrozenValue=this.getProperty().value;return!1}this.duration=this.duration+e;var t=!1;if(this.begin<this.duration){var n=this.calcValue();if(this.attribute("type").hasValue()){var i=this.attribute("type").value;n=i+"("+n+")"}this.getProperty().value=n,t=!0}return t},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var e={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var n=e.progress*(this.values.value.length-1),i=Math.floor(n),r=Math.ceil(n);e.from=new t.Property("from",parseFloat(this.values.value[i])),e.to=new t.Property("to",parseFloat(this.values.value[r])),e.progress=(n-i)/(r-i)}else e.from=this.from,e.to=this.to;return e}},t.Element.AnimateBase.prototype=new t.Element.ElementBase,t.Element.animate=function(e){this.base=t.Element.AnimateBase,this.base(e),this.calcValue=function(){var e=this.progress(),t=e.from.numValue()+(e.to.numValue()-e.from.numValue())*e.progress;return t+this.initialUnits}},t.Element.animate.prototype=new t.Element.AnimateBase,t.Element.animateColor=function(e){this.base=t.Element.AnimateBase,this.base(e),this.calcValue=function(){var e=this.progress(),t=new i(e.from.value),n=new i(e.to.value);if(t.ok&&n.ok){var r=t.r+(n.r-t.r)*e.progress,a=t.g+(n.g-t.g)*e.progress,s=t.b+(n.b-t.b)*e.progress;return"rgb("+parseInt(r,10)+","+parseInt(a,10)+","+parseInt(s,10)+")"}return this.attribute("from").value}},t.Element.animateColor.prototype=new t.Element.AnimateBase,t.Element.animateTransform=function(e){this.base=t.Element.AnimateBase,this.base(e),this.calcValue=function(){for(var e=this.progress(),n=t.ToNumberArray(e.from.value),i=t.ToNumberArray(e.to.value),r="",a=0;a<n.length;a++)r+=n[a]+(i[a]-n[a])*e.progress+" ";return r}},t.Element.animateTransform.prototype=new t.Element.animate,t.Element.font=function(e){this.base=t.Element.ElementBase,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var n=0;n<this.children.length;n++){var i=this.children[n];"font-face"==i.type?(this.fontFace=i,i.style("font-family").hasValue()&&(t.Definitions[i.style("font-family").value]=this)):"missing-glyph"==i.type?this.missingGlyph=i:"glyph"==i.type&&(""!=i.arabicForm?(this.isRTL=!0,this.isArabic=!0,"undefined"==typeof this.glyphs[i.unicode]&&(this.glyphs[i.unicode]=[]),this.glyphs[i.unicode][i.arabicForm]=i):this.glyphs[i.unicode]=i)}},t.Element.font.prototype=new t.Element.ElementBase,t.Element.fontface=function(e){this.base=t.Element.ElementBase,this.base(e),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},t.Element.fontface.prototype=new t.Element.ElementBase,t.Element.missingglyph=function(e){this.base=t.Element.path,this.base(e),this.horizAdvX=0},t.Element.missingglyph.prototype=new t.Element.path,t.Element.glyph=function(e){this.base=t.Element.path,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},t.Element.glyph.prototype=new t.Element.path,t.Element.text=function(e){this.captureTextNodes=!0,this.base=t.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e);var t=this.style("dominant-baseline").toTextBaseline();null==t&&(t=this.style("alignment-baseline").toTextBaseline()),null!=t&&(e.textBaseline=t)},this.getBoundingBox=function(){var e=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),i=this.parent.style("font-size").numValueOrDefault(t.Font.Parse(t.ctx.font).fontSize);return new t.BoundingBox(e,n-i,e+Math.floor(2*i/3)*this.children[0].getText().length,n)},this.renderChildren=function(e){this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y"),this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),this.x+=this.getAnchorDelta(e,this,0);for(var t=0;t<this.children.length;t++)this.renderChild(e,this,this,t)},this.getAnchorDelta=function(e,t,n){var i=this.style("text-anchor").valueOrDefault("start");if("start"!=i){for(var r=0,a=n;a<t.children.length;a++){var s=t.children[a];if(a>n&&s.attribute("x").hasValue())break;r+=s.measureTextRecursive(e)}return-1*("end"==i?r:r/2)}return 0},this.renderChild=function(e,t,n,i){var r=n.children[i];r.attribute("x").hasValue()?(r.x=r.attribute("x").toPixels("x")+t.getAnchorDelta(e,n,i),r.attribute("dx").hasValue()&&(r.x+=r.attribute("dx").toPixels("x"))):(r.attribute("dx").hasValue()&&(t.x+=r.attribute("dx").toPixels("x")),r.x=t.x),t.x=r.x+r.measureText(e),r.attribute("y").hasValue()?(r.y=r.attribute("y").toPixels("y"),r.attribute("dy").hasValue()&&(r.y+=r.attribute("dy").toPixels("y"))):(r.attribute("dy").hasValue()&&(t.y+=r.attribute("dy").toPixels("y")),r.y=t.y),t.y=r.y,r.render(e);for(i=0;i<r.children.length;i++)t.renderChild(e,t,r,i)}},t.Element.text.prototype=new t.Element.RenderedElementBase,t.Element.TextElementBase=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.getGlyph=function(e,t,n){var i=t[n],r=null;if(e.isArabic){var a="isolated";(0==n||" "==t[n-1])&&n<t.length-2&&" "!=t[n+1]&&(a="terminal"),n>0&&" "!=t[n-1]&&n<t.length-2&&" "!=t[n+1]&&(a="medial"),n>0&&" "!=t[n-1]&&(n==t.length-1||" "==t[n+1])&&(a="initial"),"undefined"!=typeof e.glyphs[i]&&(r=e.glyphs[i][a],null==r&&"glyph"==e.glyphs[i].type&&(r=e.glyphs[i]))}else r=e.glyphs[i];return null==r&&(r=e.missingGlyph),r},this.renderChildren=function(e){var n=this.parent.style("font-family").getDefinition();if(null==n)""!=e.fillStyle&&e.fillText(t.compressSpaces(this.getText()),this.x,this.y),""!=e.strokeStyle&&e.strokeText(t.compressSpaces(this.getText()),this.x,this.y);else{var i=this.parent.style("font-size").numValueOrDefault(t.Font.Parse(t.ctx.font).fontSize),r=this.parent.style("font-style").valueOrDefault(t.Font.Parse(t.ctx.font).fontStyle),a=this.getText();n.isRTL&&(a=a.split("").reverse().join(""));for(var s=t.ToNumberArray(this.parent.attribute("dx").value),o=0;o<a.length;o++){var l=this.getGlyph(n,a,o),u=i/n.fontFace.unitsPerEm;e.translate(this.x,this.y),e.scale(u,-u);var c=e.lineWidth;e.lineWidth=e.lineWidth*n.fontFace.unitsPerEm/i,"italic"==r&&e.transform(1,0,.4,1,0,0),l.render(e),"italic"==r&&e.transform(1,0,-.4,1,0,0),e.lineWidth=c,e.scale(1/u,-1/u),e.translate(-this.x,-this.y),this.x+=i*(l.horizAdvX||n.horizAdvX)/n.fontFace.unitsPerEm,"undefined"==typeof s[o]||isNaN(s[o])||(this.x+=s[o])}}},this.getText=function(){},this.measureTextRecursive=function(e){for(var t=this.measureText(e),n=0;n<this.children.length;n++)t+=this.children[n].measureTextRecursive(e);return t},this.measureText=function(e){var n=this.parent.style("font-family").getDefinition();if(null!=n){var i=this.parent.style("font-size").numValueOrDefault(t.Font.Parse(t.ctx.font).fontSize),r=0,a=this.getText();n.isRTL&&(a=a.split("").reverse().join(""));for(var s=t.ToNumberArray(this.parent.attribute("dx").value),o=0;o<a.length;o++){var l=this.getGlyph(n,a,o);r+=(l.horizAdvX||n.horizAdvX)*i/n.fontFace.unitsPerEm,"undefined"==typeof s[o]||isNaN(s[o])||(r+=s[o])}return r}var u=t.compressSpaces(this.getText());if(!e.measureText)return 10*u.length;e.save(),this.setContext(e);var c=e.measureText(u).width;return e.restore(),c}},t.Element.TextElementBase.prototype=new t.Element.RenderedElementBase,t.Element.tspan=function(e){this.captureTextNodes=!0,this.base=t.Element.TextElementBase,this.base(e),this.text=t.compressSpaces(e.value||e.text||e.textContent||""),this.getText=function(){return this.children.length>0?"":this.text}},t.Element.tspan.prototype=new t.Element.TextElementBase,t.Element.tref=function(e){this.base=t.Element.TextElementBase,this.base(e),this.getText=function(){var e=this.getHrefAttribute().getDefinition();if(null!=e)return e.children[0].getText()}},t.Element.tref.prototype=new t.Element.TextElementBase,t.Element.a=function(e){this.base=t.Element.TextElementBase,this.base(e),this.hasText=e.childNodes.length>0;for(var n=0;n<e.childNodes.length;n++)3!=e.childNodes[n].nodeType&&(this.hasText=!1);this.text=this.hasText?e.childNodes[0].value:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(e){if(this.hasText){this.baseRenderChildren(e);var n=new t.Property("fontSize",t.Font.Parse(t.ctx.font).fontSize);t.Mouse.checkBoundingBox(this,new t.BoundingBox(this.x,this.y-n.toPixels("y"),this.x+this.measureText(e),this.y))}else if(this.children.length>0){var i=new t.Element.g;i.children=this.children,i.parent=this,i.render(e)}},this.onclick=function(){window.open(this.getHrefAttribute().value)},this.onmousemove=function(){t.ctx.canvas.style.cursor="pointer"}},t.Element.a.prototype=new t.Element.TextElementBase,t.Element.image=function(e){this.base=t.Element.RenderedElementBase,this.base(e);var n=this.getHrefAttribute().value;if(""!=n){var i=n.match(/\.svg$/);if(t.Images.push(this),this.loaded=!1,i)this.img=t.ajax(n),this.loaded=!0;else{this.img=document.createElement("img"),1==t.opts["useCORS"]&&(this.img.crossOrigin="Anonymous");var r=this;this.img.onload=function(){r.loaded=!0},this.img.onerror=function(){t.log('ERROR: image "'+n+'" not found'),r.loaded=!0},this.img.src=n}this.renderChildren=function(e){var n=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y"),a=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y");0!=a&&0!=s&&(e.save(),i?e.drawSvg(this.img,n,r,a,s):(e.translate(n,r),t.AspectRatio(e,this.attribute("preserveAspectRatio").value,a,this.img.width,s,this.img.height,0,0),e.drawImage(this.img,0,0)),e.restore())},this.getBoundingBox=function(){var e=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y");return new t.BoundingBox(e,n,e+i,n+r)}}},t.Element.image.prototype=new t.Element.RenderedElementBase,t.Element.g=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.getBoundingBox=function(){for(var e=new t.BoundingBox,n=0;n<this.children.length;n++)e.addBoundingBox(this.children[n].getBoundingBox());return e}},t.Element.g.prototype=new t.Element.RenderedElementBase,t.Element.symbol=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.render=function(e){}},t.Element.symbol.prototype=new t.Element.RenderedElementBase,t.Element.style=function(e){this.base=t.Element.ElementBase,this.base(e);for(var n="",i=0;i<e.childNodes.length;i++)n+=e.childNodes[i].data;n=n.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,""),n=t.compressSpaces(n);var r=n.split("}");for(i=0;i<r.length;i++)if(""!=t.trim(r[i]))for(var a=r[i].split("{"),s=a[0].split(","),l=a[1].split(";"),u=0;u<s.length;u++){var c=t.trim(s[u]);if(""!=c){for(var h=t.Styles[c]||{},p=0;p<l.length;p++){var f=l[p].indexOf(":"),m=l[p].substr(0,f),d=l[p].substr(f+1,l[p].length-f);null!=m&&null!=d&&(h[t.trim(m)]=new t.Property(t.trim(m),t.trim(d)))}if(t.Styles[c]=h,t.StylesSpecificity[c]=o(c),"@font-face"==c)for(var g=h["font-family"].value.replace(/"/g,""),y=h["src"].value.split(","),b=0;b<y.length;b++)if(y[b].indexOf('format("svg")')>0)for(var v=y[b].indexOf("url"),w=y[b].indexOf(")",v),x=y[b].substr(v+5,w-v-6),E=t.parseXml(t.ajax(x)),C=E.getElementsByTagName("font"),A=0;A<C.length;A++){var P=t.CreateElement(C[A]);t.Definitions[g]=P}}}},t.Element.style.prototype=new t.Element.ElementBase,t.Element.use=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.attribute("x").hasValue()&&e.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&e.translate(0,this.attribute("y").toPixels("y"))};var n=this.getHrefAttribute().getDefinition();this.path=function(e){null!=n&&n.path(e)},this.getBoundingBox=function(){if(null!=n)return n.getBoundingBox()},this.renderChildren=function(e){if(null!=n){var i=n;"symbol"==n.type&&(i=new t.Element.svg,i.type="svg",i.attributes["viewBox"]=new t.Property("viewBox",n.attribute("viewBox").value),i.attributes["preserveAspectRatio"]=new t.Property("preserveAspectRatio",n.attribute("preserveAspectRatio").value),i.attributes["overflow"]=new t.Property("overflow",n.attribute("overflow").value),i.children=n.children),"svg"==i.type&&(this.attribute("width").hasValue()&&(i.attributes["width"]=new t.Property("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(i.attributes["height"]=new t.Property("height",this.attribute("height").value)));var r=i.parent;i.parent=null,i.render(e),i.parent=r}}},t.Element.use.prototype=new t.Element.RenderedElementBase,t.Element.mask=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(e,n){var i=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y"),a=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y");if(0==a&&0==s){for(var o=new t.BoundingBox,l=0;l<this.children.length;l++)o.addBoundingBox(this.children[l].getBoundingBox());i=Math.floor(o.x1),r=Math.floor(o.y1),a=Math.floor(o.width()),s=Math.floor(o.height())}var u=n.attribute("mask").value;n.attribute("mask").value="";var c=document.createElement("canvas");c.width=i+a,c.height=r+s;var h=c.getContext("2d");this.renderChildren(h);var p=document.createElement("canvas");p.width=i+a,p.height=r+s;var f=p.getContext("2d");n.render(f),f.globalCompositeOperation="destination-in",f.fillStyle=h.createPattern(c,"no-repeat"),f.fillRect(0,0,i+a,r+s),e.fillStyle=f.createPattern(p,"no-repeat"),e.fillRect(0,0,i+a,r+s),n.attribute("mask").value=u},this.render=function(e){}},t.Element.mask.prototype=new t.Element.ElementBase,t.Element.clipPath=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(e){var n=CanvasRenderingContext2D.prototype.beginPath;CanvasRenderingContext2D.prototype.beginPath=function(){};var i=CanvasRenderingContext2D.prototype.closePath;CanvasRenderingContext2D.prototype.closePath=function(){},n.call(e);for(var r=0;r<this.children.length;r++){var a=this.children[r];if("undefined"!=typeof a.path){var s=null;a.style("transform",!1,!0).hasValue()&&(s=new t.Transform(a.style("transform",!1,!0).value),s.apply(e)),a.path(e),CanvasRenderingContext2D.prototype.closePath=i,s&&s.unapply(e)}}i.call(e),e.clip(),CanvasRenderingContext2D.prototype.beginPath=n,CanvasRenderingContext2D.prototype.closePath=i},this.render=function(e){}},t.Element.clipPath.prototype=new t.Element.ElementBase,t.Element.filter=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(e,t){var n=t.getBoundingBox(),i=Math.floor(n.x1),r=Math.floor(n.y1),a=Math.floor(n.width()),s=Math.floor(n.height()),o=t.style("filter").value;t.style("filter").value="";for(var l=0,u=0,c=0;c<this.children.length;c++){var h=this.children[c].extraFilterDistance||0;l=Math.max(l,h),u=Math.max(u,h)}var p=document.createElement("canvas");p.width=a+2*l,p.height=s+2*u;var f=p.getContext("2d");f.translate(-i+l,-r+u),t.render(f);for(c=0;c<this.children.length;c++)"function"==typeof this.children[c].apply&&this.children[c].apply(f,0,0,a+2*l,s+2*u);e.drawImage(p,0,0,a+2*l,s+2*u,i-l,r-u,a+2*l,s+2*u),t.style("filter",!0).value=o},this.render=function(e){}},t.Element.filter.prototype=new t.Element.ElementBase,t.Element.feMorphology=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(e,t,n,i,r){}},t.Element.feMorphology.prototype=new t.Element.ElementBase,t.Element.feComposite=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(e,t,n,i,r){}},t.Element.feComposite.prototype=new t.Element.ElementBase,t.Element.feColorMatrix=function(e){this.base=t.Element.ElementBase,this.base(e);var n=t.ToNumberArray(this.attribute("values").value);switch(this.attribute("type").valueOrDefault("matrix")){case"saturate":var i=n[0];n=[.213+.787*i,.715-.715*i,.072-.072*i,0,0,.213-.213*i,.715+.285*i,.072-.072*i,0,0,.213-.213*i,.715-.715*i,.072+.928*i,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var r=n[0]*Math.PI/180,a=function(e,t,n){return e+Math.cos(r)*t+Math.sin(r)*n};n=[a(.213,.787,-.213),a(.715,-.715,-.715),a(.072,-.072,.928),0,0,a(.213,-.213,.143),a(.715,.285,.14),a(.072,-.072,-.283),0,0,a(.213,-.213,-.787),a(.715,-.715,.715),a(.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}function s(e,t,n,i,r,a){return e[n*i*4+4*t+a]}function o(e,t,n,i,r,a,s){e[n*i*4+4*t+a]=s}function l(e,t){var i=n[e];return i*(i<0?t-255:t)}this.apply=function(e,t,n,i,r){var a=e.getImageData(0,0,i,r);for(n=0;n<r;n++)for(t=0;t<i;t++){var u=s(a.data,t,n,i,r,0),c=s(a.data,t,n,i,r,1),h=s(a.data,t,n,i,r,2),p=s(a.data,t,n,i,r,3);o(a.data,t,n,i,r,0,l(0,u)+l(1,c)+l(2,h)+l(3,p)+l(4,1)),o(a.data,t,n,i,r,1,l(5,u)+l(6,c)+l(7,h)+l(8,p)+l(9,1)),o(a.data,t,n,i,r,2,l(10,u)+l(11,c)+l(12,h)+l(13,p)+l(14,1)),o(a.data,t,n,i,r,3,l(15,u)+l(16,c)+l(17,h)+l(18,p)+l(19,1))}e.clearRect(0,0,i,r),e.putImageData(a,0,0)}},t.Element.feColorMatrix.prototype=new t.Element.ElementBase,t.Element.feGaussianBlur=function(e){this.base=t.Element.ElementBase,this.base(e),this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue()),this.extraFilterDistance=this.blurRadius,this.apply=function(e,n,i,a,s){"undefined"!=typeof r.canvasRGBA?(e.canvas.id=t.UniqueId(),e.canvas.style.display="none",document.body.appendChild(e.canvas),r.canvasRGBA(e.canvas.id,n,i,a,s,this.blurRadius),document.body.removeChild(e.canvas)):t.log("ERROR: StackBlur.js must be included for blur to work")}},t.Element.feGaussianBlur.prototype=new t.Element.ElementBase,t.Element.title=function(e){},t.Element.title.prototype=new t.Element.ElementBase,t.Element.desc=function(e){},t.Element.desc.prototype=new t.Element.ElementBase,t.Element.MISSING=function(e){t.log("ERROR: Element '"+e.nodeName+"' not yet implemented.")},t.Element.MISSING.prototype=new t.Element.ElementBase,t.CreateElement=function(e){var n=e.nodeName.replace(/^[^:]+:/,"");n=n.replace(/\-/g,"");var i=null;return i="undefined"!=typeof t.Element[n]?new t.Element[n](e):new t.Element.MISSING(e),i.type=e.nodeName,i},t.load=function(e,n){t.loadXml(e,t.ajax(n))},t.loadXml=function(e,n){t.loadXmlDoc(e,t.parseXml(n))},t.loadXmlDoc=function(e,n){t.init(e);var i=function(t){var n=e.canvas;while(n)t.x-=n.offsetLeft,t.y-=n.offsetTop,n=n.offsetParent;return window.scrollX&&(t.x+=window.scrollX),window.scrollY&&(t.y+=window.scrollY),t};1!=t.opts["ignoreMouse"]&&(e.canvas.onclick=function(e){var n=i(new t.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));t.Mouse.onclick(n.x,n.y)},e.canvas.onmousemove=function(e){var n=i(new t.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));t.Mouse.onmousemove(n.x,n.y)});var r=t.CreateElement(n.documentElement);r.root=!0,r.addStylesFromStyleDefinition();var a=!0,s=function(){t.ViewPort.Clear(),e.canvas.parentNode&&t.ViewPort.SetCurrent(e.canvas.parentNode.clientWidth,e.canvas.parentNode.clientHeight),1!=t.opts["ignoreDimensions"]&&(r.style("width").hasValue()&&(e.canvas.width=r.style("width").toPixels("x"),e.canvas.style.width=e.canvas.width+"px"),r.style("height").hasValue()&&(e.canvas.height=r.style("height").toPixels("y"),e.canvas.style.height=e.canvas.height+"px"));var i=e.canvas.clientWidth||e.canvas.width,s=e.canvas.clientHeight||e.canvas.height;if(1==t.opts["ignoreDimensions"]&&r.style("width").hasValue()&&r.style("height").hasValue()&&(i=r.style("width").toPixels("x"),s=r.style("height").toPixels("y")),t.ViewPort.SetCurrent(i,s),null!=t.opts["offsetX"]&&(r.attribute("x",!0).value=t.opts["offsetX"]),null!=t.opts["offsetY"]&&(r.attribute("y",!0).value=t.opts["offsetY"]),null!=t.opts["scaleWidth"]||null!=t.opts["scaleHeight"]){var o=null,l=null,u=t.ToNumberArray(r.attribute("viewBox").value);null!=t.opts["scaleWidth"]&&(r.attribute("width").hasValue()?o=r.attribute("width").toPixels("x")/t.opts["scaleWidth"]:isNaN(u[2])||(o=u[2]/t.opts["scaleWidth"])),null!=t.opts["scaleHeight"]&&(r.attribute("height").hasValue()?l=r.attribute("height").toPixels("y")/t.opts["scaleHeight"]:isNaN(u[3])||(l=u[3]/t.opts["scaleHeight"])),null==o&&(o=l),null==l&&(l=o),r.attribute("width",!0).value=t.opts["scaleWidth"],r.attribute("height",!0).value=t.opts["scaleHeight"],r.style("transform",!0,!0).value+=" scale("+1/o+","+1/l+")"}1!=t.opts["ignoreClear"]&&e.clearRect(0,0,i,s),r.render(e),a&&(a=!1,"function"==typeof t.opts["renderCallback"]&&t.opts["renderCallback"](n))},o=!0;t.ImagesLoaded()&&(o=!1,s()),t.intervalID=setInterval((function(){var e=!1;if(o&&t.ImagesLoaded()&&(o=!1,e=!0),1!=t.opts["ignoreMouse"]&&(e|=t.Mouse.hasEvents()),1!=t.opts["ignoreAnimation"])for(var n=0;n<t.Animations.length;n++)e|=t.Animations[n].update(1e3/t.FRAMERATE);"function"==typeof t.opts["forceRedraw"]&&1==t.opts["forceRedraw"]()&&(e=!0),e&&(s(),t.Mouse.runEvents())}),1e3/t.FRAMERATE)},t.stop=function(){t.intervalID&&clearInterval(t.intervalID)},t.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(e,t){this.events.push({type:"onclick",x:e,y:t,run:function(e){e.onclick&&e.onclick()}})},this.onmousemove=function(e,t){this.events.push({type:"onmousemove",x:e,y:t,run:function(e){e.onmousemove&&e.onmousemove()}})},this.eventElements=[],this.checkPath=function(e,t){for(var n=0;n<this.events.length;n++){var i=this.events[n];t.isPointInPath&&t.isPointInPath(i.x,i.y)&&(this.eventElements[n]=e)}},this.checkBoundingBox=function(e,t){for(var n=0;n<this.events.length;n++){var i=this.events[n];t.isPointInBox(i.x,i.y)&&(this.eventElements[n]=e)}},this.runEvents=function(){t.ctx.canvas.style.cursor="";for(var e=0;e<this.events.length;e++){var n=this.events[e],i=this.eventElements[e];while(i)n.run(i),i=i.parent}this.events=[],this.eventElements=[]}},t}e.exports=a},"81cc":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("2909"),r=(n("d3b7"),n("159b"),n("0481"),n("4069"),n("6062"),n("3ca3"),n("ddb0"),n("d81d"),n("b0c0"),n("25f0"),n("fb6a"),n("8ae2"));function a(e){var t=[];return e.forEach((function(e){var n=!1,i=!1;if("isForCompensation"in e.bpmnElement&&1==e.bpmnElement.isForCompensation&&(i=!0),"bpmn:SubProcess"==e.bpmnElement.$type&&"triggeredByEvent"in e.bpmnElement&&1==e.bpmnElement.triggeredByEvent&&(n=!0),!("name"in e.bpmnElement)){var a={type:"info",id:e.bpmnElement.id,header:"Нет имени",description:"Укажите имя элемента",additionalInfo:"https://storm.bpmn2.ru/bpmn/goodStyle#allElements"};t.push(a)}var s=r.Tokens(e.bpmnElement.name),o=!1;if(s.done().forEach((function(e){" "!=e.toString()&&("ть"!=e.toString().slice(-2)&&"ти"!=e.toString().slice(-2)||(o=!0))})),0==o&&"bpmn:CallActivity"!=e.bpmnElement.$type){var l={type:"info",id:e.bpmnElement.id,header:"Используйте глагол в повелительном наклонении в названии задачи",description:"Задачи на диаграмме должны указывать исполнителю что делать",additionalInfo:""};t.push(l)}if(!("incoming"in e.bpmnElement)&&!n&&!i){var u={type:"error",id:e.bpmnElement.id,header:"Нет входящих потоков управления",description:"Должен быть хотя бы 1 входящий поток управления",additionalInfo:""};t.push(u)}if(!("outgoing"in e.bpmnElement)&&!n&&!i){var c={type:"info",id:e.bpmnElement.id,header:"Нет выходящих потоков управления",description:"Должен быть хотя бы 1 выходящий поток управления",additionalInfo:""};t.push(c)}if("outgoing"in e.bpmnElement&&e.bpmnElement.outgoing.forEach((function(e){if("conditionExpression"in e){var n={type:"warning",id:e.id,header:"Не используйте потоки управления по условию",description:"Замените их на развилки",additionalInfo:""};t.push(n)}})),"incoming"in e.bpmnElement&&1!=e.bpmnElement.incoming.length){var h={type:"info",id:e.bpmnElement.id,header:"Много входящих потоков",description:"Должен быть 1 входящий поток управления",additionalInfo:""};t.push(h)}if(!("incoming"in e.bpmnElement)&&!("outgoing"in e.bpmnElement)&&!n&&!i){var p={type:"error",id:e.bpmnElement.id,header:"Не соединено",description:"Элемент должен иметь входящий поток управления",additionalInfo:""};t.push(p)}if("outgoing"in e.bpmnElement&&1!=e.bpmnElement.outgoing.length){var f={type:"warning",id:e.bpmnElement.id,header:"Много выходящих потоков",description:"Должен быть 1 выходящий поток управления",additionalInfo:""};t.push(f)}})),t}function s(e){var t=[];return e.forEach((function(e){if("incoming"in e.bpmnElement&&e.bpmnElement.incoming.length>1){var n={type:"info",id:e.bpmnElement.id,header:"Много входящих потоков управления",description:"Должен быть 1 входящий поток управления в завершающее событие",additionalInfo:""};t.push(n)}})),t}function o(e){var t=[];return e.forEach((function(e){if("incoming"in e.bpmnElement&&!("outgoing"in e.bpmnElement)||!("incoming"in e.bpmnElement)&&"outgoing"in e.bpmnElement){var n={type:"error",id:e.bpmnElement.id,header:"Нет входящего и выходящего потока",description:"Промежуточное событие должно иметь входящий и выходящий поток",additionalInfo:""};t.push(n)}})),t}function l(e){var t=[];return e.forEach((function(e){var n=[];if("artifacts"in e.bpmnElement.$parent&&(n=e.bpmnElement.$parent.artifacts),!("outgoing"in e.bpmnElement)){var i={type:"error",id:e.bpmnElement.id,header:"Нет выходящего потока управления ",description:"Добавьте выходящий поток управления",additionalInfo:""};t.push(i)}if("eventDefinitions"in e.bpmnElement&&"bpmn:CompensateEventDefinition"==e.bpmnElement.eventDefinitions[0].$type&&n){var r={type:"error",id:e.bpmnElement.id,header:"Компесация не присоединена",description:"Соедините компенсацию с помощью ассоциации",additionalInfo:""};t.push(r)}})),t}function u(e){var t=[],n=[],i=[],r=[];return e.forEach((function(e){e.id.indexOf("End")>=0&&t.push(e),e.id.indexOf("Intermediate")>=0&&n.push(e),"bpmn:BoundaryEvent"==e.bpmnElement.$type&&r.push(e)})),r=r.flat(),t=t.flat(),n=n.flat(),e.forEach((function(e){if("outgoing"in e.bpmnElement&&1!=e.bpmnElement.outgoing.length){var t={type:"error",id:e.bpmnElement.id,header:"Много выходящих потоков",description:"Должен быть 1 выходящий поток управления",additionalInfo:""};i.push(t)}if(!("incoming"in e.bpmnElement)&&!("outgoing"in e.bpmnElement)&&"bpmn:BoundaryEvent"!=e.bpmnElement.$type){var n={type:"error",id:e.bpmnElement.id,header:"Не соединено",description:"Событие должно иметь входящий или исходящий поток управления",additionalInfo:""};i.push(n)}})),i.push(s(t)),i.push(o(n)),i.push(l(r)),i=i.flat(),i}function c(e){var t=[];return e.forEach((function(e){if(!("incoming"in e.bpmnElement)&&!("outgoing"in e.bpmnElement)||"incoming"in e.bpmnElement&&!("outgoing"in e.bpmnElement)||!("incoming"in e.bpmnElement)&&"outgoing"in e.bpmnElement){var n={type:"error",id:e.bpmnElement.id,header:"Не соединено",description:"Развилка должна иметь входящий и исходящий поток управления",additionalInfo:""};t.push(n)}if("outgoing"in e.bpmnElement&&e.bpmnElement.outgoing.length>1&&"incoming"in e.bpmnElement&&e.bpmnElement.incoming.length>1){var i={type:"warning",id:e.bpmnElement.id,header:"Не используйте одну развилку для сбора и разделения потоков",description:"Добавьте дополнительную развилку",additionalInfo:""};t.push(i)}if("outgoing"in e.bpmnElement&&1==e.bpmnElement.outgoing.length&&"incoming"in e.bpmnElement&&1==e.bpmnElement.incoming.length){var r={type:"error",id:e.bpmnElement.id,header:"1 входящий и 1 выходящий поток",description:"Откажитесь от развилки",additionalInfo:""};t.push(r)}if("outgoing"in e.bpmnElement&&e.bpmnElement.outgoing.length>1&&!("default"in e.bpmnElement)&&"bpmn:ParallelGateway"!=e.bpmnElement.$type&&"bpmn:EventBasedGateway"!=e.bpmnElement.$type){var a={type:"warning",id:e.bpmnElement.id,header:"Нет выходящего потока по-умолчанию",description:"Отметьте один из выходящих потоков как поток по-умолчанию",additionalInfo:""};t.push(a)}})),t}n("4de4");var h=[],p=[];function f(e,t,n){return h=[],p=n,t.flat().length<1&&e.forEach((function(e){m(e),"flowElements"in e&&e.flowElements.forEach((function(e){"bpmn:SubProcess"==e.$type&&m(e)}))})),t&&t.forEach((function(e){"processRef"in e&&(m(e),"flowElements"in e.processRef&&e.processRef.flowElements.forEach((function(e){"bpmn:SubProcess"==e.$type&&m(e)})))})),h}function m(e){var t=0,n=0,i="",r="",a=[];"bpmn:Process"!=e.$type&&"bpmn:SubProcess"!=e.$type||("flowElements"in e&&(t=e.flowElements.filter((function(e){return"bpmn:StartEvent"===e.$type})).length,n=e.flowElements.filter((function(e){return"bpmn:EndEvent"===e.$type})).length,i=e.flowElements.filter((function(e){return"bpmn:StartEvent"===e.$type}))[0],r=e.flowElements.filter((function(e){return"bpmn:EndEvent"===e.$type}))[0]),"flowElements"in e&&e.flowElements.forEach((function(e){(e.$type.indexOf("Task")>0||e.$type.indexOf("CallActivity")>0||e.$type.indexOf("SubProcess")>0)&&a.push(e)}))),"bpmn:Participant"==e.$type&&("flowElements"in e.processRef&&(t=e.processRef.flowElements.filter((function(e){return"bpmn:StartEvent"===e.$type})).length,n=e.processRef.flowElements.filter((function(e){return"bpmn:EndEvent"===e.$type})).length,i=e.processRef.flowElements.filter((function(e){return"bpmn:StartEvent"===e.$type}))[0],r=e.processRef.flowElements.filter((function(e){return"bpmn:EndEvent"===e.$type}))[0]),"flowElements"in e.processRef&&e.processRef.flowElements.forEach((function(e){(e.$type.indexOf("Task")>0||e.$type.indexOf("CallActivity")>0||e.$type.indexOf("SubProcess")>0)&&a.push(e)})));try{if(i["di"]=p.filter((function(e){return e.bpmnElement.id===i.id}))[0],r["di"]=p.filter((function(e){return e.bpmnElement.id===r.id}))[0],(t>0||n>0)&&0==a.length){var s={type:"error",id:e.id,header:"В процессе нет действий",description:"Добавьте хотя бы одно действие",additionalInfo:""};h.push(s)}if(t>1){var o={type:"info",id:e.id,header:"Несколько стартовых событий",description:"Замените на развилку",additionalInfo:""};h.push(o)}if(t<1&&n<1){var l={type:"error",id:e.id,header:"Хотя бы 1 стартовое и завершающее событие",description:"Добавьте события",additionalInfo:""};h.push(l)}if(i.di.bounds.y<r.di.bounds.y){var u={type:"warning",id:e.id,header:"Процесс сверху-вниз",description:"Процессы должен быть нарисован слева направо",additionalInfo:""};h.push(u)}if(i.di.bounds.x>r.di.bounds.x){var c={type:"warning",id:e.id,header:"Завершение левее старта",description:"Процесс должен быть нарисован слева направо",additionalInfo:""};h.push(c)}}catch(b){if("flowElements"in e){var f=null,m=null;if(e.flowElements.forEach((function(e){e.$type.indexOf("Start")>0&&(f=e),e.$type.indexOf("End")>0&&(m=e)})),!f){var d={type:"error",id:e.id,header:"Нет стартового события",description:"Должно быть хотя бы одно стартовое событие",additionalInfo:""};h.push(d)}if(!m){var g={type:"error",id:e.id,header:"Нет завершающего события",description:"Должно быть хотя бы одно завершающее событие",additionalInfo:""};h.push(g)}}else{var y={type:"error",id:e.id,header:"В процессе пусто",description:"Добавьте стартовое событие, задачу и завершающее событие",additionalInfo:""};h.push(y)}}}function d(e){var t=[];return e.forEach((function(e){var n={type:"info",id:e.bpmnElement.id,header:"Не используйте дорожки",description:"",additionalInfo:""};t.push(n)})),t}function g(e){var t=[],n=[],r=[],s=[],o=[],l=[],h=[],p=[],m=[];t=e.diagrams[0].plane.planeElement,e.rootElements.forEach((function(e){"bpmn:Process"==e.$type&&p.push(e)})),"participants"in e.rootElements[0]&&e.rootElements[0].participants.forEach((function(e){m.push(e)})),e.diagrams.forEach((function(e){e.plane.planeElement.forEach((function(e){(e.bpmnElement.$type.indexOf("Task")>0||e.bpmnElement.$type.indexOf("CallActivity")>0||e.bpmnElement.$type.indexOf("SubProcess")>0)&&n.push(e),e.bpmnElement.$type.indexOf("Gateway")>0&&r.push(e),e.bpmnElement.$type.indexOf("Event")>0&&-1==e.bpmnElement.$type.indexOf("Gateway")&&s.push(e),e.bpmnElement.$type.indexOf("Lane")>0&&o.push(e)}))}));var g=f(p,m,t),y=a(n),b=u(s),v=c(r),w=d(o);l.push(y),l.push(b),l.push(v),l.push(g),l.push(w),l=l.flat(),h=Object(i["a"])(new Set(l.map((function(e){return e.id}))));var x=[];return h.forEach((function(e){var t={id:e,lintElements:[]};l.forEach((function(n){n.id==e&&t.lintElements.push(n)})),x.push(t)})),x}},8475:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return h}));var i=n("87f2");function r(){}function a(e,t){this.model=e,this.properties=t}r.prototype.get=function(e){return this.$model.properties.get(this,e)},r.prototype.set=function(e,t){this.$model.properties.set(this,e,t)},a.prototype.createType=function(e){var t=this.model,n=this.properties,a=Object.create(r.prototype);Object(i["forEach"])(e.properties,(function(e){e.isMany||void 0===e.default||(a[e.name]=e.default)})),n.defineModel(a,t),n.defineDescriptor(a,e);var s=e.ns.name;function o(e){n.define(this,"$type",{value:s,enumerable:!0}),n.define(this,"$attrs",{value:{}}),n.define(this,"$parent",{writable:!0}),Object(i["forEach"])(e,Object(i["bind"])((function(e,t){this.set(t,e)}),this))}return o.prototype=a,o.hasType=a.$instanceOf=this.model.hasType,n.defineModel(o,t),n.defineDescriptor(o,e),o};var s={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},o={String:function(e){return e},Boolean:function(e){return"true"===e},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e)}};function l(e,t){var n=o[e];return n?n(t):t}function u(e){return!!s[e]}function c(e){return!!o[e]}function h(e,t){var n,i,r=e.split(/:/);if(1===r.length)n=e,i=t;else{if(2!==r.length)throw new Error("expected <prefix:localName> or <localName>, got "+e);n=r[1],i=r[0]}return e=(i?i+":":"")+n,{name:e,prefix:i,localName:n}}function p(e){this.ns=e,this.name=e.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function f(e,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,Object(i["forEach"])(e,Object(i["bind"])(this.registerPackage,this))}function m(e,t,n){var i=t[n];if(i in e)throw new Error("package with "+n+" <"+i+"> already defined")}function d(e){this.model=e}function g(e){return"undefined"===typeof e}function y(e,t,n){Object.defineProperty(e,t.name,{enumerable:!t.isReference,writable:!0,value:n,configurable:!0})}function b(e){this.properties=new d(this),this.factory=new a(this,this.properties),this.registry=new f(e,this.properties),this.typeCache={}}p.prototype.build=function(){return Object(i["pick"])(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},p.prototype.addProperty=function(e,t,n){"boolean"===typeof t&&(n=t,t=void 0),this.addNamedProperty(e,!1!==n);var i=this.properties;void 0!==t?i.splice(t,0,e):i.push(e)},p.prototype.replaceProperty=function(e,t,n){var i=e.ns,r=this.properties,a=this.propertiesByName,s=e.name!==t.name;if(e.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+e.ns.name+">");this.setIdProperty(t,!1)}if(e.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(t,!1)}var o=r.indexOf(e);if(-1===o)throw new Error("property <"+i.name+"> not found in property list");r.splice(o,1),this.addProperty(t,n?void 0:o,s),a[i.name]=a[i.localName]=t},p.prototype.redefineProperty=function(e,t,n){var i=e.ns.prefix,r=t.split("#"),a=h(r[0],i),s=h(r[1],a.prefix).name,o=this.propertiesByName[s];if(!o)throw new Error("refined property <"+s+"> not found");this.replaceProperty(o,e,n),delete e.redefines},p.prototype.addNamedProperty=function(e,t){var n=e.ns,i=this.propertiesByName;t&&(this.assertNotDefined(e,n.name),this.assertNotDefined(e,n.localName)),i[n.name]=i[n.localName]=e},p.prototype.removeNamedProperty=function(e){var t=e.ns,n=this.propertiesByName;delete n[t.name],delete n[t.localName]},p.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e},p.prototype.setIdProperty=function(e,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+e.ns.name+">)");this.idProperty=e},p.prototype.assertNotDefined=function(e,t){var n=e.name,i=this.propertiesByName[n];if(i)throw new Error("property <"+n+"> already defined; override of <"+i.definedBy.ns.name+"#"+i.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")},p.prototype.hasProperty=function(e){return this.propertiesByName[e]},p.prototype.addTrait=function(e,t){var n=this.allTypesByName,r=this.allTypes,a=e.name;a in n||(Object(i["forEach"])(e.properties,Object(i["bind"])((function(n){n=Object(i["assign"])({},n,{name:n.ns.localName,inherited:t}),Object.defineProperty(n,"definedBy",{value:e});var r=n.replaces,a=n.redefines;r||a?this.redefineProperty(n,r||a,r):(n.isBody&&this.setBodyProperty(n),n.isId&&this.setIdProperty(n),this.addProperty(n))}),this)),r.push(e),n[a]=e)},f.prototype.getPackage=function(e){return this.packageMap[e]},f.prototype.getPackages=function(){return this.packages},f.prototype.registerPackage=function(e){e=Object(i["assign"])({},e);var t=this.packageMap;m(t,e,"prefix"),m(t,e,"uri"),Object(i["forEach"])(e.types,Object(i["bind"])((function(t){this.registerType(t,e)}),this)),t[e.uri]=t[e.prefix]=e,this.packages.push(e)},f.prototype.registerType=function(e,t){e=Object(i["assign"])({},e,{superClass:(e.superClass||[]).slice(),extends:(e.extends||[]).slice(),properties:(e.properties||[]).slice(),meta:Object(i["assign"])(e.meta||{})});var n=h(e.name,t.prefix),r=n.name,a={};Object(i["forEach"])(e.properties,Object(i["bind"])((function(e){var t=h(e.name,n.prefix),r=t.name;u(e.type)||(e.type=h(e.type,t.prefix).name),Object(i["assign"])(e,{ns:t,name:r}),a[r]=e}),this)),Object(i["assign"])(e,{ns:n,name:r,propertiesByName:a}),Object(i["forEach"])(e.extends,Object(i["bind"])((function(e){var t=this.typeMap[e];t.traits=t.traits||[],t.traits.push(r)}),this)),this.definePackage(e,t),this.typeMap[r]=e},f.prototype.mapTypes=function(e,t,n){var r=u(e.name)?{name:e.name}:this.typeMap[e.name],a=this;function s(e){return o(e,!0)}function o(n,i){var r=h(n,u(n)?"":e.prefix);a.mapTypes(r,t,i)}if(!r)throw new Error("unknown type <"+e.name+">");Object(i["forEach"])(r.superClass,n?s:o),t(r,!n),Object(i["forEach"])(r.traits,s)},f.prototype.getEffectiveDescriptor=function(e){var t=h(e),n=new p(t);this.mapTypes(t,(function(e,t){n.addTrait(e,t)}));var i=n.build();return this.definePackage(i,i.allTypes[i.allTypes.length-1].$pkg),i},f.prototype.definePackage=function(e,t){this.properties.define(e,"$pkg",{value:t})},d.prototype.set=function(e,t,n){var i=this.model.getPropertyDescriptor(e,t),r=i&&i.name;g(n)?i?delete e[r]:delete e.$attrs[t]:i?r in e?e[r]=n:y(e,i,n):e.$attrs[t]=n},d.prototype.get=function(e,t){var n=this.model.getPropertyDescriptor(e,t);if(!n)return e.$attrs[t];var i=n.name;return!e[i]&&n.isMany&&y(e,n,[]),e[i]},d.prototype.define=function(e,t,n){Object.defineProperty(e,t,n)},d.prototype.defineDescriptor=function(e,t){this.define(e,"$descriptor",{value:t})},d.prototype.defineModel=function(e,t){this.define(e,"$model",{value:t})},b.prototype.create=function(e,t){var n=this.getType(e);if(!n)throw new Error("unknown type <"+e+">");return new n(t)},b.prototype.getType=function(e){var t=this.typeCache,n=Object(i["isString"])(e)?e:e.ns.name,r=t[n];return r||(e=this.registry.getEffectiveDescriptor(n),r=t[n]=this.factory.createType(e)),r},b.prototype.createAny=function(e,t,n){var r=h(e),a={$type:e,$instanceOf:function(e){return e===this.$type}},s={name:e,isGeneric:!0,ns:{prefix:r.prefix,localName:r.localName,uri:t}};return this.properties.defineDescriptor(a,s),this.properties.defineModel(a,this),this.properties.define(a,"$parent",{enumerable:!1,writable:!0}),this.properties.define(a,"$instanceOf",{enumerable:!1,writable:!0}),Object(i["forEach"])(n,(function(e,t){Object(i["isObject"])(e)&&void 0!==e.value?a[e.name]=e.value:a[t]=e})),a},b.prototype.getPackage=function(e){return this.registry.getPackage(e)},b.prototype.getPackages=function(){return this.registry.getPackages()},b.prototype.getElementDescriptor=function(e){return e.$descriptor},b.prototype.hasType=function(e,t){void 0===t&&(t=e,e=this);var n=e.$model.getElementDescriptor(e);return t in n.allTypesByName},b.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]},b.prototype.getTypeDescriptor=function(e){return this.registry.typeMap[e]}},"87f2":function(e,t,n){"use strict";function i(e){return Array.prototype.concat.apply([],e)}n.r(t),n.d(t,"assign",(function(){return j})),n.d(t,"bind",(function(){return V})),n.d(t,"debounce",(function(){return L})),n.d(t,"ensureArray",(function(){return m})),n.d(t,"every",(function(){return E})),n.d(t,"filter",(function(){return b})),n.d(t,"find",(function(){return g})),n.d(t,"findIndex",(function(){return y})),n.d(t,"flatten",(function(){return i})),n.d(t,"forEach",(function(){return v})),n.d(t,"get",(function(){return z})),n.d(t,"groupBy",(function(){return R})),n.d(t,"has",(function(){return d})),n.d(t,"isArray",(function(){return u})),n.d(t,"isDefined",(function(){return o})),n.d(t,"isFunction",(function(){return p})),n.d(t,"isNil",(function(){return l})),n.d(t,"isNumber",(function(){return h})),n.d(t,"isObject",(function(){return c})),n.d(t,"isString",(function(){return f})),n.d(t,"isUndefined",(function(){return s})),n.d(t,"keys",(function(){return P})),n.d(t,"map",(function(){return A})),n.d(t,"matchPattern",(function(){return D})),n.d(t,"merge",(function(){return G})),n.d(t,"omit",(function(){return W})),n.d(t,"pick",(function(){return q})),n.d(t,"reduce",(function(){return x})),n.d(t,"set",(function(){return _})),n.d(t,"size",(function(){return N})),n.d(t,"some",(function(){return C})),n.d(t,"sortBy",(function(){return B})),n.d(t,"throttle",(function(){return U})),n.d(t,"unionBy",(function(){return T})),n.d(t,"uniqueBy",(function(){return k})),n.d(t,"values",(function(){return S})),n.d(t,"without",(function(){return w}));var r=Object.prototype.toString,a=Object.prototype.hasOwnProperty;function s(e){return void 0===e}function o(e){return void 0!==e}function l(e){return null==e}function u(e){return"[object Array]"===r.call(e)}function c(e){return"[object Object]"===r.call(e)}function h(e){return"[object Number]"===r.call(e)}function p(e){var t=r.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t||"[object Proxy]"===t}function f(e){return"[object String]"===r.call(e)}function m(e){if(!u(e))throw new Error("must supply array")}function d(e,t){return a.call(e,t)}function g(e,t){var n;return t=O(t),v(e,(function(e,i){if(t(e,i))return n=e,!1})),n}function y(e,t){t=O(t);var n=u(e)?-1:void 0;return v(e,(function(e,i){if(t(e,i))return n=i,!1})),n}function b(e,t){var n=[];return v(e,(function(e,i){t(e,i)&&n.push(e)})),n}function v(e,t){var n,i;if(!s(e)){var r=u(e)?F:I;for(var a in e)if(d(e,a)&&(n=e[a],i=t(n,r(a)),!1===i))return n}}function w(e,t){return s(e)?[]:(m(e),t=O(t),e.filter((function(e,n){return!t(e,n)})))}function x(e,t,n){return v(e,(function(e,i){n=t(n,e,i)})),n}function E(e,t){return!!x(e,(function(e,n,i){return e&&t(n,i)}),!0)}function C(e,t){return!!g(e,t)}function A(e,t){var n=[];return v(e,(function(e,i){n.push(t(e,i))})),n}function P(e){return e&&Object.keys(e)||[]}function N(e){return P(e).length}function S(e){return A(e,(function(e){return e}))}function R(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=M(t),v(e,(function(e){var i=t(e)||"_",r=n[i];r||(r=n[i]=[]),r.push(e)})),n}function k(e){e=M(e);for(var t={},n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];v(i,(function(n){return R(n,e,t)}));var a=A(t,(function(e,t){return e[0]}));return a}var T=k;function B(e,t){t=M(t);var n=[];return v(e,(function(e,i){for(var r=t(e,i),a={d:r,v:e},s=0;s<n.length;s++){var o=n[s].d;if(r<o)return void n.splice(s,0,a)}n.push(a)})),A(n,(function(e){return e.v}))}function D(e){return function(t){return E(e,(function(e,n){return t[n]===e}))}}function M(e){return p(e)?e:function(t){return t[e]}}function O(e){return p(e)?e:function(t){return t===e}}function I(e){return e}function F(e){return Number(e)}function L(e,t){var n,i,r,a;function s(n){var s=Date.now(),u=n?0:a+t-s;if(u>0)return o(u);e.apply(r,i),l()}function o(e){n=setTimeout(s,e)}function l(){n&&clearTimeout(n),n=a=i=r=void 0}function u(){n&&s(!0),l()}function c(){a=Date.now();for(var e=arguments.length,s=new Array(e),l=0;l<e;l++)s[l]=arguments[l];i=s,r=this,n||o(t)}return c.flush=u,c.cancel=l,c}function U(e,t){var n=!1;return function(){n||(e.apply(void 0,arguments),n=!0,setTimeout((function(){n=!1}),t))}}function V(e,t){return e.bind(t)}function $(){return $=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$.apply(this,arguments)}function j(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return $.apply(void 0,[e].concat(n))}function _(e,t,n){var i=e;return v(t,(function(e,r){if("__proto__"===e)throw new Error("illegal key: __proto__");var a=t[r+1],u=i[e];o(a)&&l(u)&&(u=i[e]=isNaN(+a)?{}:[]),s(a)?s(n)?delete i[e]:i[e]=n:i=u})),e}function z(e,t,n){var i=e;return v(t,(function(e){if(l(i))return i=void 0,!1;i=i[e]})),s(i)?n:i}function q(e,t){var n={},i=Object(e);return v(t,(function(t){t in i&&(n[t]=e[t])})),n}function W(e,t){var n={},i=Object(e);return v(i,(function(e,i){-1===t.indexOf(i)&&(n[i]=e)})),n}function G(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.length?(v(n,(function(t){t&&c(t)&&v(t,(function(t,n){if("__proto__"!==n){var i=e[n];c(t)?(c(i)||(i={}),e[n]=G(i,t)):e[n]=t}}))})),e):e}},"8ae2":function(e,t,n){(function(t){(function(t,n){e.exports=n()})(0,(function(){"use strict";var e=n("3e8f"),t={load:function(t,n,i){if(e)e.readFile(t,{encoding:"json"==n?"utf8":null},(function(e,t){if(e)i(e);else if("json"==n)i(null,JSON.parse(t));else if("arraybuffer"==n)if(t.buffer)i(null,t.buffer);else{for(var r=new ArrayBuffer(t.length),a=new Uint8Array(r),s=0;s<t.length;++s)a[s]=t[s];i(null,r)}else i(new Error("Unknown responseType"))}));else{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType=n,r.onload=function(e){r.response&&i&&i(null,r.response)},r.send(null)}},extend:function(){for(var e={},t=0;t<arguments.length;t++)for(var n in arguments[t])e[n]=arguments[t][n];return e}};return t})),function(t,n){(e.exports=e.exports||{})&&(e.exports.DAWG=n(e.exports))}(0,(function(e){"use strict";var t=0,n=-1,i=4294967295,r=256,a=512,s=1<<31,o={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,127:127,1027:129,8225:135,1046:198,8222:132,1047:199,1168:165,1048:200,1113:154,1049:201,1045:197,1050:202,1028:170,160:160,1040:192,1051:203,164:164,166:166,167:167,169:169,171:171,172:172,173:173,174:174,1053:205,176:176,177:177,1114:156,181:181,182:182,183:183,8221:148,187:187,1029:189,1056:208,1057:209,1058:210,8364:136,1112:188,1115:158,1059:211,1060:212,1030:178,1061:213,1062:214,1063:215,1116:157,1064:216,1065:217,1031:175,1066:218,1067:219,1068:220,1069:221,1070:222,1032:163,8226:149,1071:223,1072:224,8482:153,1073:225,8240:137,1118:162,1074:226,1110:179,8230:133,1075:227,1033:138,1076:228,1077:229,8211:150,1078:230,1119:159,1079:231,1042:194,1080:232,1034:140,1025:168,1081:233,1082:234,8212:151,1083:235,1169:180,1084:236,1052:204,1085:237,1035:142,1086:238,1087:239,1088:240,1089:241,1090:242,1036:141,1041:193,1091:243,1092:244,8224:134,1093:245,8470:185,1094:246,1054:206,1095:247,1096:248,8249:139,1097:249,1098:250,1044:196,1099:251,1111:191,1055:207,1100:252,1038:161,8220:147,1101:253,8250:155,1102:254,8216:145,1103:255,1043:195,1105:184,1039:143,1026:128,1106:144,8218:130,1107:131,8217:146,1108:186,1109:190},l={};for(var u in o)l[o[u]]=String.fromCharCode(u),delete l[0],delete l[1];var c={"й":"ёцыф","ц":"йфыву","у":"цывак","к":"увапе","е":"капрн","н":"епрог","г":"нролш","ш":"голдщ","щ":"шлджз","з":"щджэх-","х":"зжэъ-","ъ":"хэ-ё","ф":"йцычяё","ы":"йцувсчяф","в":"цукамсчы","а":"укепимсв","п":"кенртима","р":"енгоьтип","о":"нгшлбьтр","л":"гшщдюбьо","д":"шщзжюбл","ж":"щзхэюд","э":"зхъжё","ё":"йфяъэ","я":"ёфыч","ч":"яфывс","с":"чывам","м":"свапи","и":"мапрт","т":"ипроь","ь":"тролб","б":"ьолдю","ю":"блдж",1:"ёйц",2:"йцу",3:"цук",4:"уке",5:"кен",6:"енг",7:"нгш",8:"гшщ",9:"шщз",0:"щзх-","-":"зхъ","=":"-хъ","\\":"ъэ",".":"южэ"};function h(e){return e>>10<<((e&a)>>6)&i}function p(e){return e&(255|s)&i}function f(e){return 0!=(e&r&i)}function m(e){return e&~s&i}var d=function(e,t,n){this.units=e,this.guide=t,this.format=n};return d.fromArrayBuffer=function(e,t){var n=new DataView(e),i=n.getUint32(0,!0),r=n.getUint32(4*i+4,!0);return new d(new Uint32Array(e,4,i),new Uint8Array(e,4*i+8,2*r),t)},d.load=function(t,n,i){e.load(t,"arraybuffer",(function(e,t){i(e,e?null:d.fromArrayBuffer(t,n))}))},d.prototype.followByte=function(e,t){var r=h(this.units[t]),a=(t^r^255&e)&i;return p(this.units[a])!=(255&e)?n:a},d.prototype.followString=function(e,i){i=i||t;for(var r=0;r<e.length;r++){var a=e.charCodeAt(r);if(!(a in o))return n;if(i=this.followByte(o[a],i),i==n)return n}return i},d.prototype.hasValue=function(e){return f(this.units[e])},d.prototype.value=function(e){var t=h(this.units[e]),n=(e^t)&i;return m(this.units[n])},d.prototype.find=function(e){var t=this.followString(e);return t==n?n:this.hasValue(t)?this.value(t):n},d.prototype.iterateAll=function(e){var i=[],r=[e],a=[],s=t;while(1){if(e=r[r.length-1],s!=t)if(o=this.guide[e<<1],o){if(e=this.followByte(o,e),e==n)return i;a.push(o),r.push(e)}else do{if(o=this.guide[1+(e<<1)],a.pop(),r.pop(),!r.length)return i;if(e=r[r.length-1],o){if(e=this.followByte(o,e),e==n)return i;a.push(o),r.push(e)}}while(!o);while(!this.hasValue(e)){var o=this.guide[e<<1];if(e=this.followByte(o,e),e==n)return i;a.push(o),r.push(e)}"words"==this.format?i.push([((1^a[0])<<6)+(a[1]>>1),((1^a[2])<<6)+(a[3]>>1)]):"probs"==this.format?i.push([((1^a[0])<<6)+(a[1]>>1),((1^a[2])<<6)+(a[3]>>1),((1^a[4])<<6)+(a[5]>>1)]):i.push(a.slice()),s=e}},d.prototype.findAll=function(e,i,r,a){a=a||0,r=r||0;var s,u,h,p,f,m,d,g=[],y=[["",0,0,0,t]];while(y.length)if(s=y.pop(),u=s[4],d=s[3],m=s[2],h=s[1],s=s[0],h!=e.length){if(i&&e[h]in i&&(p=i[e[h]].charCodeAt(0),p in o&&(f=this.followByte(o[p],u),f!=n&&y.push([s+i[e[h]],h+1,m,d,f]))),m<a&&!d){y.push([s,h+1,m+1,d,u]);w=this.guide[u<<1];do{f=this.followByte(w,u),f!=n&&w in l&&y.push([s+l[w],h,m+1,d,f]),w=this.guide[1+(f<<1)]}while(f!=n);var b=c[e[h]];if(b)for(var v=0;v<b.length;v++)p=b.charCodeAt(v),p in o&&(f=this.followByte(o[p],u),f!=n&&y.push([s+b[v],h+1,m+1,d,f]));h<e.length-1&&(p=e.charCodeAt(h+1),p in o&&(f=this.followByte(o[p],u),f!=n&&(p=e.charCodeAt(h),p in o&&(f=this.followByte(o[p],f),f!=n&&y.push([s+e[h+1]+e[h],h+2,m+1,d,f])))))}if(p=e.charCodeAt(h),p in o&&(f=this.followByte(o[p],u),f!=n)){y.push([s+e[h],h+1,m,d,f]);while(d<r&&!m&&h<e.length-1){if(e[h]==e[h+1])y.push([s+e[h],h+2,m,d+1,f]),h++;else{if(!(h<e.length-2&&"-"==e[h+1]&&e[h]==e[h+2]))break;y.push([s+e[h],h+3,m,d+1,f]),h+=2}d++}}}else{if(m<a&&!d){var w=this.guide[u<<1];do{f=this.followByte(w,u),f!=n&&w in l&&y.push([s+l[w],h,m+1,d,f]),w=this.guide[1+(f<<1)]}while(f!=n)}if("int"==this.format){this.hasValue(u)&&g.push([s,this.value(u)]);continue}if(("words"==this.format||"probs"==this.format)&&(u=this.followByte(1,u),u==n))continue;g.push([s,this.iterateAll(u),d,m])}return g},d})),function(t,n){(e.exports=e.exports||{})&&(e.exports.Morph=n(e.exports))}(0,(function(e){"use strict";var n,i,r,a,s,o,l,u=new Array(3),c=["","по","наи"],h={ignoreCase:!1,replacements:{"е":"ё"},stutter:1/0,typos:0,parsers:["Dictionary?","AbbrName?","AbbrPatronymic","IntNumber","RealNumber","Punctuation","RomanNumber?","Latin","HyphenParticle","HyphenAdverb","HyphenWords","PrefixKnown","PrefixUnknown?","SuffixKnown?","Abbr"],forceParse:!1,normalizeScore:!0},p="АБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЭЮЯ",f=["-то","-ка","-таки","-де","-тко","-тка","-с","-ста"],m=["авиа","авто","аква","анти","анти-","антропо","архи","арт","арт-","астро","аудио","аэро","без","бес","био","вело","взаимо","вне","внутри","видео","вице-","вперед","впереди","гекто","гелио","гео","гетеро","гига","гигро","гипер","гипо","гомо","дву","двух","де","дез","дека","деци","дис","до","евро","за","зоо","интер","инфра","квази","квази-","кило","кино","контр","контр-","космо","космо-","крипто","лейб-","лже","лже-","макро","макси","макси-","мало","меж","медиа","медиа-","мега","мета","мета-","метео","метро","микро","милли","мини","мини-","моно","мото","много","мульти","нано","нарко","не","небез","недо","нейро","нео","низко","обер-","обще","одно","около","орто","палео","пан","пара","пента","пере","пиро","поли","полу","после","пост","пост-","порно","пра","пра-","пред","пресс-","противо","противо-","прото","псевдо","псевдо-","радио","разно","ре","ретро","ретро-","само","санти","сверх","сверх-","спец","суб","супер","супер-","супра","теле","тетра","топ-","транс","транс-","ультра","унтер-","штаб-","экзо","эко","эндо","эконом-","экс","экс-","экстра","экстра-","электро","энерго","этно"],d=[4,9],g=[],y=!1;function b(e){if("freeze"in Object){var t=Object.getOwnPropertyNames(e);return t.forEach((function(t){var n=e[t];"object"==typeof n&&null!==n&&b(n)})),Object.freeze(e)}}var v=function(e){var t,n=e.split(" ");this.stat=n[0].split(","),this.flex=n[1]?n[1].split(","):[];for(var i=0;i<2;i++)for(var r=this[["stat","flex"][i]],s=0;s<r.length;s++){var o=r[s];this[o]=!0;while(a[o]&&(t=a[o].parent))this[t]=o,o=t}"POST"in this&&(this.POS=this.POST)};function w(e,t){var n=new v(e);return n.ext=new v(t),b(n)}v.prototype.toString=function(){return(this.stat.join(",")+" "+this.flex.join(",")).trim()},v.prototype.matches=function(e,t){if(!t){if("[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<e.length;n++)if(!this[e[n]])return!1;return!0}for(var i in e)if("[object Array]"===Object.prototype.toString.call(e[i])){if(!e[i].indexOf(this[i]))return!1}else if(e[i]!=this[i])return!1;return!0}e instanceof E&&(e=e.tag);for(n=0;n<t.length;n++)if(e[t[n]]!=this[t[n]])return!1;return!0},v.prototype.isProductive=function(){return!(this.NUMR||this.NPRO||this.PRED||this.PREP||this.CONJ||this.PRCL||this.INTJ||this.Apro||this.NUMB||this.ROMN||this.LATN||this.PNCT||this.UNKN)},v.prototype.isCapitalized=function(){return this.Name||this.Surn||this.Patr||this.Geox||this.Init};var x=function(t,n){if(!y)throw new Error("Please call Az.Morph.init() before using this module.");n=n?e.extend(h,n):h;for(var r=[],a=!1,s=0;s<n.parsers.length;s++){var o=n.parsers[s],u="?"!=o[o.length-1];if(o=u?o:o.slice(0,-1),o in x.Parsers){for(var c=x.Parsers[o](t,n),p=0;p<c.length;p++)c[p].parser=o,c[p].stutterCnt||c[p].typosCnt||(a=!0);if(r=r.concat(c),a&&u)break}else console.warn('Parser "'+o+'" is not found. Skipping')}!r.length&&n.forceParse&&r.push(new E(t.toLocaleLowerCase(),l));var f=0;for(s=0;s<r.length;s++)if("Dictionary"==r[s].parser){var m=i.findAll(r[s]+":"+r[s].tag);m&&m[0]&&(r[s].score=m[0][1]/1e6*A(r[s].stutterCnt,r[s].typosCnt),f+=r[s].score)}if(n.normalizeScore){if(f>0)for(s=0;s<r.length;s++)"Dictionary"==r[s].parser&&(r[s].score/=f);f=0;for(s=0;s<r.length;s++)"Dictionary"!=r[s].parser&&(f+=r[s].score);if(f>0)for(s=0;s<r.length;s++)"Dictionary"!=r[s].parser&&(r[s].score/=f)}return r.sort((function(e,t){return t.score-e.score})),r};x.Parsers={};var E=function(e,t,n,i,r){this.word=e,this.tag=t,this.stutterCnt=i||0,this.typosCnt=r||0,this.score=n||0};function C(e,t,n){var i;if("auto"==n.typos){i=e.findAll(t,n.replacements,n.stutter,0);for(var r=0;r<d.length&&!i.length&&t.length>d[r];r++)i=e.findAll(t,n.replacements,n.stutter,r+1)}else i=e.findAll(t,n.replacements,n.stutter,n.typos);return i}function A(e,t){return Math.pow(.3,Math.min(e,1)+t)}E.prototype.normalize=function(e){return this.inflect(e?{POS:this.tag.POS}:0)},E.prototype.inflect=function(e,t){return this},E.prototype.pluralize=function(e){return this.tag.NOUN||this.tag.ADJF||this.tag.PRTF?("number"==typeof e&&(e%=100,e=e%10==0||e%10>4||e>4&&e<21?"many":e%10==1?"one":"few"),!this.tag.NOUN||this.tag.nomn||this.tag.accs?"one"==e?this.inflect(["sing",this.tag.nomn?"nomn":"accs"]):this.tag.NOUN&&"few"==e?this.inflect(["sing","gent"]):(this.tag.ADJF||this.tag.PRTF)&&this.tag.femn&&"few"==e?this.inflect(["plur","nomn"]):this.inflect(["plur","gent"]):this.inflect(["one"==e?"sing":"plur",this.tag.CAse])):this},E.prototype.matches=function(e,t){return this.tag.matches(e,t)},E.prototype.toString=function(){return this.word},E.prototype.log=function(){console.group(this.toString()),console.log("Stutter?",this.stutterCnt,"Typos?",this.typosCnt),console.log(this.tag.ext.toString()),console.groupEnd()};var P=function(e,t,n,i,r,a,l){this.word=e,this.paradigmIdx=t,this.paradigm=s[t],this.formIdx=n,this.formCnt=this.paradigm.length/3,this.tag=o[this.paradigm[this.formCnt+n]],this.stutterCnt=i||0,this.typosCnt=r||0,this.score=A(this.stutterCnt,this.typosCnt),this.prefix=a||"",this.suffix=l||""};P.prototype=Object.create(E.prototype),P.prototype.constructor=P,P.prototype.base=function(){return this._base?this._base:this._base=this.word.substring(c[this.paradigm[(this.formCnt<<1)+this.formIdx]].length,this.word.length-r[this.paradigm[this.formIdx]].length)},P.prototype.inflect=function(e,t){if(!t&&"number"===typeof e)return new P(c[this.paradigm[(this.formCnt<<1)+e]]+this.base()+r[this.paradigm[e]],this.paradigmIdx,e,0,0,this.prefix,this.suffix);for(var n=0;n<this.formCnt;n++)if(o[this.paradigm[this.formCnt+n]].matches(e,t))return new P(c[this.paradigm[(this.formCnt<<1)+n]]+this.base()+r[this.paradigm[n]],this.paradigmIdx,n,0,0,this.prefix,this.suffix);return!1},P.prototype.log=function(){console.group(this.toString()),console.log("Stutter?",this.stutterCnt,"Typos?",this.typosCnt),console.log(c[this.paradigm[(this.formCnt<<1)+this.formIdx]]+"|"+this.base()+"|"+r[this.paradigm[this.formIdx]]),console.log(this.tag.ext.toString());var e=this.normalize();console.log("=> ",e+" ("+e.tag.ext.toString()+")"),e=this.normalize(!0),console.log("=> ",e+" ("+e.tag.ext.toString()+")"),console.groupCollapsed("Все формы: "+this.formCnt);for(var t=0;t<this.formCnt;t++){var n=this.inflect(t);console.log(n+" ("+n.tag.ext.toString()+")")}console.groupEnd(),console.groupEnd()},P.prototype.toString=function(){if(this.prefix){var e=c[this.paradigm[(this.formCnt<<1)+this.formIdx]];return e+this.prefix+this.word.substr(e.length)+this.suffix}return this.word+this.suffix};var N=function(e,t){this.left=e,this.right=t,this.tag=t.tag,this.score=e.score*t.score*.8,this.stutterCnt=e.stutterCnt+t.stutterCnt,this.typosCnt=e.typosCnt+t.typosCnt,"formCnt"in t&&(this.formCnt=t.formCnt)};return N.prototype=Object.create(E.prototype),N.prototype.constructor=N,N.prototype.inflect=function(e,t){var n,i=this.right.inflect(e,t);return n=t||"number"!==typeof e?this.left.inflect(e,t):this.left.inflect(i.tag,["POST","NMbr","CAse","PErs","TEns"]),!(!n||!i)&&new N(n,i)},N.prototype.toString=function(){return this.left.word+"-"+this.right.word},g.push((function(){x.Parsers.Dictionary=function(e,t){var i=!t.ignoreCase&&e.length&&e[0].toLocaleLowerCase()!=e[0]&&e.substr(1).toLocaleUpperCase()!=e.substr(1);e=e.toLocaleLowerCase();for(var r=C(n,e,t),a=[],s=0;s<r.length;s++)for(var o=0;o<r[s][1].length;o++){var l=new P(r[s][0],r[s][1][o][0],r[s][1][o][1],r[s][2],r[s][3]);(t.ignoreCase||!l.tag.isCapitalized()||i)&&a.push(l)}return a};for(var e=[],t=0;t<=2;t++)for(var i=0;i<=5;i++)for(var r=0;r<=1;r++)e.push(w("NOUN,inan,"+["masc","femn","neut"][t]+",Fixd,Abbr "+["sing","plur"][r]+","+["nomn","gent","datv","accs","ablt","loct"][i],"СУЩ,неод,"+["мр","жр","ср"][t]+",0,аббр "+["ед","мн"][r]+","+["им","рд","дт","вн","тв","пр"][i]));x.Parsers.Abbr=function(t,n){if(t.length<2)return[];if(t.indexOf("-")>-1)return[];if(p.indexOf(t[0])>-1&&p.indexOf(t[t.length-1])>-1){for(var i=0,r=0;r<t.length;r++)p.indexOf(t[r])>-1&&i++;if(i<=5){var a=[];for(r=0;r<e.length;r++){var s=new E(t,e[r],.5);a.push(s)}return a}}if(!n.ignoreCase||t.length>5)return[];t=t.toLocaleUpperCase();for(r=0;r<t.length;r++)if(-1==p.indexOf(t[r]))return[];for(a=[],r=0;r<e.length;r++){s=new E(t,e[r],.2);a.push(s)}return a};var s=function(e,t){for(var n=[],i=0;i<=1;i++)for(var r=0;r<=5;r++)n.push(w("NOUN,anim,"+["masc","femn"][i]+",Sgtm,Name,Fixd,Abbr,Init sing,"+["nomn","gent","datv","accs","ablt","loct"][r],"СУЩ,од,"+["мр","жр"][i]+",sg,имя,0,аббр,иниц ед,"+["им","рд","дт","вн","тв","пр"][r]));return function(e,i){if(1!=e.length)return[];if(i.ignoreCase&&(e=e.toLocaleUpperCase()),-1==p.indexOf(e))return[];for(var r=[],a=0;a<n.length;a++){var s=new E(e,n[a],t);r.push(s)}return r}};x.Parsers.AbbrName=s(!1,.1),x.Parsers.AbbrPatronymic=s(!0,.1);var o=function(e,t,n){return function(n,i){return i.ignoreCase&&(n=n.toLocaleUpperCase()),n.length&&n.match(e)?[new E(n,t)]:[]}};a["NUMB"]=a["ЧИСЛО"]=a["ROMN"]=a["РИМ"]=a["LATN"]=a["ЛАТ"]=a["PNCT"]=a["ЗПР"]=a["UNKN"]=a["НЕИЗВ"]={parent:"POST"},x.Parsers.IntNumber=o(/^[−-]?[0-9]+$/,w("NUMB,intg","ЧИСЛО,цел"),.9),x.Parsers.RealNumber=o(/^[−-]?([0-9]*[.,][0-9]+)$/,w("NUMB,real","ЧИСЛО,вещ"),.9),x.Parsers.Punctuation=o(/^[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-.\/:;<=>?@\[\]^_`{|}~]+$/,w("PNCT","ЗПР"),.9),x.Parsers.RomanNumber=o(/^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$/,w("ROMN","РИМ"),.9),x.Parsers.Latin=o(/[A-Za-z\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u024f]$/,w("LATN","ЛАТ"),.9),x.Parsers.HyphenParticle=function(e,t){e=e.toLocaleLowerCase();for(var i=[],r=0;r<f.length;r++)if(e.substr(e.length-f[r].length)==f[r])for(var a=e.slice(0,-f[r].length),s=C(n,a,t),o=0;o<s.length;o++)for(var l=0;l<s[o][1].length;l++){var u=new P(s[o][0],s[o][1][l][0],s[o][1][l][1],s[o][2],s[o][3],"",f[r]);u.score*=.9,i.push(u)}return i};var h=w("ADVB","Н");x.Parsers.HyphenAdverb=function(e,t){if(e=e.toLocaleLowerCase(),e.length<5||"по-"!=e.substr(0,3))return[];for(var i=C(n,e.substr(3),t),r=[],a={},s=0;s<i.length;s++)if(!a[i[s][0]])for(var o=0;o<i[s][1].length;o++){var l=new P(i[s][0],i[s][1][o][0],i[s][1][o][1],i[s][2],i[s][3]);if(l.matches(["ADJF","sing","datv"])){a[i[s][0]]=!0,l=new E("по-"+i[s][0],h,.9*l.score,i[s][2],i[s][3]),r.push(l);break}}return r},x.Parsers.HyphenWords=function(e,t){e=e.toLocaleLowerCase();for(var n=0;n<m.length;n++)if("-"==m[n][m[n].length-1]&&e.substr(0,m[n].length)==m[n])return[];var i=[],r=e.split("-");if(2!=r.length||!r[0].length||!r[1].length){if(r.length>2)for(var a=r[r.length-1],s=x.Parsers.Dictionary(a,t),o=0;o<s.length;o++)s[o]instanceof P&&(s[o].score*=.2,s[o].prefix=e.substr(0,e.length-a.length-1)+"-",i.push(s[o]));return i}var l=x.Parsers.Dictionary(r[0],t);for(s=x.Parsers.Dictionary(r[1],t),n=0;n<l.length;n++)if(!l[n].tag.Abbr)for(o=0;o<s.length;o++)l[n].matches(s[o],["POST","NMbr","CAse","PErs","TEns"])&&(l[n].stutterCnt+s[o].stutterCnt>t.stutter||l[n].typosCnt+s[o].typosCnt>t.typos||i.push(new N(l[n],s[o])));for(o=0;o<s.length;o++)s[o]instanceof P&&(s[o].score*=.3,s[o].prefix=r[0]+"-",i.push(s[o]));return i},x.Parsers.PrefixKnown=function(e,t){var n=!t.ignoreCase&&e.length&&e[0].toLocaleLowerCase()!=e[0]&&e.substr(1).toLocaleUpperCase()!=e.substr(1);e=e.toLocaleLowerCase();for(var i=[],r=0;r<m.length;r++)if(!(e.length-m[r].length<3)&&e.substr(0,m[r].length)==m[r])for(var a=e.substr(m[r].length),s=x.Parsers.Dictionary(a,t),o=0;o<s.length;o++)s[o].tag.isProductive()&&(t.ignoreCase||!s[o].tag.isCapitalized()||n)&&(s[o].score*=.7,s[o].prefix=m[r],i.push(s[o]));return i},x.Parsers.PrefixUnknown=function(e,t){var n=!t.ignoreCase&&e.length&&e[0].toLocaleLowerCase()!=e[0]&&e.substr(1).toLocaleUpperCase()!=e.substr(1);e=e.toLocaleLowerCase();for(var i=[],r=1;r<=5;r++){if(e.length-r<3)break;for(var a=e.substr(r),s=x.Parsers.Dictionary(a,t),o=0;o<s.length;o++)s[o].tag.isProductive()&&(t.ignoreCase||!s[o].tag.isCapitalized()||n)&&(s[o].score*=.3,s[o].prefix=e.substr(0,r),i.push(s[o]))}return i},x.Parsers.SuffixKnown=function(e,t){if(e.length<4)return[];var n=!t.ignoreCase&&e.length&&e[0].toLocaleLowerCase()!=e[0]&&e.substr(1).toLocaleUpperCase()!=e.substr(1);e=e.toLocaleLowerCase();for(var i=[],r=1,a=[0,.2,.3,.4,.5,.6],s={},o=0;o<c.length;o++)if(!c[o].length||e.substr(0,c[o].length)==c[o])for(var l=e.substr(c[o].length),h=5;h>=r;h--)if(!(h>=l.length)){var p=l.substr(0,l.length-h),f=l.substr(l.length-h),m=u[o].findAll(f,t.replacements,0,0);if(m){for(var d=[],g=1,y=0;y<m.length;y++)for(var b=m[y][0],v=m[y][1],w=0;w<v.length;w++){var x=new P(c[o]+p+b,v[w][1],v[w][2]);if(x.tag.isProductive()&&(t.ignoreCase||!x.tag.isCapitalized()||n)){var E=x.toString()+":"+v[w][1]+":"+v[w][2];E in s||(g=Math.max(g,v[w][0]),x.score=v[w][0]*a[h],d.push(x),s[E]=!0)}}if(d.length>0){for(y=0;y<d.length;y++)d[y].score/=g;i=i.concat(d),r=Math.max(h-1,1)}}}return i},l=w("UNKN","НЕИЗВ")})),x.setDefaults=function(e){h=e},x.init=function(l,c){var h,p,f=0;function m(){if(!--f){o=Array(h.length);for(var e=0;e<h.length;e++)o[e]=new v(h[e]),o[e].ext=new v(p[e]);o=b(o);for(e=0;e<g.length;e++)g[e]();y=!0,c&&c(null,x)}}c||"function"!=typeof l||(c=l,l=t+"/../dicts"),f++,e.DAWG.load(l+"/words.dawg","words",(function(e,t){e?c(e):(n=t,m())}));for(var d=0;d<3;d++)(function(t){f++,e.DAWG.load(l+"/prediction-suffixes-"+t+".dawg","probs",(function(e,n){e?c(e):(u[t]=n,m())}))})(d);f++,e.DAWG.load(l+"/p_t_given_w.intdawg","int",(function(e,t){e?c(e):(i=t,m())})),f++,e.load(l+"/grammemes.json","json",(function(e,t){if(e)c(e);else{a={};for(var n=0;n<t.length;n++)a[t[n][0]]=a[t[n][2]]={parent:t[n][1],internal:t[n][0],external:t[n][2],externalFull:t[n][3]};m()}})),f++,e.load(l+"/gramtab-opencorpora-int.json","json",(function(e,t){e?c(e):(h=t,m())})),f++,e.load(l+"/gramtab-opencorpora-ext.json","json",(function(e,t){e?c(e):(p=t,m())})),f++,e.load(l+"/suffixes.json","json",(function(e,t){e?c(e):(r=t,m())})),f++,e.load(l+"/paradigms.array","arraybuffer",(function(e,t){if(e)c(e);else{var n=new Uint16Array(t),i=n[0],r=1;s=[];for(var a=0;a<i;a++){var o=n[r++];s.push(n.subarray(r,r+o)),r+=o}m()}}))},x})),function(t,n){(e.exports=e.exports||{})&&(e.exports.Syntax=n(e.exports))}(0,(function(e){"use strict";var t=function(){};return t})),function(t,n){(e.exports=e.exports||{})&&(e.exports.Tokens=n())}(0,(function(){"use strict";for(var e="ac|ad|ae|aero|af|ag|ai|al|am|ao|aq|ar|arpa|as|asia|at|au|aw|ax|az|ba|bb|be|bf|bg|bh|bi|biz|bj|bm|bo|br|bs|bt|bv|bw|by|bz|ca|cat|cc|cd|cf|cg|ch|ci|cl|cm|cn|co|com|coop|cr|cu|cv|cw|cx|cz|de|dj|dk|dm|do|dz|ec|edu|ee|eg|es|et|eu|fi|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gov|gp|gq|gr|gs|gt|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|info|int|io|iq|ir|is|it|je|jo|jobs|jp|kg|ki|km|kn|kp|kr|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mil|mk|ml|mn|mo|mobi|mp|mq|mr|ms|mt|mu|museum|mv|mw|mx|my|na|name|nc|ne|net|nf|ng|nl|no|nr|nu|nz|om|org|pa|pe|pf|ph|pk|pl|pm|pn|post|pr|pro|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tel|tf|tg|th|tj|tk|tl|tm|tn|to|tr|travel|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|yt|امارات|հայ|বাংলা|бел|中国|中國|الجزائر|مصر|ею|გე|ελ|香港|भारत|بھارت|భారత్|ભારત|ਭਾਰਤ|ভারত|இந்தியா|ایران|ايران|عراق|الاردن|한국|қаз|ලංකා|இலங்கை|المغرب|мкд|мон|澳門|澳门|مليسيا|عمان|پاکستان|پاكستان|فلسطين|срб|рф|قطر|السعودية|السعودیة|السعودیۃ|السعوديه|سودان|新加坡|சிங்கப்பூர்|سورية|سوريا|ไทย|تونس|台灣|台湾|臺灣|укр|اليمن|xxx|zm|aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|academy|accenture|accountant|accountants|aco|active|actor|adac|ads|adult|aeg|aetna|afamilycompany|afl|africa|africamagic|agakhan|agency|aig|aigo|airbus|airforce|airtel|akdn|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|aol|apartments|app|apple|aquarelle|arab|aramco|archi|army|art|arte|asda|associates|athleta|attorney|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aws|axa|azure|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bbc|bbt|bbva|bcg|bcn|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bharti|bible|bid|bike|bing|bingo|bio|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bms|bmw|bnl|bnpparibas|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|bradesco|bridgestone|broadway|broker|brother|brussels|budapest|bugatti|build|builders|business|buy|buzz|bzh|cab|cafe|cal|call|calvinklein|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|catering|catholic|cba|cbn|cbre|cbs|ceb|center|ceo|cern|cfa|cfd|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|coach|codes|coffee|college|cologne|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|corsica|country|coupon|coupons|courses|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cuisinella|cymru|cyou|dabur|dad|dance|date|dating|datsun|day|dclk|dds|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dnp|docs|dodge|dog|doha|domains|dot|download|drive|dstv|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dwg|earth|eat|edeka|education|email|emerck|emerson|energy|engineer|engineering|enterprises|epost|epson|equipment|ericsson|erni|esq|estate|esurance|etisalat|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|flickr|flights|flir|florist|flowers|flsmidth|fly|foo|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|gal|gallery|gallo|gallup|game|games|gap|garden|gbiz|gdn|gea|gent|genting|george|ggee|gift|gifts|gives|giving|glade|glass|gle|global|globo|gmail|gmbh|gmo|gmx|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gotv|grainger|graphics|gratis|green|gripe|group|guardian|gucci|guge|guide|guitars|guru|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hkt|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|host|hosting|hot|hoteles|hotmail|house|how|hsbc|htc|hughes|hyatt|hyundai|ibm|icbc|ice|icu|ieee|ifm|iinet|ikano|imamat|imdb|immo|immobilien|industries|infiniti|ing|ink|institute|insurance|insure|intel|international|intuit|investments|ipiranga|irish|iselect|ismaili|ist|istanbul|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|jeep|jetzt|jewelry|jio|jlc|jll|jmp|jnj|joburg|jot|joy|jpmorgan|jprs|juegos|juniper|kaufen|kddi|kerryhotels|kerrylogistics|kerryproperties|kfh|kia|kim|kinder|kindle|kitchen|kiwi|koeln|komatsu|kosher|kpmg|kpn|krd|kred|kuokgroup|kyknet|kyoto|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|ltd|ltda|lundbeck|lupin|luxe|luxury|macys|madrid|maif|maison|makeup|man|management|mango|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mcd|mcdonalds|mckinsey|med|media|meet|melbourne|meme|memorial|men|menu|meo|metlife|miami|microsoft|mini|mint|mit|mitsubishi|mlb|mls|mma|mnet|mobily|moda|moe|moi|mom|monash|money|monster|montblanc|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|msd|mtn|mtpc|mtr|multichoice|mutual|mutuelle|mzansimagic|nab|nadex|nagoya|naspers|nationwide|natura|navy|nba|nec|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nfl|ngo|nhk|nico|nike|nikon|ninja|nissan|nissay|nokia|northwesternmutual|norton|now|nowruz|nowtv|nra|nrw|ntt|nyc|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|organic|orientexpress|origins|osaka|otsuka|ott|ovh|page|pamperedchef|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|payu|pccw|pet|pfizer|pharmacy|philips|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|place|play|playstation|plumbing|plus|pnc|pohl|poker|politie|porn|pramerica|praxi|press|prime|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|pub|pwc|qpon|quebec|quest|qvc|racing|raid|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|rocher|rocks|rodeo|rogers|room|rsvp|ruhr|run|rwe|ryukyu|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sbi|sbs|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shopping|shouji|show|showtime|shriram|silk|sina|singles|site|ski|skin|sky|skype|sling|smart|smile|sncf|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|srl|srt|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|sucks|supersport|supplies|supply|support|surf|surgery|suzuki|swatch|swiftcover|swiss|sydney|symantec|systems|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tci|tdk|team|tech|technology|telecity|telefonica|temasek|tennis|teva|thd|theater|theatre|theguardian|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tjmaxx|tjx|tkmaxx|tmall|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|trade|trading|training|travelchannel|travelers|travelersinsurance|trust|trv|tube|tui|tunes|tushu|tvs|ubank|ubs|uconnect|unicom|university|uno|uol|ups|vacations|vana|vanguard|vegas|ventures|verisign|versicherung|vet|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vodka|volkswagen|volvo|vote|voting|voto|voyage|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|कॉम|セール|佛山|慈善|集团|在线|大众汽车|点看|คอม|八卦|موقع|一号店|公益|公司|香格里拉|网站|移动|我爱你|москва|католик|онлайн|сайт|联通|קום|时尚|微博|淡马锡|ファッション|орг|नेट|ストア|삼성|商标|商店|商城|дети|ポイント|新闻|工行|家電|كوم|中文网|中信|娱乐|谷歌|電訊盈科|购物|クラウド|通販|网店|संगठन|餐厅|网络|ком|诺基亚|食品|飞利浦|手表|手机|ارامكو|العليان|اتصالات|بازار|موبايلي|ابوظبي|كاثوليك|همراه|닷컴|政府|شبكة|بيتك|عرب|机构|组织机构|健康|рус|珠宝|大拿|みんな|グーグル|世界|書籍|网址|닷넷|コム|天主教|游戏|vermögensberater|vermögensberatung|企业|信息|嘉里大酒店|嘉里|广东|政务|xperia|xyz|yachts|yahoo|yamaxun|yandex|yodobashi|yoga|yokohama|you|youtube|yun|zappos|zara|zero|zip|zippo|zone|zuerich".split("|"),t={html:!1,wiki:!1,markdown:!1,hashtags:!0,mentions:!0,emails:!0,links:{protocols:!0,www:!1,tlds:{}}},n={nbsp:" ",quot:'"',gt:">",lt:"<",amp:"&",ndash:"–"},i=0;i<e.length;i++)t.links.tlds[e[i]]=!0;var r=function(e,t,n,i,r,a,s,o){this.source=e,this.st=t,this.length=n,this.index=i,this.firstUpper=r,this.allUpper=a,this.type=s,o&&(this.subType=o)};r.prototype.toString=function(){return"_str"in this&&this._str.length==this.length?this._str:this._str=this.source.substr(this.st,this.length)},r.prototype.indexOf=function(e){if(1==e.length){for(var t=0;t<this.length;t++)if(this.source[this.st+t]==e)return t;return-1}return this.toString().indexOf(e)},r.prototype.toLowerCase=function(){return this.toString().toLocaleLowerCase()},r.prototype.isCapitalized=function(){return this.firstUpper&&!this.allUpper},r.prototype.en=function(){return this.st+this.length-1};var a=function(e,n){if(!(this instanceof a))return new a(e,n);this.tokens=[],this.source="","string"==typeof e?(this.config=n?Az.extend(t,n):t,this.append(e)):this.config=e?Az.extend(t,e):t,this.index=-1};function s(){return!0}function o(e,t){if(!e)return s();if("function"==typeof e)return e;var n,i=e;if("length"in e){n=!t,i={};for(var r=0;r<e.length;r++)i[e[r]]=!0}else n=t,t=!1;return function(e,r,a){if(e.subType){var s=e.type+"."+e.subType;if(s in i)return i[s]!=t}return e.type in i?i[e.type]!=t:!n}}return a.WORD=new String("WORD"),a.NUMBER=new String("NUMBER"),a.OTHER=new String("OTHER"),a.DIGIT=new String("DIGIT"),a.CYRIL=new String("CYRIL"),a.LATIN=new String("LATIN"),a.MIXED=new String("MIXED"),a.PUNCT=new String("PUNCT"),a.SPACE=new String("SPACE"),a.MARKUP=new String("MARKUP"),a.NEWLINE=new String("NEWLINE"),a.EMAIL=new String("EMAIL"),a.LINK=new String("LINK"),a.HASHTAG=new String("HASHTAG"),a.MENTION=new String("MENTION"),a.TAG=new String("TAG"),a.CONTENT=new String("CONTENT"),a.SCRIPT=new String("SCRIPT"),a.STYLE=new String("STYLE"),a.COMMENT=new String("COMMENT"),a.CLOSING=new String("CLOSING"),a.TEMPLATE=new String("TEMPLATE"),a.RANGE=new String("RANGE"),a.ENTITY=new String("ENTITY"),a.prototype.append=function(e,i){i=i?Az.extend(this.config,i):this.config,i.links&&!0===i.links.tlds&&(i.links.tlds=t.links.tlds);var s=this.source.length;this.source+=e;for(var o=this.source,l=this.tokens,u=s;u<o.length;u++){var c=o[u],h=o.charCodeAt(u),p=!1,f=l.length-1,m=l[f],d=u;if(i.html&&";"==c)if(f>0&&m.type===a.WORD&&1==l[f-1].length&&"&"==o[l[f-1].st]){var g=m.toLowerCase();g in n&&(c=n[g],h=c.charCodeAt(0),f-=2,m=l[f],l.length=f+1)}else f>1&&(m.type===a.NUMBER||m.type===a.WORD&&"x"==o[m.st])&&1==l[f-1].length&&"#"==o[l[f-1].st]&&1==l[f-1].length&&"&"==o[l[f-1].st]&&(h="x"==o[m.st]?parseInt(m.toString().substr(1),16):parseInt(m.toString(),10),c=String.fromCharCode(h),f-=3,m=l[f],l.length=f+1);var y=a.OTHER,b=c.toLocaleLowerCase()!=c;h>=1024&&h<=1279&&(y=a.CYRIL),(h>=65&&h<=90||h>=97&&h<=122||h>=192&&h<=591)&&(y=a.LATIN),h>=48&&h<=57&&(y=a.DIGIT),(h<=32||h>=128&&h<=160)&&(y=a.SPACE),"‐-−‒–—―.…,:;?!¿¡()[]«»\"'’‘’“”/⁄".indexOf(c)>-1&&(y=a.PUNCT);var v=y,w=!1;y===a.CYRIL||y===a.LATIN?(v=a.WORD,w=y):y===a.DIGIT&&(v=a.NUMBER);var x=!m||"\n"==o[m.st+m.length-1];if(i.wiki&&(x&&":;*#~|".indexOf(c)>-1&&(v=a.MARKUP,w=a.NEWLINE),"={[|]}".indexOf(c)>-1&&(v=a.MARKUP)),i.markdown&&(x&&"=-#>+-".indexOf(c)>-1&&(v=a.MARKUP,w=a.NEWLINE),"[]*~_`\\".indexOf(c)>-1&&(v=a.MARKUP)),m)if(i.wiki&&"'"!=c&&1==m.length&&"'"==o[m.st]&&f>0&&l[f-1].type===a.WORD&&l[f-1].subType===a.LATIN&&(l[f-1].length+=m.length,f-=1,l.length=f+1,m=l[f]),i.links&&i.links.tlds&&(y===a.PUNCT||y===a.SPACE)&&l.length>2&&l[f-2].type===a.WORD&&1==l[f-1].length&&"."==o[l[f-1].st]&&l[f].type===a.WORD&&m.toString()in i.links.tlds){while(f>=2&&l[f-2].type===a.WORD&&1==l[f-1].length&&("."==o[l[f-1].st]||"@"==o[l[f-1].st]||":"==o[l[f-1].st]))f-=2,m=l[f],m.length+=l[f+1].length+l[f+2].length,m.allUpper=m.allUpper&&l[f+1].allUpper&&l[f+2].allUpper;i.emails&&m.indexOf("@")>-1&&-1==m.indexOf(":")?m.type=a.EMAIL:(m.type=a.LINK,"/"==c&&(p=!0)),l.length=f+1}else if(m.type===a.LINK)")"==c&&f>=1&&l[f-1].type===a.MARKUP&&1==l[f-1].length&&"("==o[l[f-1].st]?v=a.MARKUP:y!==a.SPACE&&","!=c&&"<"!=c&&(p=!0);else if(m.type===a.EMAIL)y!==a.CYRIL&&y!==a.LATIN&&"."!=c||(p=!0);else if(m.type===a.HASHTAG||m.type===a.MENTION)(y===a.CYRIL||y==a.LATIN||y==a.DIGIT||"_"==c||"@"==c&&-1==m.indexOf("@"))&&(p=!0);else if(m.type!==a.TAG||!m.quote&&">"==o[m.en()])if(m.type===a.CONTENT)p=!0,m.quote?c==m.quote&&"\\"!=o[m.en()]&&delete m.quote:'"'==c||"'"==c?m.quote=c:">"==c&&(m.length>=8&&"</script"==m.toString().substr(-8)?(m.length-=8,d-=8,p=!1,v=a.TAG,w=a.CLOSING):m.length>=7&&"</style"==m.toString().substr(-7)&&(m.length-=7,d-=7,p=!1,v=a.TAG,w=a.CLOSING));else if(m.type===a.TAG&&m.type!==a.CLOSING&&m.length>=8&&"script"==m.toLowerCase().substr(1,6))v=a.CONTENT,w=a.SCRIPT;else if(m.type===a.TAG&&m.type!==a.CLOSING&&m.length>=7&&"style"==m.toLowerCase().substr(1,5))v=a.CONTENT,w=a.STYLE;else if(!i.html||1!=m.length||"<"!=o[m.st]||y!==a.LATIN&&"!"!=c&&"/"!=c)if(m.type===a.CONTENT)p=!0;else if(m.type!==a.MARKUP||m.subType!=a.TEMPLATE||"}"==o[m.en()]&&"}"==o[m.en()-1]){if(m.type===a.MARKUP&&m.type===a.LINK&&")"!=o[m.en()])p=!0;else if(m.type===a.MARKUP&&"`"==o[m.st]&&m.subType===a.NEWLINE&&y===a.LATIN)p=!0;else if(y===a.CYRIL||y===a.LATIN)m.type===a.WORD?(p=!0,m.subType=m.subType==y?m.subType:a.MIXED):m.type===a.NUMBER?(p=!0,m.subType=m.subType&&m.subType!=y?a.MIXED:y):i.hashtags&&1==m.length&&"#"==o[m.st]?(p=!0,m.type=a.HASHTAG):!i.mentions||1!=m.length||"@"!=o[m.st]||0!=f&&l[f-1].type!==a.SPACE?y!==a.LATIN||1!=m.length||"'"!=o[m.st]&&"’"!=o[m.st]?1==m.length&&"-"==o[m.st]&&(p=!0,f>0&&l[f-1].type===a.NUMBER&&(m=l[f-1],m.length+=l[f].length,l.length-=1),m.type=a.WORD,m.subType=y):(p=!0,m.type=a.WORD,m.subType=a.LATIN):(p=!0,m.type=a.MENTION);else if(y===a.DIGIT)m.type===a.WORD?(p=!0,m.subType=a.MIXED):m.type===a.NUMBER?p=!0:1!=m.length||"+"!=o[m.st]&&"-"!=o[m.st]?1==m.length&&(","==o[m.st]||"."==o[m.st])&&l.length>1&&l[f-1].type===a.NUMBER&&(p=!0,m=l[f-1],m.length+=l[f].length,l.length-=1):(p=!0,f>0&&l[f-1].type===a.NUMBER&&(m=l[f-1],m.length+=l[f].length,m.subType=a.RANGE,l.length-=1),m.type=a.NUMBER);else if(y===a.SPACE)m.type===a.SPACE&&(p=!0);else if(m.type===a.MARKUP&&o[m.st]==c&&"=-~:*#`'>_".indexOf(c)>-1)p=!0;else if("."==c)i.links&&i.links.www&&3==m.length&&"www"==m.toLowerCase()&&(p=!0,m.type=a.LINK);else if(i.wiki&&"'"==c&&"'"==o[m.en()])m.length>1?(m.length--,d--,v=a.MARKUP):(p=!0,m.type=a.MARKUP);else if("-"==c||m.subType==a.LATIN&&("’"==c||"'"==c))m.type===a.WORD&&(p=!0);else if("/"==c)i.links&&i.links.protocols&&l.length>2&&l[f-2].type===a.WORD&&l[f-2].subType==a.LATIN&&1==l[f-1].length&&":"==o[l[f-1].st]&&1==l[f].length&&"/"==o[l[f].st]&&(p=!0,m=l[f-2],m.length+=l[f-1].length+l[f].length,m.allUpper=m.allUpper&&l[f-1].allUpper&&l[f].allUpper,m.type=a.LINK,l.length-=2);else if(i.html&&";"==c)f>0&&m.type===a.WORD&&1==l[f-1].length&&"&"==o[l[f-1].st]?(p=!0,m=l[f-1],m.length+=l[f].length,m.allUpper=m.allUpper&&l[f-1].allUpper,m.type=a.ENTITY,l.length-=1):f>1&&(m.type===a.WORD||m.type===a.NUMBER)&&1==l[f-1].length&&"#"==o[l[f-1].st]&&1==l[f-2].length&&"&"==o[l[f-2].st]&&(p=!0,m=l[f-2],m.length+=l[f-1].length+l[f].length,m.allUpper=m.allUpper&&l[f-1].allUpper&&l[f].allUpper,m.type=a.ENTITY,l.length-=2);else if(i.markdown&&"["==c&&1==m.length&&"!"==o[m.st])p=!0,m.type=a.MARKUP;else if(i.markdown&&"("==c&&1==m.length&&"]"==o[m.st])v=a.MARKUP,w=a.LINK;else if(i.wiki&&"{"==c&&1==m.length&&"{"==o[m.st])p=!0,m.type=a.MARKUP,m.subType=a.TEMPLATE;else if(i.wiki&&"["==c&&1==m.length&&"["==o[m.st])p=!0;else if(i.wiki&&"]"==c&&1==m.length&&"]"==o[m.st])p=!0;else if(i.wiki&&"|"==c&&!x){for(var E=-1,C=f-1;C>=0;C--){if(2==l[C].length&&"["==o[l[C].st]&&"["==o[l[C].st+1]){E=C;break}if(1==l[C].length&&"|"==o[l[C].st]||l[C].indexOf("\n")>-1)break}if(E>-1){p=!0;for(C=f-1;C>=E;C--)m=l[C],m.length+=l[C+1].length,m.allUpper=m.allUpper&&l[C+1].allUpper;f=E,l.length=f+1,m.subType=a.LINK}}}else p=!0;else p=!0,m.type=a.TAG,"!"==c?m.subType=a.COMMENT:"/"==c&&(m.subType=a.CLOSING);else p=!0,m.quote?c==m.quote&&"\\"!=o[m.en()]&&delete m.quote:'"'!=c&&"'"!=c||(m.quote=c);p?(m.length++,m.allUpper=m.allUpper&&b):(m=new r(o,d,u+1-d,l.length,b,b,v,w),l.push(m))}return this},a.prototype.done=function(e,t){if(!e)return this.tokens;for(var n=o(e,t),i=[],r=0;r<this.tokens.length;r++)n(this.tokens[r],r,this.tokens)&&i.push(this.tokens[r]);return i},a.prototype.count=function(e,t){if(!e)return this.tokens.length;for(var n=o(e,t),i=0,r=0;r<this.tokens.length;r++)n(this.tokens[r],r,this.tokens)&&i++;return i},a.prototype.nextToken=function(e,t,n){var i=o(t,n),r=this.index;r++;while(r<this.tokens.length&&i(this.tokens[r],r,this.tokens))r++;return r<this.tokens.length?(e&&(this.index=r),this.tokens[r]):null},a.prototype.punctAhead=function(){var e=this.nextToken(!1,["SPACE"],!0);return e&&"PUNCT"==e.type&&e},a.prototype.prevToken=function(e,t,n){var i=o(t,n),r=this.index;r--;while(r>=0&&i(this.tokens[r],r,this.tokens))r--;return r>=0?(e&&(this.index=r),this.tokens[r]):null},a.prototype.punctBehind=function(){var e=this.prevToken(!1,["SPACE"],!0);return e&&"PUNCT"==e.type&&e},a.prototype.hasTokensAhead=function(e,t){return null!=this.nextToken(!1,e,t)},a.prototype.hasTokensBehind=function(e,t){return null!=this.prevToken(!1,e,t)},a}))}).call(this,"/")},9861:function(e,t,n){"use strict";n("e260");var i=n("23e7"),r=n("da84"),a=n("d066"),s=n("c65b"),o=n("e330"),l=n("0d3b"),u=n("6eeb"),c=n("e2cc"),h=n("d44e"),p=n("9ed39"),f=n("69f3"),m=n("19aa"),d=n("1626"),g=n("1a2d"),y=n("0366"),b=n("f5df"),v=n("825a"),w=n("861d"),x=n("577e"),E=n("7c73"),C=n("5c6c"),A=n("9a1f"),P=n("35a1"),N=n("b622"),S=n("addb"),R=N("iterator"),k="URLSearchParams",T=k+"Iterator",B=f.set,D=f.getterFor(k),M=f.getterFor(T),O=a("fetch"),I=a("Request"),F=a("Headers"),L=I&&I.prototype,U=F&&F.prototype,V=r.RegExp,$=r.TypeError,j=r.decodeURIComponent,_=r.encodeURIComponent,z=o("".charAt),q=o([].join),W=o([].push),G=o("".replace),H=o([].shift),X=o([].splice),K=o("".split),Y=o("".slice),Q=/\+/g,J=Array(4),Z=function(e){return J[e-1]||(J[e-1]=V("((?:%[\\da-f]{2}){"+e+"})","gi"))},ee=function(e){try{return j(e)}catch(t){return e}},te=function(e){var t=G(e,Q," "),n=4;try{return j(t)}catch(i){while(n)t=G(t,Z(n--),ee);return t}},ne=/[!'()~]|%20/g,ie={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},re=function(e){return ie[e]},ae=function(e){return G(_(e),ne,re)},se=function(e,t){if(e<t)throw $("Not enough arguments")},oe=p((function(e,t){B(this,{type:T,iterator:A(D(e).entries),kind:t})}),"Iterator",(function(){var e=M(this),t=e.kind,n=e.iterator.next(),i=n.value;return n.done||(n.value="keys"===t?i.key:"values"===t?i.value:[i.key,i.value]),n}),!0),le=function(e){this.entries=[],this.url=null,void 0!==e&&(w(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===z(e,0)?Y(e,1):e:x(e)))};le.prototype={type:k,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,i,r,a,o,l,u=P(e);if(u){t=A(e,u),n=t.next;while(!(i=s(n,t)).done){if(r=A(v(i.value)),a=r.next,(o=s(a,r)).done||(l=s(a,r)).done||!s(a,r).done)throw $("Expected sequence with length 2");W(this.entries,{key:x(o.value),value:x(l.value)})}}else for(var c in e)g(e,c)&&W(this.entries,{key:c,value:x(e[c])})},parseQuery:function(e){if(e){var t,n,i=K(e,"&"),r=0;while(r<i.length)t=i[r++],t.length&&(n=K(t,"="),W(this.entries,{key:te(H(n)),value:te(q(n,"="))}))}},serialize:function(){var e,t=this.entries,n=[],i=0;while(i<t.length)e=t[i++],W(n,ae(e.key)+"="+ae(e.value));return q(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ue=function(){m(this,ce);var e=arguments.length>0?arguments[0]:void 0;B(this,new le(e))},ce=ue.prototype;if(c(ce,{append:function(e,t){se(arguments.length,2);var n=D(this);W(n.entries,{key:x(e),value:x(t)}),n.updateURL()},delete:function(e){se(arguments.length,1);var t=D(this),n=t.entries,i=x(e),r=0;while(r<n.length)n[r].key===i?X(n,r,1):r++;t.updateURL()},get:function(e){se(arguments.length,1);for(var t=D(this).entries,n=x(e),i=0;i<t.length;i++)if(t[i].key===n)return t[i].value;return null},getAll:function(e){se(arguments.length,1);for(var t=D(this).entries,n=x(e),i=[],r=0;r<t.length;r++)t[r].key===n&&W(i,t[r].value);return i},has:function(e){se(arguments.length,1);var t=D(this).entries,n=x(e),i=0;while(i<t.length)if(t[i++].key===n)return!0;return!1},set:function(e,t){se(arguments.length,1);for(var n,i=D(this),r=i.entries,a=!1,s=x(e),o=x(t),l=0;l<r.length;l++)n=r[l],n.key===s&&(a?X(r,l--,1):(a=!0,n.value=o));a||W(r,{key:s,value:o}),i.updateURL()},sort:function(){var e=D(this);S(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){var t,n=D(this).entries,i=y(e,arguments.length>1?arguments[1]:void 0),r=0;while(r<n.length)t=n[r++],i(t.value,t.key,this)},keys:function(){return new oe(this,"keys")},values:function(){return new oe(this,"values")},entries:function(){return new oe(this,"entries")}},{enumerable:!0}),u(ce,R,ce.entries,{name:"entries"}),u(ce,"toString",(function(){return D(this).serialize()}),{enumerable:!0}),h(ue,k),i({global:!0,forced:!l},{URLSearchParams:ue}),!l&&d(F)){var he=o(U.has),pe=o(U.set),fe=function(e){if(w(e)){var t,n=e.body;if(b(n)===k)return t=e.headers?new F(e.headers):new F,he(t,"content-type")||pe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),E(e,{body:C(0,x(n)),headers:C(0,t)})}return e};if(d(O)&&i({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return O(e,arguments.length>1?fe(arguments[1]):{})}}),d(I)){var me=function(e){return m(this,L),new I(e,arguments.length>1?fe(arguments[1]):{})};L.constructor=me,me.prototype=L,i({global:!0,forced:!0},{Request:me})}}e.exports={URLSearchParams:ue,getState:D}},d61d:function(e,t){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,i=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+n.source+i.source+"*(?::"+n.source+i.source+"*)?$"),a=0,s=1,o=2,l=3,u=4,c=5,h=6,p=7;function f(){}function m(e,t,n,i,r){function a(e){if(e>65535){e-=65536;var t=55296+(e>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function s(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?a(parseInt(t.substr(1).replace("x","0x"))):(r.error("entity not found:"+e),e)}function o(t){if(t>w){var n=e.substring(w,t).replace(/&#?\w+;/g,s);p&&l(w),i.characters(n,0,t-w),w=t}}function l(t,n){while(t>=c&&(n=h.exec(e)))u=n.index,c=u+n[0].length,p.lineNumber++;p.columnNumber=t-u+1}var u=0,c=0,h=/.*(?:\r\n?|\n)|.*$/g,p=i.locator,f=[{currentNSMap:t}],m={},w=0;while(1){try{var A=e.indexOf("<",w);if(A<0){if(!e.substr(w).match(/^\s*$/)){var P=i.doc,N=P.createTextNode(e.substr(w));P.appendChild(N),i.currentElement=N}return}switch(A>w&&o(A),e.charAt(A+1)){case"/":var S=e.indexOf(">",A+3),R=e.substring(A+2,S),k=f.pop();S<0?(R=e.substring(A+2).replace(/[\s<].*/,""),r.error("end tag name: "+R+" is not complete:"+k.tagName),S=A+1+R.length):R.match(/\s</)&&(R=R.replace(/[\s<].*/,""),r.error("end tag name: "+R+" maybe not complete"),S=A+1+R.length);var T=k.localNSMap,B=k.tagName==R,D=B||k.tagName&&k.tagName.toLowerCase()==R.toLowerCase();if(D){if(i.endElement(k.uri,k.localName,R),T)for(var M in T)i.endPrefixMapping(M);B||r.fatalError("end tag name: "+R+" is not match the current start tagName:"+k.tagName)}else f.push(k);S++;break;case"?":p&&l(A),S=E(e,A,i);break;case"!":p&&l(A),S=x(e,A,i,r);break;default:p&&l(A);var O=new C,I=f[f.length-1].currentNSMap,F=(S=g(e,A,O,I,s,r),O.length);if(!O.closed&&v(e,S,O.tagName,m)&&(O.closed=!0,n.nbsp||r.warning("unclosed xml attribute")),p&&F){for(var L=d(p,{}),U=0;U<F;U++){var V=O[U];l(V.offset),V.locator=d(p,{})}i.locator=L,y(O,i,I)&&f.push(O),i.locator=p}else y(O,i,I)&&f.push(O);"http://www.w3.org/1999/xhtml"!==O.uri||O.closed?S++:S=b(e,S,O.tagName,s,i)}}catch($){r.error("element parse error: "+$),S=-1}S>w?w=S:o(Math.max(A,w)+1)}}function d(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function g(e,t,n,i,r,f){var m,d=++t,g=a;while(1){var y=e.charAt(d);switch(y){case"=":if(g===s)m=e.slice(t,d),g=l;else{if(g!==o)throw new Error("attribute equal must after attrName");g=l}break;case"'":case'"':if(g===l||g===s){if(g===s&&(f.warning('attribute value must after "="'),m=e.slice(t,d)),t=d+1,d=e.indexOf(y,t),!(d>0))throw new Error("attribute value no end '"+y+"' match");b=e.slice(t,d).replace(/&#?\w+;/g,r),n.add(m,b,t-1),g=c}else{if(g!=u)throw new Error('attribute value must after "="');b=e.slice(t,d).replace(/&#?\w+;/g,r),n.add(m,b,t),f.warning('attribute "'+m+'" missed start quot('+y+")!!"),t=d+1,g=c}break;case"/":switch(g){case a:n.setTagName(e.slice(t,d));case c:case h:case p:g=p,n.closed=!0;case u:case s:case o:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return f.error("unexpected end of input"),g==a&&n.setTagName(e.slice(t,d)),d;case">":switch(g){case a:n.setTagName(e.slice(t,d));case c:case h:case p:break;case u:case s:b=e.slice(t,d),"/"===b.slice(-1)&&(n.closed=!0,b=b.slice(0,-1));case o:g===o&&(b=m),g==u?(f.warning('attribute "'+b+'" missed quot(")!!'),n.add(m,b.replace(/&#?\w+;/g,r),t)):("http://www.w3.org/1999/xhtml"===i[""]&&b.match(/^(?:disabled|checked|selected)$/i)||f.warning('attribute "'+b+'" missed value!! "'+b+'" instead!!'),n.add(b,b,t));break;case l:throw new Error("attribute value missed!!")}return d;case"":y=" ";default:if(y<=" ")switch(g){case a:n.setTagName(e.slice(t,d)),g=h;break;case s:m=e.slice(t,d),g=o;break;case u:var b=e.slice(t,d).replace(/&#?\w+;/g,r);f.warning('attribute "'+b+'" missed quot(")!!'),n.add(m,b,t);case c:g=h;break}else switch(g){case o:n.tagName;"http://www.w3.org/1999/xhtml"===i[""]&&m.match(/^(?:disabled|checked|selected)$/i)||f.warning('attribute "'+m+'" missed value!! "'+m+'" instead2!!'),n.add(m,m,t),t=d,g=s;break;case c:f.warning('attribute space is required"'+m+'"!!');case h:g=s,t=d;break;case l:g=u,t=d;break;case p:throw new Error("elements closed character '/' and '>' must be connected to")}}d++}}function y(e,t,n){var i=e.tagName,r=null,a=e.length;while(a--){var s=e[a],o=s.qName,l=s.value,u=o.indexOf(":");if(u>0)var c=s.prefix=o.slice(0,u),h=o.slice(u+1),p="xmlns"===c&&h;else h=o,c=null,p="xmlns"===o&&"";s.localName=h,!1!==p&&(null==r&&(r={},w(n,n={})),n[p]=r[p]=l,s.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(p,l))}a=e.length;while(a--){s=e[a];c=s.prefix;c&&("xml"===c&&(s.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==c&&(s.uri=n[c||""]))}u=i.indexOf(":");u>0?(c=e.prefix=i.slice(0,u),h=e.localName=i.slice(u+1)):(c=null,h=e.localName=i);var f=e.uri=n[c||""];if(t.startElement(f,h,i,e),!e.closed)return e.currentNSMap=n,e.localNSMap=r,!0;if(t.endElement(f,h,i),r)for(c in r)t.endPrefixMapping(c)}function b(e,t,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var a=e.indexOf("</"+n+">",t),s=e.substring(t+1,a);if(/[&<]/.test(s))return/^script$/i.test(n)?(r.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,i),r.characters(s,0,s.length),a)}return t+1}function v(e,t,n,i){var r=i[n];return null==r&&(r=e.lastIndexOf("</"+n+">"),r<t&&(r=e.lastIndexOf("</"+n)),i[n]=r),r<t}function w(e,t){for(var n in e)t[n]=e[n]}function x(e,t,n,i){var r=e.charAt(t+2);switch(r){case"-":if("-"===e.charAt(t+3)){var a=e.indexOf("--\x3e",t+4);return a>t?(n.comment(e,t+4,a-t-4),a+3):(i.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==e.substr(t+3,6)){a=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,a-t-9),n.endCDATA(),a+3}var s=P(e,t),o=s.length;if(o>1&&/!doctype/i.test(s[0][0])){var l=s[1][0],u=o>3&&/^public$/i.test(s[2][0])&&s[3][0],c=o>4&&s[4][0],h=s[o-1];return n.startDTD(l,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),c&&c.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),h.index+h[0].length}}return-1}function E(e,t,n){var i=e.indexOf("?>",t);if(i){var r=e.substring(t,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(r){r[0].length;return n.processingInstruction(r[1],r[2]),i+2}return-1}return-1}function C(e){}function A(e,t){return e.__proto__=t,e}function P(e,t){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;r.lastIndex=t,r.exec(e);while(n=r.exec(e))if(i.push(n),n[1])return i}f.prototype={parse:function(e,t,n){var i=this.domBuilder;i.startDocument(),w(t,t={}),m(e,t,n,i,this.errorHandler),i.endDocument()}},C.prototype={setTagName:function(e){if(!r.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!r.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},A({},A.prototype)instanceof A||(A=function(e,t){function n(){}for(t in n.prototype=t,n=new n,e)n[t]=e[t];return n}),t.XMLReader=f},ddf8:function(e,t){e.exports=function(e){this.ok=!1,this.alpha=1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};e=t[e]||e;for(var n=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseFloat(e[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],i=0;i<n.length;i++){var r=n[i].re,a=n[i].process,s=r.exec(e);if(s){var o=a(s);this.r=o[0],this.g=o[1],this.b=o[2],o.length>3&&(this.alpha=o[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n},this.getHelpXML=function(){for(var e=new Array,i=0;i<n.length;i++)for(var r=n[i].example,a=0;a<r.length;a++)e[e.length]=r[a];for(var s in t)e[e.length]=s;var o=document.createElement("ul");o.setAttribute("id","rgbcolor-examples");for(i=0;i<e.length;i++)try{var l=document.createElement("li"),u=new RGBColor(e[i]),c=document.createElement("div");c.style.cssText="margin: 3px; border: 1px solid black; background:"+u.toHex()+"; color:"+u.toHex(),c.appendChild(document.createTextNode("test"));var h=document.createTextNode(" "+e[i]+" -> "+u.toRGB()+" -> "+u.toHex());l.appendChild(c),l.appendChild(h),o.appendChild(l)}catch(p){}return o}}},f40d:function(e,t,n){}}]);
//# sourceMappingURL=chunk-191d2cae.d4759fcd.js.map